"use strict";var Rs=Object.create;var _n=Object.defineProperty;var Bs=Object.getOwnPropertyDescriptor;var Hs=Object.getOwnPropertyNames;var zs=Object.getPrototypeOf,Vs=Object.prototype.hasOwnProperty;var Fe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qs=(t,e)=>{for(var n in e)_n(t,n,{get:e[n],enumerable:!0})},gi=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Hs(e))!Vs.call(t,i)&&i!==n&&_n(t,i,{get:()=>e[i],enumerable:!(r=Bs(e,i))||r.enumerable});return t};var de=(t,e,n)=>(n=t!=null?Rs(zs(t)):{},gi(e||!t||!t.__esModule?_n(n,"default",{value:t,enumerable:!0}):n,t)),Gs=t=>gi(_n({},"__esModule",{value:!0}),t);var Vi=Fe(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});function It(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function me(t){var e=It(t).Element;return t instanceof e||t instanceof Element}function Pt(t){var e=It(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function wr(t){if(typeof ShadowRoot>"u")return!1;var e=It(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var he=Math.max,Tn=Math.min,Se=Math.round;function yr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Oi(){return!/^((?!chrome|android).)*safari/i.test(yr())}function Ce(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Pt(t)&&(i=t.offsetWidth>0&&Se(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Se(r.height)/t.offsetHeight||1);var a=me(t)?It(t):window,s=a.visualViewport,u=!Oi()&&n,c=(r.left+(u&&s?s.offsetLeft:0))/i,l=(r.top+(u&&s?s.offsetTop:0))/o,v=r.width/i,x=r.height/o;return{width:v,height:x,top:l,right:c+v,bottom:l+x,left:c,x:c,y:l}}function br(t){var e=It(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Fs(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function js(t){return t===It(t)||!Pt(t)?br(t):Fs(t)}function Ft(t){return t?(t.nodeName||"").toLowerCase():null}function re(t){return((me(t)?t.ownerDocument:t.document)||window.document).documentElement}function _r(t){return Ce(re(t)).left+br(t).scrollLeft}function Qt(t){return It(t).getComputedStyle(t)}function Mr(t){var e=Qt(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Xs(t){var e=t.getBoundingClientRect(),n=Se(e.width)/t.offsetWidth||1,r=Se(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Us(t,e,n){n===void 0&&(n=!1);var r=Pt(e),i=Pt(e)&&Xs(e),o=re(e),a=Ce(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Ft(e)!=="body"||Mr(o))&&(s=js(e)),Pt(e)?(u=Ce(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=_r(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Er(t){var e=Ce(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function On(t){return Ft(t)==="html"?t:t.assignedSlot||t.parentNode||(wr(t)?t.host:null)||re(t)}function Ai(t){return["html","body","#document"].indexOf(Ft(t))>=0?t.ownerDocument.body:Pt(t)&&Mr(t)?t:Ai(On(t))}function Xe(t,e){var n;e===void 0&&(e=[]);var r=Ai(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=It(r),a=i?[o].concat(o.visualViewport||[],Mr(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Xe(On(a)))}function Ws(t){return["table","td","th"].indexOf(Ft(t))>=0}function vi(t){return!Pt(t)||Qt(t).position==="fixed"?null:t.offsetParent}function Ys(t){var e=/firefox/i.test(yr()),n=/Trident/i.test(yr());if(n&&Pt(t)){var r=Qt(t);if(r.position==="fixed")return null}var i=On(t);for(wr(i)&&(i=i.host);Pt(i)&&["html","body"].indexOf(Ft(i))<0;){var o=Qt(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ye(t){for(var e=It(t),n=vi(t);n&&Ws(n)&&Qt(n).position==="static";)n=vi(n);return n&&(Ft(n)==="html"||Ft(n)==="body"&&Qt(n).position==="static")?e:n||Ys(t)||e}var Ot="top",Nt="bottom",Lt="right",At="left",Tr="auto",Ke=[Ot,Nt,Lt,At],ke="start",We="end",Ks="clippingParents",Si="viewport",je="popper",Qs="reference",yi=Ke.reduce(function(t,e){return t.concat([e+"-"+ke,e+"-"+We])},[]),Ci=[].concat(Ke,[Tr]).reduce(function(t,e){return t.concat([e,e+"-"+ke,e+"-"+We])},[]),Zs="beforeRead",Js="read",tu="afterRead",eu="beforeMain",nu="main",ru="afterMain",iu="beforeWrite",ou="write",au="afterWrite",su=[Zs,Js,tu,eu,nu,ru,iu,ou,au];function uu(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function fu(t){var e=uu(t);return su.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function lu(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function cu(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function pu(t,e){var n=It(t),r=re(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var c=Oi();(c||!c&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+_r(t),y:u}}function du(t){var e,n=re(t),r=br(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=he(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=he(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+_r(t),u=-r.scrollTop;return Qt(i||n).direction==="rtl"&&(s+=he(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function ki(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&wr(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hu(t,e){var n=Ce(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xi(t,e,n){return e===Si?xr(pu(t,n)):me(e)?hu(e,n):xr(du(re(t)))}function mu(t){var e=Xe(On(t)),n=["absolute","fixed"].indexOf(Qt(t).position)>=0,r=n&&Pt(t)?Ye(t):t;return me(r)?e.filter(function(i){return me(i)&&ki(i,r)&&Ft(i)!=="body"}):[]}function gu(t,e,n,r){var i=e==="clippingParents"?mu(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,c){var l=xi(t,c,r);return u.top=he(l.top,u.top),u.right=Tn(l.right,u.right),u.bottom=Tn(l.bottom,u.bottom),u.left=he(l.left,u.left),u},xi(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Gt(t){return t.split("-")[0]}function Ie(t){return t.split("-")[1]}function Or(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ii(t){var e=t.reference,n=t.element,r=t.placement,i=r?Gt(r):null,o=r?Ie(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(i){case Ot:u={x:a,y:e.y-n.height};break;case Nt:u={x:a,y:e.y+e.height};break;case Lt:u={x:e.x+e.width,y:s};break;case At:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var c=i?Or(i):null;if(c!=null){var l=c==="y"?"height":"width";switch(o){case ke:u[c]=u[c]-(e[l]/2-n[l]/2);break;case We:u[c]=u[c]+(e[l]/2-n[l]/2);break}}return u}function Di(){return{top:0,right:0,bottom:0,left:0}}function Pi(t){return Object.assign({},Di(),t)}function Ni(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}function De(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?Ks:s,c=n.rootBoundary,l=c===void 0?Si:c,v=n.elementContext,x=v===void 0?je:v,b=n.altBoundary,O=b===void 0?!1:b,T=n.padding,S=T===void 0?0:T,E=Pi(typeof S!="number"?S:Ni(S,Ke)),C=x===je?Qs:je,L=t.rects.popper,h=t.elements[O?C:x],I=gu(me(h)?h:h.contextElement||re(t.elements.popper),u,l,a),A=Ce(t.elements.reference),w=Ii({reference:A,element:L,strategy:"absolute",placement:i}),k=xr(Object.assign({},L,w)),$=x===je?k:A,P={top:I.top-$.top+E.top,bottom:$.bottom-I.bottom+E.bottom,left:I.left-$.left+E.left,right:$.right-I.right+E.right},B=t.modifiersData.offset;if(x===je&&B){var z=B[i];Object.keys(P).forEach(function(q){var j=[Lt,Nt].indexOf(q)>=0?1:-1,Z=[Ot,Nt].indexOf(q)>=0?"y":"x";P[q]+=z[Z]*j})}return P}var wi={placement:"bottom",modifiers:[],strategy:"absolute"};function bi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ar(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?wi:i;return function(s,u,c){c===void 0&&(c=o);var l={placement:"bottom",orderedModifiers:[],options:Object.assign({},wi,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},v=[],x=!1,b={state:l,setOptions:function(E){var C=typeof E=="function"?E(l.options):E;T(),l.options=Object.assign({},o,l.options,C),l.scrollParents={reference:me(s)?Xe(s):s.contextElement?Xe(s.contextElement):[],popper:Xe(u)};var L=fu(cu([].concat(r,l.options.modifiers)));return l.orderedModifiers=L.filter(function(h){return h.enabled}),O(),b.update()},forceUpdate:function(){if(!x){var E=l.elements,C=E.reference,L=E.popper;if(bi(C,L)){l.rects={reference:Us(C,Ye(L),l.options.strategy==="fixed"),popper:Er(L)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(P){return l.modifiersData[P.name]=Object.assign({},P.data)});for(var h=0;h<l.orderedModifiers.length;h++){if(l.reset===!0){l.reset=!1,h=-1;continue}var I=l.orderedModifiers[h],A=I.fn,w=I.options,k=w===void 0?{}:w,$=I.name;typeof A=="function"&&(l=A({state:l,options:k,name:$,instance:b})||l)}}}},update:lu(function(){return new Promise(function(S){b.forceUpdate(),S(l)})}),destroy:function(){T(),x=!0}};if(!bi(s,u))return b;b.setOptions(c).then(function(S){!x&&c.onFirstUpdate&&c.onFirstUpdate(S)});function O(){l.orderedModifiers.forEach(function(S){var E=S.name,C=S.options,L=C===void 0?{}:C,h=S.effect;if(typeof h=="function"){var I=h({state:l,name:E,instance:b,options:L}),A=function(){};v.push(I||A)}})}function T(){v.forEach(function(S){return S()}),v=[]}return b}}var Mn={passive:!0};function vu(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=It(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(l){l.addEventListener("scroll",n.update,Mn)}),s&&u.addEventListener("resize",n.update,Mn),function(){o&&c.forEach(function(l){l.removeEventListener("scroll",n.update,Mn)}),s&&u.removeEventListener("resize",n.update,Mn)}}var Sr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vu,data:{}};function yu(t){var e=t.state,n=t.name;e.modifiersData[n]=Ii({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Cr={name:"popperOffsets",enabled:!0,phase:"read",fn:yu,data:{}},xu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wu(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Se(n*i)/i||0,y:Se(r*i)/i||0}}function _i(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,c=t.adaptive,l=t.roundOffsets,v=t.isFixed,x=a.x,b=x===void 0?0:x,O=a.y,T=O===void 0?0:O,S=typeof l=="function"?l({x:b,y:T}):{x:b,y:T};b=S.x,T=S.y;var E=a.hasOwnProperty("x"),C=a.hasOwnProperty("y"),L=At,h=Ot,I=window;if(c){var A=Ye(n),w="clientHeight",k="clientWidth";if(A===It(n)&&(A=re(n),Qt(A).position!=="static"&&s==="absolute"&&(w="scrollHeight",k="scrollWidth")),A=A,i===Ot||(i===At||i===Lt)&&o===We){h=Nt;var $=v&&A===I&&I.visualViewport?I.visualViewport.height:A[w];T-=$-r.height,T*=u?1:-1}if(i===At||(i===Ot||i===Nt)&&o===We){L=Lt;var P=v&&A===I&&I.visualViewport?I.visualViewport.width:A[k];b-=P-r.width,b*=u?1:-1}}var B=Object.assign({position:s},c&&xu),z=l===!0?wu({x:b,y:T},It(n)):{x:b,y:T};if(b=z.x,T=z.y,u){var q;return Object.assign({},B,(q={},q[h]=C?"0":"",q[L]=E?"0":"",q.transform=(I.devicePixelRatio||1)<=1?"translate("+b+"px, "+T+"px)":"translate3d("+b+"px, "+T+"px, 0)",q))}return Object.assign({},B,(e={},e[h]=C?T+"px":"",e[L]=E?b+"px":"",e.transform="",e))}function bu(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,c={placement:Gt(e.placement),variation:Ie(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_i(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_i(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var kr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bu,data:{}};function _u(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Pt(o)||!Ft(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Mu(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(u,c){return u[c]="",u},{});!Pt(i)||!Ft(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}var Ir={name:"applyStyles",enabled:!0,phase:"write",fn:_u,effect:Mu,requires:["computeStyles"]};function Eu(t,e,n){var r=Gt(t),i=[At,Ot].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[At,Lt].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Tu(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=Ci.reduce(function(l,v){return l[v]=Eu(v,e.rects,o),l},{}),s=a[e.placement],u=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=a}var Li={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tu},Ou={left:"right",right:"left",bottom:"top",top:"bottom"};function En(t){return t.replace(/left|right|bottom|top/g,function(e){return Ou[e]})}var Au={start:"end",end:"start"};function Mi(t){return t.replace(/start|end/g,function(e){return Au[e]})}function Su(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?Ci:u,l=Ie(r),v=l?s?yi:yi.filter(function(O){return Ie(O)===l}):Ke,x=v.filter(function(O){return c.indexOf(O)>=0});x.length===0&&(x=v);var b=x.reduce(function(O,T){return O[T]=De(t,{placement:T,boundary:i,rootBoundary:o,padding:a})[Gt(T)],O},{});return Object.keys(b).sort(function(O,T){return b[O]-b[T]})}function Cu(t){if(Gt(t)===Tr)return[];var e=En(t);return[Mi(t),e,Mi(e)]}function ku(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,c=n.padding,l=n.boundary,v=n.rootBoundary,x=n.altBoundary,b=n.flipVariations,O=b===void 0?!0:b,T=n.allowedAutoPlacements,S=e.options.placement,E=Gt(S),C=E===S,L=u||(C||!O?[En(S)]:Cu(S)),h=[S].concat(L).reduce(function(at,ht){return at.concat(Gt(ht)===Tr?Su(e,{placement:ht,boundary:l,rootBoundary:v,padding:c,flipVariations:O,allowedAutoPlacements:T}):ht)},[]),I=e.rects.reference,A=e.rects.popper,w=new Map,k=!0,$=h[0],P=0;P<h.length;P++){var B=h[P],z=Gt(B),q=Ie(B)===ke,j=[Ot,Nt].indexOf(z)>=0,Z=j?"width":"height",tt=De(e,{placement:B,boundary:l,rootBoundary:v,altBoundary:x,padding:c}),et=j?q?Lt:At:q?Nt:Ot;I[Z]>A[Z]&&(et=En(et));var G=En(et),lt=[];if(o&&lt.push(tt[z]<=0),s&&lt.push(tt[et]<=0,tt[G]<=0),lt.every(function(at){return at})){$=B,k=!1;break}w.set(B,lt)}if(k)for(var ct=O?3:1,nt=function(ht){var st=h.find(function(Rt){var Y=w.get(Rt);if(Y)return Y.slice(0,ht).every(function(Dt){return Dt})});if(st)return $=st,"break"},Q=ct;Q>0;Q--){var dt=nt(Q);if(dt==="break")break}e.placement!==$&&(e.modifiersData[r]._skip=!0,e.placement=$,e.reset=!0)}}var $i={name:"flip",enabled:!0,phase:"main",fn:ku,requiresIfExists:["offset"],data:{_skip:!1}};function Iu(t){return t==="x"?"y":"x"}function Ue(t,e,n){return he(t,Tn(e,n))}function Du(t,e,n){var r=Ue(t,e,n);return r>n?n:r}function Pu(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,v=n.padding,x=n.tether,b=x===void 0?!0:x,O=n.tetherOffset,T=O===void 0?0:O,S=De(e,{boundary:u,rootBoundary:c,padding:v,altBoundary:l}),E=Gt(e.placement),C=Ie(e.placement),L=!C,h=Or(E),I=Iu(h),A=e.modifiersData.popperOffsets,w=e.rects.reference,k=e.rects.popper,$=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,P=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(A){if(o){var q,j=h==="y"?Ot:At,Z=h==="y"?Nt:Lt,tt=h==="y"?"height":"width",et=A[h],G=et+S[j],lt=et-S[Z],ct=b?-k[tt]/2:0,nt=C===ke?w[tt]:k[tt],Q=C===ke?-k[tt]:-w[tt],dt=e.elements.arrow,at=b&&dt?Er(dt):{width:0,height:0},ht=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Di(),st=ht[j],Rt=ht[Z],Y=Ue(0,w[tt],at[tt]),Dt=L?w[tt]/2-ct-Y-st-P.mainAxis:nt-Y-st-P.mainAxis,Mt=L?-w[tt]/2+ct+Y+Rt+P.mainAxis:Q+Y+Rt+P.mainAxis,Ct=e.elements.arrow&&Ye(e.elements.arrow),Ut=Ct?h==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,kt=(q=B?.[h])!=null?q:0,V=et+Dt-kt-Ut,xt=et+Mt-kt,rt=Ue(b?Tn(G,V):G,et,b?he(lt,xt):lt);A[h]=rt,z[h]=rt-et}if(s){var wt,Bt=h==="x"?Ot:At,Et=h==="x"?Nt:Lt,pt=A[I],ut=I==="y"?"height":"width",it=pt+S[Bt],Wt=pt-S[Et],le=[Ot,At].indexOf(E)!==-1,Me=(wt=B?.[I])!=null?wt:0,ce=le?it:pt-w[ut]-k[ut]-Me+P.altAxis,Ee=le?pt+w[ut]+k[ut]-Me-P.altAxis:Wt,Te=b&&le?Du(ce,pt,Ee):Ue(b?ce:it,pt,b?Ee:Wt);A[I]=Te,z[I]=Te-pt}e.modifiersData[r]=z}}var Ri={name:"preventOverflow",enabled:!0,phase:"main",fn:Pu,requiresIfExists:["offset"]},Nu=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Pi(typeof e!="number"?e:Ni(e,Ke))};function Lu(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Gt(n.placement),u=Or(s),c=[At,Lt].indexOf(s)>=0,l=c?"height":"width";if(!(!o||!a)){var v=Nu(i.padding,n),x=Er(o),b=u==="y"?Ot:At,O=u==="y"?Nt:Lt,T=n.rects.reference[l]+n.rects.reference[u]-a[u]-n.rects.popper[l],S=a[u]-n.rects.reference[u],E=Ye(o),C=E?u==="y"?E.clientHeight||0:E.clientWidth||0:0,L=T/2-S/2,h=v[b],I=C-x[l]-v[O],A=C/2-x[l]/2+L,w=Ue(h,A,I),k=u;n.modifiersData[r]=(e={},e[k]=w,e.centerOffset=w-A,e)}}function $u(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||ki(e.elements.popper,i)&&(e.elements.arrow=i))}var Bi={name:"arrow",enabled:!0,phase:"main",fn:Lu,effect:$u,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ei(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ti(t){return[Ot,Lt,Nt,At].some(function(e){return t[e]>=0})}function Ru(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=De(e,{elementContext:"reference"}),s=De(e,{altBoundary:!0}),u=Ei(a,r),c=Ei(s,i,o),l=Ti(u),v=Ti(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":v})}var Hi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ru},Bu=[Sr,Cr,kr,Ir],Hu=Ar({defaultModifiers:Bu}),zi=[Sr,Cr,kr,Ir,Li,$i,Ri,Bi,Hi],zu=Ar({defaultModifiers:zi});yt.applyStyles=Ir;yt.arrow=Bi;yt.computeStyles=kr;yt.createPopper=zu;yt.createPopperLite=Hu;yt.defaultModifiers=zi;yt.detectOverflow=De;yt.eventListeners=Sr;yt.flip=$i;yt.hide=Hi;yt.offset=Li;yt.popperGenerator=Ar;yt.popperOffsets=Cr;yt.preventOverflow=Ri});var go=Fe(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});var Zi=Vi(),Vu='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',qu="tippy-box",Ji="tippy-content",to="tippy-backdrop",eo="tippy-arrow",no="tippy-svg-arrow",ie={passive:!0,capture:!0},ro=function(){return document.body};function Gu(t,e){return{}.hasOwnProperty.call(t,e)}function Dr(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Rr(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function io(t,e){return typeof t=="function"?t.apply(void 0,e):t}function qi(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Br(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function Fu(t){return t.split(/\s+/).filter(Boolean)}function oe(t){return[].concat(t)}function Gi(t,e){t.indexOf(e)===-1&&t.push(e)}function ju(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function oo(t){return t.split("-")[0]}function Ne(t){return[].slice.call(t)}function Fi(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ge(){return document.createElement("div")}function Qe(t){return["Element","Fragment"].some(function(e){return Rr(t,e)})}function Xu(t){return Rr(t,"NodeList")}function Hr(t){return Rr(t,"MouseEvent")}function ao(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Uu(t){return Qe(t)?[t]:Xu(t)?Ne(t):Array.isArray(t)?t:Ne(document.querySelectorAll(t))}function Pr(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Ze(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function so(t){var e,n=oe(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Wu(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,u=s.interactiveBorder,c=oo(a.placement),l=a.modifiersData.offset;if(!l)return!0;var v=c==="bottom"?l.top.y:0,x=c==="top"?l.bottom.y:0,b=c==="right"?l.left.x:0,O=c==="left"?l.right.x:0,T=o.top-r+v>u,S=r-o.bottom-x>u,E=o.left-n+b>u,C=n-o.right-O>u;return T||S||E||C})}function Nr(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function ji(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var jt={isTouch:!1},Xi=0;function Yu(){jt.isTouch||(jt.isTouch=!0,window.performance&&document.addEventListener("mousemove",uo))}function uo(){var t=performance.now();t-Xi<20&&(jt.isTouch=!1,document.removeEventListener("mousemove",uo)),Xi=t}function Ku(){var t=document.activeElement;if(ao(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Qu(){document.addEventListener("touchstart",Yu,ie),window.addEventListener("blur",Ku)}var Zu=typeof window<"u"&&typeof document<"u",Ju=Zu?!!window.msCrypto:!1;function Pe(t){var e=t==="destroy"?"n already-":" ";return[t+"() was called on a"+e+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Ui(t){var e=/[ \t]{2,}/g,n=/^[ \t]*/gm;return t.replace(e," ").replace(n,"").trim()}function tf(t){return Ui(`
  %ctippy.js

  %c`+Ui(t)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function fo(t){return[tf(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Je;process.env.NODE_ENV!=="production"&&ef();function ef(){Je=new Set}function Zt(t,e){if(t&&!Je.has(e)){var n;Je.add(e),(n=console).warn.apply(n,fo(e))}}function Le(t,e){if(t&&!Je.has(e)){var n;Je.add(e),(n=console).error.apply(n,fo(e))}}function nf(t){var e=!t,n=Object.prototype.toString.call(t)==="[object Object]"&&!t.addEventListener;Le(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Le(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var lo={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},rf={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},bt=Object.assign({appendTo:ro,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},lo,rf),of=Object.keys(bt),af=function(e){process.env.NODE_ENV!=="production"&&po(e,[]);var n=Object.keys(e);n.forEach(function(r){bt[r]=e[r]})};function co(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=t[o]!==void 0?t[o]:(s=bt[o])!=null?s:a}return r},{});return Object.assign({},t,n)}function sf(t,e){var n=e?Object.keys(co(Object.assign({},bt,{plugins:e}))):of,r=n.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function Wi(t,e){var n=Object.assign({},e,{content:io(e.content,[t])},e.ignoreAttributes?{}:sf(t,e.plugins));return n.aria=Object.assign({},bt.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}function po(t,e){t===void 0&&(t={}),e===void 0&&(e=[]);var n=Object.keys(t);n.forEach(function(r){var i=Br(bt,Object.keys(lo)),o=!Gu(i,r);o&&(o=e.filter(function(a){return a.name===r}).length===0),Zt(o,["`"+r+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var uf=function(){return"innerHTML"};function Lr(t,e){t[uf()]=e}function Yi(t){var e=ge();return t===!0?e.className=eo:(e.className=no,Qe(t)?e.appendChild(t):Lr(e,t)),e}function Ki(t,e){Qe(e.content)?(Lr(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Lr(t,e.content):t.textContent=e.content)}function kn(t){var e=t.firstElementChild,n=Ne(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Ji)}),arrow:n.find(function(r){return r.classList.contains(eo)||r.classList.contains(no)}),backdrop:n.find(function(r){return r.classList.contains(to)})}}function ho(t){var e=ge(),n=ge();n.className=qu,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ge();r.className=Ji,r.setAttribute("data-state","hidden"),Ki(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,a){var s=kn(e),u=s.box,c=s.content,l=s.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Ki(c,t.props),a.arrow?l?o.arrow!==a.arrow&&(u.removeChild(l),u.appendChild(Yi(a.arrow))):u.appendChild(Yi(a.arrow)):l&&u.removeChild(l)}return{popper:e,onUpdate:i}}ho.$$tippy=!0;var ff=1,An=[],Cn=[];function lf(t,e){var n=Wi(t,Object.assign({},bt,co(Fi(e)))),r,i,o,a=!1,s=!1,u=!1,c=!1,l,v,x,b=[],O=qi(V,n.interactiveDebounce),T,S=ff++,E=null,C=ju(n.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},h={id:S,reference:t,popper:ge(),popperInstance:E,props:n,state:L,plugins:C,clearDelayTimeouts:ce,setProps:Ee,setContent:Te,show:cr,hide:pr,hideWithInteractivity:wn,enable:le,disable:Me,unmount:dr,destroy:hr};if(!n.render)return process.env.NODE_ENV!=="production"&&Le(!0,"render() function has not been supplied."),h;var I=n.render(h),A=I.popper,w=I.onUpdate;A.setAttribute("data-tippy-root",""),A.id="tippy-"+h.id,h.popper=A,t._tippy=h,A._tippy=h;var k=C.map(function(_){return _.fn(h)}),$=t.hasAttribute("aria-expanded");return Ct(),ct(),et(),G("onCreate",[h]),n.showOnCreate&&it(),A.addEventListener("mouseenter",function(){h.props.interactive&&h.state.isVisible&&h.clearDelayTimeouts()}),A.addEventListener("mouseleave",function(){h.props.interactive&&h.props.trigger.indexOf("mouseenter")>=0&&j().addEventListener("mousemove",O)}),h;function P(){var _=h.props.touch;return Array.isArray(_)?_:[_,0]}function B(){return P()[0]==="hold"}function z(){var _;return!!((_=h.props.render)!=null&&_.$$tippy)}function q(){return T||t}function j(){var _=q().parentNode;return _?so(_):document}function Z(){return kn(A)}function tt(_){return h.state.isMounted&&!h.state.isVisible||jt.isTouch||l&&l.type==="focus"?0:Dr(h.props.delay,_?0:1,bt.delay)}function et(_){_===void 0&&(_=!1),A.style.pointerEvents=h.props.interactive&&!_?"":"none",A.style.zIndex=""+h.props.zIndex}function G(_,N,R){if(R===void 0&&(R=!0),k.forEach(function(F){F[_]&&F[_].apply(F,N)}),R){var U;(U=h.props)[_].apply(U,N)}}function lt(){var _=h.props.aria;if(_.content){var N="aria-"+_.content,R=A.id,U=oe(h.props.triggerTarget||t);U.forEach(function(F){var mt=F.getAttribute(N);if(h.state.isVisible)F.setAttribute(N,mt?mt+" "+R:R);else{var Tt=mt&&mt.replace(R,"").trim();Tt?F.setAttribute(N,Tt):F.removeAttribute(N)}})}}function ct(){if(!($||!h.props.aria.expanded)){var _=oe(h.props.triggerTarget||t);_.forEach(function(N){h.props.interactive?N.setAttribute("aria-expanded",h.state.isVisible&&N===q()?"true":"false"):N.removeAttribute("aria-expanded")})}}function nt(){j().removeEventListener("mousemove",O),An=An.filter(function(_){return _!==O})}function Q(_){if(!(jt.isTouch&&(u||_.type==="mousedown"))){var N=_.composedPath&&_.composedPath()[0]||_.target;if(!(h.props.interactive&&ji(A,N))){if(oe(h.props.triggerTarget||t).some(function(R){return ji(R,N)})){if(jt.isTouch||h.state.isVisible&&h.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[h,_]);h.props.hideOnClick===!0&&(h.clearDelayTimeouts(),h.hide(),s=!0,setTimeout(function(){s=!1}),h.state.isMounted||st())}}}function dt(){u=!0}function at(){u=!1}function ht(){var _=j();_.addEventListener("mousedown",Q,!0),_.addEventListener("touchend",Q,ie),_.addEventListener("touchstart",at,ie),_.addEventListener("touchmove",dt,ie)}function st(){var _=j();_.removeEventListener("mousedown",Q,!0),_.removeEventListener("touchend",Q,ie),_.removeEventListener("touchstart",at,ie),_.removeEventListener("touchmove",dt,ie)}function Rt(_,N){Dt(_,function(){!h.state.isVisible&&A.parentNode&&A.parentNode.contains(A)&&N()})}function Y(_,N){Dt(_,N)}function Dt(_,N){var R=Z().box;function U(F){F.target===R&&(Nr(R,"remove",U),N())}if(_===0)return N();Nr(R,"remove",v),Nr(R,"add",U),v=U}function Mt(_,N,R){R===void 0&&(R=!1);var U=oe(h.props.triggerTarget||t);U.forEach(function(F){F.addEventListener(_,N,R),b.push({node:F,eventType:_,handler:N,options:R})})}function Ct(){B()&&(Mt("touchstart",kt,{passive:!0}),Mt("touchend",xt,{passive:!0})),Fu(h.props.trigger).forEach(function(_){if(_!=="manual")switch(Mt(_,kt),_){case"mouseenter":Mt("mouseleave",xt);break;case"focus":Mt(Ju?"focusout":"blur",rt);break;case"focusin":Mt("focusout",rt);break}})}function Ut(){b.forEach(function(_){var N=_.node,R=_.eventType,U=_.handler,F=_.options;N.removeEventListener(R,U,F)}),b=[]}function kt(_){var N,R=!1;if(!(!h.state.isEnabled||wt(_)||s)){var U=((N=l)==null?void 0:N.type)==="focus";l=_,T=_.currentTarget,ct(),!h.state.isVisible&&Hr(_)&&An.forEach(function(F){return F(_)}),_.type==="click"&&(h.props.trigger.indexOf("mouseenter")<0||a)&&h.props.hideOnClick!==!1&&h.state.isVisible?R=!0:it(_),_.type==="click"&&(a=!R),R&&!U&&Wt(_)}}function V(_){var N=_.target,R=q().contains(N)||A.contains(N);if(!(_.type==="mousemove"&&R)){var U=ut().concat(A).map(function(F){var mt,Tt=F._tippy,Yt=(mt=Tt.popperInstance)==null?void 0:mt.state;return Yt?{popperRect:F.getBoundingClientRect(),popperState:Yt,props:n}:null}).filter(Boolean);Wu(U,_)&&(nt(),Wt(_))}}function xt(_){var N=wt(_)||h.props.trigger.indexOf("click")>=0&&a;if(!N){if(h.props.interactive){h.hideWithInteractivity(_);return}Wt(_)}}function rt(_){h.props.trigger.indexOf("focusin")<0&&_.target!==q()||h.props.interactive&&_.relatedTarget&&A.contains(_.relatedTarget)||Wt(_)}function wt(_){return jt.isTouch?B()!==_.type.indexOf("touch")>=0:!1}function Bt(){Et();var _=h.props,N=_.popperOptions,R=_.placement,U=_.offset,F=_.getReferenceClientRect,mt=_.moveTransition,Tt=z()?kn(A).arrow:null,Yt=F?{getBoundingClientRect:F,contextElement:F.contextElement||q()}:t,bn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Oe){var ne=Oe.state;if(z()){var mr=Z(),qe=mr.box;["placement","reference-hidden","escaped"].forEach(function(Ae){Ae==="placement"?qe.setAttribute("data-placement",ne.placement):ne.attributes.popper["data-popper-"+Ae]?qe.setAttribute("data-"+Ae,""):qe.removeAttribute("data-"+Ae)}),ne.attributes.popper={}}}},qt=[{name:"offset",options:{offset:U}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!mt}},bn];z()&&Tt&&qt.push({name:"arrow",options:{element:Tt,padding:3}}),qt.push.apply(qt,N?.modifiers||[]),h.popperInstance=Zi.createPopper(Yt,A,Object.assign({},N,{placement:R,onFirstUpdate:x,modifiers:qt}))}function Et(){h.popperInstance&&(h.popperInstance.destroy(),h.popperInstance=null)}function pt(){var _=h.props.appendTo,N,R=q();h.props.interactive&&_===ro||_==="parent"?N=R.parentNode:N=io(_,[R]),N.contains(A)||N.appendChild(A),h.state.isMounted=!0,Bt(),process.env.NODE_ENV!=="production"&&Zt(h.props.interactive&&_===bt.appendTo&&R.nextElementSibling!==A,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function ut(){return Ne(A.querySelectorAll("[data-tippy-root]"))}function it(_){h.clearDelayTimeouts(),_&&G("onTrigger",[h,_]),ht();var N=tt(!0),R=P(),U=R[0],F=R[1];jt.isTouch&&U==="hold"&&F&&(N=F),N?r=setTimeout(function(){h.show()},N):h.show()}function Wt(_){if(h.clearDelayTimeouts(),G("onUntrigger",[h,_]),!h.state.isVisible){st();return}if(!(h.props.trigger.indexOf("mouseenter")>=0&&h.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_.type)>=0&&a)){var N=tt(!1);N?i=setTimeout(function(){h.state.isVisible&&h.hide()},N):o=requestAnimationFrame(function(){h.hide()})}}function le(){h.state.isEnabled=!0}function Me(){h.hide(),h.state.isEnabled=!1}function ce(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Ee(_){if(process.env.NODE_ENV!=="production"&&Zt(h.state.isDestroyed,Pe("setProps")),!h.state.isDestroyed){G("onBeforeUpdate",[h,_]),Ut();var N=h.props,R=Wi(t,Object.assign({},N,Fi(_),{ignoreAttributes:!0}));h.props=R,Ct(),N.interactiveDebounce!==R.interactiveDebounce&&(nt(),O=qi(V,R.interactiveDebounce)),N.triggerTarget&&!R.triggerTarget?oe(N.triggerTarget).forEach(function(U){U.removeAttribute("aria-expanded")}):R.triggerTarget&&t.removeAttribute("aria-expanded"),ct(),et(),w&&w(N,R),h.popperInstance&&(Bt(),ut().forEach(function(U){requestAnimationFrame(U._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[h,_])}}function Te(_){h.setProps({content:_})}function cr(){process.env.NODE_ENV!=="production"&&Zt(h.state.isDestroyed,Pe("show"));var _=h.state.isVisible,N=h.state.isDestroyed,R=!h.state.isEnabled,U=jt.isTouch&&!h.props.touch,F=Dr(h.props.duration,0,bt.duration);if(!(_||N||R||U)&&!q().hasAttribute("disabled")&&(G("onShow",[h],!1),h.props.onShow(h)!==!1)){if(h.state.isVisible=!0,z()&&(A.style.visibility="visible"),et(),ht(),h.state.isMounted||(A.style.transition="none"),z()){var mt=Z(),Tt=mt.box,Yt=mt.content;Pr([Tt,Yt],0)}x=function(){var qt;if(!(!h.state.isVisible||c)){if(c=!0,A.offsetHeight,A.style.transition=h.props.moveTransition,z()&&h.props.animation){var Ve=Z(),Oe=Ve.box,ne=Ve.content;Pr([Oe,ne],F),Ze([Oe,ne],"visible")}lt(),ct(),Gi(Cn,h),(qt=h.popperInstance)==null||qt.forceUpdate(),G("onMount",[h]),h.props.animation&&z()&&Y(F,function(){h.state.isShown=!0,G("onShown",[h])})}},pt()}}function pr(){process.env.NODE_ENV!=="production"&&Zt(h.state.isDestroyed,Pe("hide"));var _=!h.state.isVisible,N=h.state.isDestroyed,R=!h.state.isEnabled,U=Dr(h.props.duration,1,bt.duration);if(!(_||N||R)&&(G("onHide",[h],!1),h.props.onHide(h)!==!1)){if(h.state.isVisible=!1,h.state.isShown=!1,c=!1,a=!1,z()&&(A.style.visibility="hidden"),nt(),st(),et(!0),z()){var F=Z(),mt=F.box,Tt=F.content;h.props.animation&&(Pr([mt,Tt],U),Ze([mt,Tt],"hidden"))}lt(),ct(),h.props.animation?z()&&Rt(U,h.unmount):h.unmount()}}function wn(_){process.env.NODE_ENV!=="production"&&Zt(h.state.isDestroyed,Pe("hideWithInteractivity")),j().addEventListener("mousemove",O),Gi(An,O),O(_)}function dr(){process.env.NODE_ENV!=="production"&&Zt(h.state.isDestroyed,Pe("unmount")),h.state.isVisible&&h.hide(),h.state.isMounted&&(Et(),ut().forEach(function(_){_._tippy.unmount()}),A.parentNode&&A.parentNode.removeChild(A),Cn=Cn.filter(function(_){return _!==h}),h.state.isMounted=!1,G("onHidden",[h]))}function hr(){process.env.NODE_ENV!=="production"&&Zt(h.state.isDestroyed,Pe("destroy")),!h.state.isDestroyed&&(h.clearDelayTimeouts(),h.unmount(),Ut(),delete t._tippy,h.state.isDestroyed=!0,G("onDestroy",[h]))}}function ae(t,e){e===void 0&&(e={});var n=bt.plugins.concat(e.plugins||[]);process.env.NODE_ENV!=="production"&&(nf(t),po(e,n)),Qu();var r=Object.assign({},e,{plugins:n}),i=Uu(t);if(process.env.NODE_ENV!=="production"){var o=Qe(r.content),a=i.length>1;Zt(o&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var s=i.reduce(function(u,c){var l=c&&lf(c,r);return l&&u.push(l),u},[]);return Qe(t)?s[0]:s}ae.defaultProps=bt;ae.setDefaultProps=af;ae.currentInput=jt;var cf=function(e){var n=e===void 0?{}:e,r=n.exclude,i=n.duration;Cn.forEach(function(o){var a=!1;if(r&&(a=ao(r)?o.reference===r:o.popper===r.popper),!a){var s=o.props.duration;o.setProps({duration:i}),o.hide(),o.state.isDestroyed||o.setProps({duration:s})}})},pf=Object.assign({},Zi.applyStyles,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),df=function(e,n){var r;n===void 0&&(n={}),process.env.NODE_ENV!=="production"&&Le(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(e)].join(" "));var i=e,o=[],a=[],s,u=n.overrides,c=[],l=!1;function v(){a=i.map(function(h){return oe(h.props.triggerTarget||h.reference)}).reduce(function(h,I){return h.concat(I)},[])}function x(){o=i.map(function(h){return h.reference})}function b(h){i.forEach(function(I){h?I.enable():I.disable()})}function O(h){return i.map(function(I){var A=I.setProps;return I.setProps=function(w){A(w),I.reference===s&&h.setProps(w)},function(){I.setProps=A}})}function T(h,I){var A=a.indexOf(I);if(I!==s){s=I;var w=(u||[]).concat("content").reduce(function(k,$){return k[$]=i[A].props[$],k},{});h.setProps(Object.assign({},w,{getReferenceClientRect:typeof w.getReferenceClientRect=="function"?w.getReferenceClientRect:function(){var k;return(k=o[A])==null?void 0:k.getBoundingClientRect()}}))}}b(!1),x(),v();var S={fn:function(){return{onDestroy:function(){b(!0)},onHidden:function(){s=null},onClickOutside:function(A){A.props.showOnCreate&&!l&&(l=!0,s=null)},onShow:function(A){A.props.showOnCreate&&!l&&(l=!0,T(A,o[0]))},onTrigger:function(A,w){T(A,w.currentTarget)}}}},E=ae(ge(),Object.assign({},Br(n,["overrides"]),{plugins:[S].concat(n.plugins||[]),triggerTarget:a,popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat(((r=n.popperOptions)==null?void 0:r.modifiers)||[],[pf])})})),C=E.show;E.show=function(h){if(C(),!s&&h==null)return T(E,o[0]);if(!(s&&h==null)){if(typeof h=="number")return o[h]&&T(E,o[h]);if(i.indexOf(h)>=0){var I=h.reference;return T(E,I)}if(o.indexOf(h)>=0)return T(E,h)}},E.showNext=function(){var h=o[0];if(!s)return E.show(0);var I=o.indexOf(s);E.show(o[I+1]||h)},E.showPrevious=function(){var h=o[o.length-1];if(!s)return E.show(h);var I=o.indexOf(s),A=o[I-1]||h;E.show(A)};var L=E.setProps;return E.setProps=function(h){u=h.overrides||u,L(h)},E.setInstances=function(h){b(!0),c.forEach(function(I){return I()}),i=h,b(!1),x(),v(),c=O(E),E.setProps({triggerTarget:a})},c=O(E),E},hf={mouseover:"mouseenter",focusin:"focus",click:"click"};function mf(t,e){process.env.NODE_ENV!=="production"&&Le(!(e&&e.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var n=[],r=[],i=!1,o=e.target,a=Br(e,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),u=Object.assign({touch:bt.touch},a,{showOnCreate:!0}),c=ae(t,s),l=oe(c);function v(S){if(!(!S.target||i)){var E=S.target.closest(o);if(E){var C=E.getAttribute("data-tippy-trigger")||e.trigger||bt.trigger;if(!E._tippy&&!(S.type==="touchstart"&&typeof u.touch=="boolean")&&!(S.type!=="touchstart"&&C.indexOf(hf[S.type])<0)){var L=ae(E,u);L&&(r=r.concat(L))}}}}function x(S,E,C,L){L===void 0&&(L=!1),S.addEventListener(E,C,L),n.push({node:S,eventType:E,handler:C,options:L})}function b(S){var E=S.reference;x(E,"touchstart",v,ie),x(E,"mouseover",v),x(E,"focusin",v),x(E,"click",v)}function O(){n.forEach(function(S){var E=S.node,C=S.eventType,L=S.handler,h=S.options;E.removeEventListener(C,L,h)}),n=[]}function T(S){var E=S.destroy,C=S.enable,L=S.disable;S.destroy=function(h){h===void 0&&(h=!0),h&&r.forEach(function(I){I.destroy()}),r=[],O(),E()},S.enable=function(){C(),r.forEach(function(h){return h.enable()}),i=!1},S.disable=function(){L(),r.forEach(function(h){return h.disable()}),i=!0},b(S)}return l.forEach(T),c}var gf={name:"animateFill",defaultValue:!1,fn:function(e){var n;if(!((n=e.props.render)!=null&&n.$$tippy))return process.env.NODE_ENV!=="production"&&Le(e.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var r=kn(e.popper),i=r.box,o=r.content,a=e.props.animateFill?vf():null;return{onCreate:function(){a&&(i.insertBefore(a,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(a){var u=i.style.transitionDuration,c=Number(u.replace("ms",""));o.style.transitionDelay=Math.round(c/10)+"ms",a.style.transitionDuration=u,Ze([a],"visible")}},onShow:function(){a&&(a.style.transitionDuration="0ms")},onHide:function(){a&&Ze([a],"hidden")}}}};function vf(){var t=ge();return t.className=to,Ze([t],"hidden"),t}var $r={clientX:0,clientY:0},Sn=[];function mo(t){var e=t.clientX,n=t.clientY;$r={clientX:e,clientY:n}}function yf(t){t.addEventListener("mousemove",mo)}function xf(t){t.removeEventListener("mousemove",mo)}var wf={name:"followCursor",defaultValue:!1,fn:function(e){var n=e.reference,r=so(e.props.triggerTarget||n),i=!1,o=!1,a=!0,s=e.props;function u(){return e.props.followCursor==="initial"&&e.state.isVisible}function c(){r.addEventListener("mousemove",x)}function l(){r.removeEventListener("mousemove",x)}function v(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function x(T){var S=T.target?n.contains(T.target):!0,E=e.props.followCursor,C=T.clientX,L=T.clientY,h=n.getBoundingClientRect(),I=C-h.left,A=L-h.top;(S||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var k=n.getBoundingClientRect(),$=C,P=L;E==="initial"&&($=k.left+I,P=k.top+A);var B=E==="horizontal"?k.top:P,z=E==="vertical"?k.right:$,q=E==="horizontal"?k.bottom:P,j=E==="vertical"?k.left:$;return{width:z-j,height:q-B,top:B,right:z,bottom:q,left:j}}})}function b(){e.props.followCursor&&(Sn.push({instance:e,doc:r}),yf(r))}function O(){Sn=Sn.filter(function(T){return T.instance!==e}),Sn.filter(function(T){return T.doc===r}).length===0&&xf(r)}return{onCreate:b,onDestroy:O,onBeforeUpdate:function(){s=e.props},onAfterUpdate:function(S,E){var C=E.followCursor;i||C!==void 0&&s.followCursor!==C&&(O(),C?(b(),e.state.isMounted&&!o&&!u()&&c()):(l(),v()))},onMount:function(){e.props.followCursor&&!o&&(a&&(x($r),a=!1),u()||c())},onTrigger:function(S,E){Hr(E)&&($r={clientX:E.clientX,clientY:E.clientY}),o=E.type==="focus"},onHidden:function(){e.props.followCursor&&(v(),l(),a=!0)}}}};function bf(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var i=r.name;return i!==e.name}),[e])})}}var _f={name:"inlinePositioning",defaultValue:!1,fn:function(e){var n=e.reference;function r(){return!!e.props.inlinePositioning}var i,o=-1,a=!1,s=[],u={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(b){var O=b.state;r()&&(s.indexOf(O.placement)!==-1&&(s=[]),i!==O.placement&&s.indexOf(O.placement)===-1&&(s.push(O.placement),e.setProps({getReferenceClientRect:function(){return c(O.placement)}})),i=O.placement)}};function c(x){return Mf(oo(x),n.getBoundingClientRect(),Ne(n.getClientRects()),o)}function l(x){a=!0,e.setProps(x),a=!1}function v(){a||l(bf(e.props,u))}return{onCreate:v,onAfterUpdate:v,onTrigger:function(b,O){if(Hr(O)){var T=Ne(e.reference.getClientRects()),S=T.find(function(C){return C.left-2<=O.clientX&&C.right+2>=O.clientX&&C.top-2<=O.clientY&&C.bottom+2>=O.clientY}),E=T.indexOf(S);o=E>-1?E:o}},onHidden:function(){o=-1}}}};function Mf(t,e,n,r){if(n.length<2||t===null)return e;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":{var i=n[0],o=n[n.length-1],a=t==="top",s=i.top,u=o.bottom,c=a?i.left:o.left,l=a?i.right:o.right,v=l-c,x=u-s;return{top:s,bottom:u,left:c,right:l,width:v,height:x}}case"left":case"right":{var b=Math.min.apply(Math,n.map(function(A){return A.left})),O=Math.max.apply(Math,n.map(function(A){return A.right})),T=n.filter(function(A){return t==="left"?A.left===b:A.right===O}),S=T[0].top,E=T[T.length-1].bottom,C=b,L=O,h=L-C,I=E-S;return{top:S,bottom:E,left:C,right:L,width:h,height:I}}default:return e}}var Ef={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,r=e.popper;function i(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function o(c){return e.props.sticky===!0||e.props.sticky===c}var a=null,s=null;function u(){var c=o("reference")?i().getBoundingClientRect():null,l=o("popper")?r.getBoundingClientRect():null;(c&&Qi(a,c)||l&&Qi(s,l))&&e.popperInstance&&e.popperInstance.update(),a=c,s=l,e.state.isMounted&&requestAnimationFrame(u)}return{onMount:function(){e.props.sticky&&u()}}}};function Qi(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}ae.setDefaultProps({render:ho});Ht.animateFill=gf;Ht.createSingleton=df;Ht.default=ae;Ht.delegate=mf;Ht.followCursor=wf;Ht.hideAll=cf;Ht.inlinePositioning=_f;Ht.roundArrow=Vu;Ht.sticky=Ef});var So=Fe((Nn,Ao)=>{(function(t,e){typeof Nn=="object"&&typeof Ao<"u"?e(Nn):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(Nn,function(t){"use strict";var e={value:()=>{}};function n(){for(var s=0,u=arguments.length,c={},l;s<u;++s){if(!(l=arguments[s]+"")||l in c||/[\s.]/.test(l))throw new Error("illegal type: "+l);c[l]=[]}return new r(c)}function r(s){this._=s}function i(s,u){return s.trim().split(/^|\s+/).map(function(c){var l="",v=c.indexOf(".");if(v>=0&&(l=c.slice(v+1),c=c.slice(0,v)),c&&!u.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:l}})}r.prototype=n.prototype={constructor:r,on:function(s,u){var c=this._,l=i(s+"",c),v,x=-1,b=l.length;if(arguments.length<2){for(;++x<b;)if((v=(s=l[x]).type)&&(v=o(c[v],s.name)))return v;return}if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++x<b;)if(v=(s=l[x]).type)c[v]=a(c[v],s.name,u);else if(u==null)for(v in c)c[v]=a(c[v],s.name,null);return this},copy:function(){var s={},u=this._;for(var c in u)s[c]=u[c].slice();return new r(s)},call:function(s,u){if((v=arguments.length-2)>0)for(var c=new Array(v),l=0,v,x;l<v;++l)c[l]=arguments[l+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(x=this._[s],l=0,v=x.length;l<v;++l)x[l].value.apply(u,c)},apply:function(s,u,c){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var l=this._[s],v=0,x=l.length;v<x;++v)l[v].value.apply(u,c)}};function o(s,u){for(var c=0,l=s.length,v;c<l;++c)if((v=s[c]).name===u)return v.value}function a(s,u,c){for(var l=0,v=s.length;l<v;++l)if(s[l].name===u){s[l]=e,s=s.slice(0,l).concat(s.slice(l+1));break}return c!=null&&s.push({name:u,value:c}),s}t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})});var sr=Fe((ar,ys)=>{(function(t,e){typeof ar=="object"&&typeof ys<"u"?e(ar):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.d3=t.d3||{}))})(ar,function(t){"use strict";function e(f,p){return f<p?-1:f>p?1:f>=p?0:NaN}function n(f){let p=f,d=f;f.length===1&&(p=(M,D)=>f(M)-D,d=r(f));function g(M,D,H,X){for(H==null&&(H=0),X==null&&(X=M.length);H<X;){let W=H+X>>>1;d(M[W],D)<0?H=W+1:X=W}return H}function m(M,D,H,X){for(H==null&&(H=0),X==null&&(X=M.length);H<X;){let W=H+X>>>1;d(M[W],D)>0?X=W:H=W+1}return H}function y(M,D,H,X){H==null&&(H=0),X==null&&(X=M.length);let W=g(M,D,H,X-1);return W>H&&p(M[W-1],D)>-p(M[W],D)?W-1:W}return{left:g,center:y,right:m}}function r(f){return(p,d)=>e(f(p),d)}function i(f){return f===null?NaN:+f}function*o(f,p){if(p===void 0)for(let d of f)d!=null&&(d=+d)>=d&&(yield d);else{let d=-1;for(let g of f)(g=p(g,++d,f))!=null&&(g=+g)>=g&&(yield g)}}let a=n(e),s=a.right,u=a.left,c=n(i).center;function l(f,p){let d=0;if(p===void 0)for(let g of f)g!=null&&(g=+g)>=g&&++d;else{let g=-1;for(let m of f)(m=p(m,++g,f))!=null&&(m=+m)>=m&&++d}return d}function v(f){return f.length|0}function x(f){return!(f>0)}function b(f){return typeof f!="object"||"length"in f?f:Array.from(f)}function O(f){return p=>f(...p)}function T(...f){let p=typeof f[f.length-1]=="function"&&O(f.pop());f=f.map(b);let d=f.map(v),g=f.length-1,m=new Array(g+1).fill(0),y=[];if(g<0||d.some(x))return y;for(;;){y.push(m.map((D,H)=>f[H][D]));let M=g;for(;++m[M]===d[M];){if(M===0)return p?y.map(p):y;m[M--]=0}}}function S(f,p){var d=0,g=0;return Float64Array.from(f,p===void 0?m=>d+=+m||0:m=>d+=+p(m,g++,f)||0)}function E(f,p){return p<f?-1:p>f?1:p>=f?0:NaN}function C(f,p){let d=0,g,m=0,y=0;if(p===void 0)for(let M of f)M!=null&&(M=+M)>=M&&(g=M-m,m+=g/++d,y+=g*(M-m));else{let M=-1;for(let D of f)(D=p(D,++M,f))!=null&&(D=+D)>=D&&(g=D-m,m+=g/++d,y+=g*(D-m))}if(d>1)return y/(d-1)}function L(f,p){let d=C(f,p);return d&&Math.sqrt(d)}function h(f,p){let d,g;if(p===void 0)for(let m of f)m!=null&&(d===void 0?m>=m&&(d=g=m):(d>m&&(d=m),g<m&&(g=m)));else{let m=-1;for(let y of f)(y=p(y,++m,f))!=null&&(d===void 0?y>=y&&(d=g=y):(d>y&&(d=y),g<y&&(g=y)))}return[d,g]}class I{constructor(){this._partials=new Float64Array(32),this._n=0}add(p){let d=this._partials,g=0;for(let m=0;m<this._n&&m<32;m++){let y=d[m],M=p+y,D=Math.abs(p)<Math.abs(y)?p-(M-y):y-(M-p);D&&(d[g++]=D),p=M}return d[g]=p,this._n=g+1,this}valueOf(){let p=this._partials,d=this._n,g,m,y,M=0;if(d>0){for(M=p[--d];d>0&&(g=M,m=p[--d],M=g+m,y=m-(M-g),!y););d>0&&(y<0&&p[d-1]<0||y>0&&p[d-1]>0)&&(m=y*2,g=M+m,m==g-M&&(M=g))}return M}}function A(f,p){let d=new I;if(p===void 0)for(let g of f)(g=+g)&&d.add(g);else{let g=-1;for(let m of f)(m=+p(m,++g,f))&&d.add(m)}return+d}function w(f,p){let d=new I,g=-1;return Float64Array.from(f,p===void 0?m=>d.add(+m||0):m=>d.add(+p(m,++g,f)||0))}class k extends Map{constructor(p,d=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:d}}),p!=null)for(let[g,m]of p)this.set(g,m)}get(p){return super.get(P(this,p))}has(p){return super.has(P(this,p))}set(p,d){return super.set(B(this,p),d)}delete(p){return super.delete(z(this,p))}}class $ extends Set{constructor(p,d=q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:d}}),p!=null)for(let g of p)this.add(g)}has(p){return super.has(P(this,p))}add(p){return super.add(B(this,p))}delete(p){return super.delete(z(this,p))}}function P({_intern:f,_key:p},d){let g=p(d);return f.has(g)?f.get(g):d}function B({_intern:f,_key:p},d){let g=p(d);return f.has(g)?f.get(g):(f.set(g,d),d)}function z({_intern:f,_key:p},d){let g=p(d);return f.has(g)&&(d=f.get(d),f.delete(g)),d}function q(f){return f!==null&&typeof f=="object"?f.valueOf():f}function j(f){return f}function Z(f,...p){return Q(f,j,j,p)}function tt(f,...p){return Q(f,Array.from,j,p)}function et(f,p,...d){return Q(f,j,p,d)}function G(f,p,...d){return Q(f,Array.from,p,d)}function lt(f,...p){return Q(f,j,nt,p)}function ct(f,...p){return Q(f,Array.from,nt,p)}function nt(f){if(f.length!==1)throw new Error("duplicate key");return f[0]}function Q(f,p,d,g){return function m(y,M){if(M>=g.length)return d(y);let D=new k,H=g[M++],X=-1;for(let W of y){let K=H(W,++X,y),ot=D.get(K);ot?ot.push(W):D.set(K,[W])}for(let[W,K]of D)D.set(W,m(K,M));return p(D)}(f,0)}function dt(f,p){return Array.from(p,d=>f[d])}function at(f,...p){if(typeof f[Symbol.iterator]!="function")throw new TypeError("values is not iterable");f=Array.from(f);let[d=e]=p;if(d.length===1||p.length>1){let g=Uint32Array.from(f,(m,y)=>y);return p.length>1?(p=p.map(m=>f.map(m)),g.sort((m,y)=>{for(let M of p){let D=e(M[m],M[y]);if(D)return D}})):(d=f.map(d),g.sort((m,y)=>e(d[m],d[y]))),dt(f,g)}return f.sort(d)}function ht(f,p,d){return(p.length===1?at(et(f,p,d),([g,m],[y,M])=>e(m,M)||e(g,y)):at(Z(f,d),([g,m],[y,M])=>p(m,M)||e(g,y))).map(([g])=>g)}var st=Array.prototype,Rt=st.slice;function Y(f){return function(){return f}}var Dt=Math.sqrt(50),Mt=Math.sqrt(10),Ct=Math.sqrt(2);function Ut(f,p,d){var g,m=-1,y,M,D;if(p=+p,f=+f,d=+d,f===p&&d>0)return[f];if((g=p<f)&&(y=f,f=p,p=y),(D=kt(f,p,d))===0||!isFinite(D))return[];if(D>0){let H=Math.round(f/D),X=Math.round(p/D);for(H*D<f&&++H,X*D>p&&--X,M=new Array(y=X-H+1);++m<y;)M[m]=(H+m)*D}else{D=-D;let H=Math.round(f*D),X=Math.round(p*D);for(H/D<f&&++H,X/D>p&&--X,M=new Array(y=X-H+1);++m<y;)M[m]=(H+m)/D}return g&&M.reverse(),M}function kt(f,p,d){var g=(p-f)/Math.max(0,d),m=Math.floor(Math.log(g)/Math.LN10),y=g/Math.pow(10,m);return m>=0?(y>=Dt?10:y>=Mt?5:y>=Ct?2:1)*Math.pow(10,m):-Math.pow(10,-m)/(y>=Dt?10:y>=Mt?5:y>=Ct?2:1)}function V(f,p,d){var g=Math.abs(p-f)/Math.max(0,d),m=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),y=g/m;return y>=Dt?m*=10:y>=Mt?m*=5:y>=Ct&&(m*=2),p<f?-m:m}function xt(f,p,d){let g;for(;;){let m=kt(f,p,d);if(m===g||m===0||!isFinite(m))return[f,p];m>0?(f=Math.floor(f/m)*m,p=Math.ceil(p/m)*m):m<0&&(f=Math.ceil(f*m)/m,p=Math.floor(p*m)/m),g=m}}function rt(f){return Math.ceil(Math.log(l(f))/Math.LN2)+1}function wt(){var f=j,p=h,d=rt;function g(m){Array.isArray(m)||(m=Array.from(m));var y,M=m.length,D,H=new Array(M);for(y=0;y<M;++y)H[y]=f(m[y],y,m);var X=p(H),W=X[0],K=X[1],ot=d(H,W,K);if(!Array.isArray(ot)){let $s=K,vr=+ot;if(p===h&&([W,K]=xt(W,K,vr)),ot=Ut(W,K,vr),ot[ot.length-1]>=K)if($s>=K&&p===h){let pe=kt(W,K,vr);isFinite(pe)&&(pe>0?K=(Math.floor(K/pe)+1)*pe:pe<0&&(K=(Math.ceil(K*-pe)+1)/-pe))}else ot.pop()}for(var Kt=ot.length;ot[0]<=W;)ot.shift(),--Kt;for(;ot[Kt-1]>K;)ot.pop(),--Kt;var Ge=new Array(Kt+1),gr;for(y=0;y<=Kt;++y)gr=Ge[y]=[],gr.x0=y>0?ot[y-1]:W,gr.x1=y<Kt?ot[y]:K;for(y=0;y<M;++y)D=H[y],W<=D&&D<=K&&Ge[s(ot,D,0,Kt)].push(m[y]);return Ge}return g.value=function(m){return arguments.length?(f=typeof m=="function"?m:Y(m),g):f},g.domain=function(m){return arguments.length?(p=typeof m=="function"?m:Y([m[0],m[1]]),g):p},g.thresholds=function(m){return arguments.length?(d=typeof m=="function"?m:Array.isArray(m)?Y(Rt.call(m)):Y(m),g):d},g}function Bt(f,p){let d;if(p===void 0)for(let g of f)g!=null&&(d<g||d===void 0&&g>=g)&&(d=g);else{let g=-1;for(let m of f)(m=p(m,++g,f))!=null&&(d<m||d===void 0&&m>=m)&&(d=m)}return d}function Et(f,p){let d;if(p===void 0)for(let g of f)g!=null&&(d>g||d===void 0&&g>=g)&&(d=g);else{let g=-1;for(let m of f)(m=p(m,++g,f))!=null&&(d>m||d===void 0&&m>=m)&&(d=m)}return d}function pt(f,p,d=0,g=f.length-1,m=e){for(;g>d;){if(g-d>600){let H=g-d+1,X=p-d+1,W=Math.log(H),K=.5*Math.exp(2*W/3),ot=.5*Math.sqrt(W*K*(H-K)/H)*(X-H/2<0?-1:1),Kt=Math.max(d,Math.floor(p-X*K/H+ot)),Ge=Math.min(g,Math.floor(p+(H-X)*K/H+ot));pt(f,p,Kt,Ge,m)}let y=f[p],M=d,D=g;for(ut(f,d,p),m(f[g],y)>0&&ut(f,d,g);M<D;){for(ut(f,M,D),++M,--D;m(f[M],y)<0;)++M;for(;m(f[D],y)>0;)--D}m(f[d],y)===0?ut(f,d,D):(++D,ut(f,D,g)),D<=p&&(d=D+1),p<=D&&(g=D-1)}return f}function ut(f,p,d){let g=f[p];f[p]=f[d],f[d]=g}function it(f,p,d){if(f=Float64Array.from(o(f,d)),!!(g=f.length)){if((p=+p)<=0||g<2)return Et(f);if(p>=1)return Bt(f);var g,m=(g-1)*p,y=Math.floor(m),M=Bt(pt(f,y).subarray(0,y+1)),D=Et(f.subarray(y+1));return M+(D-M)*(m-y)}}function Wt(f,p,d=i){if(g=f.length){if((p=+p)<=0||g<2)return+d(f[0],0,f);if(p>=1)return+d(f[g-1],g-1,f);var g,m=(g-1)*p,y=Math.floor(m),M=+d(f[y],y,f),D=+d(f[y+1],y+1,f);return M+(D-M)*(m-y)}}function le(f,p,d){return Math.ceil((d-p)/(2*(it(f,.75)-it(f,.25))*Math.pow(l(f),-1/3)))}function Me(f,p,d){return Math.ceil((d-p)/(3.5*L(f)*Math.pow(l(f),-1/3)))}function ce(f,p){let d,g=-1,m=-1;if(p===void 0)for(let y of f)++m,y!=null&&(d<y||d===void 0&&y>=y)&&(d=y,g=m);else for(let y of f)(y=p(y,++m,f))!=null&&(d<y||d===void 0&&y>=y)&&(d=y,g=m);return g}function Ee(f,p){let d=0,g=0;if(p===void 0)for(let m of f)m!=null&&(m=+m)>=m&&(++d,g+=m);else{let m=-1;for(let y of f)(y=p(y,++m,f))!=null&&(y=+y)>=y&&(++d,g+=y)}if(d)return g/d}function Te(f,p){return it(f,.5,p)}function*cr(f){for(let p of f)yield*p}function pr(f){return Array.from(cr(f))}function wn(f,p){let d,g=-1,m=-1;if(p===void 0)for(let y of f)++m,y!=null&&(d>y||d===void 0&&y>=y)&&(d=y,g=m);else for(let y of f)(y=p(y,++m,f))!=null&&(d>y||d===void 0&&y>=y)&&(d=y,g=m);return g}function dr(f,p=hr){let d=[],g,m=!1;for(let y of f)m&&d.push(p(g,y)),g=y,m=!0;return d}function hr(f,p){return[f,p]}function _(f,p,d){f=+f,p=+p,d=(m=arguments.length)<2?(p=f,f=0,1):m<3?1:+d;for(var g=-1,m=Math.max(0,Math.ceil((p-f)/d))|0,y=new Array(m);++g<m;)y[g]=f+g*d;return y}function N(f,p=e){let d,g=!1;if(p.length===1){let m;for(let y of f){let M=p(y);(g?e(M,m)<0:e(M,M)===0)&&(d=y,m=M,g=!0)}}else for(let m of f)(g?p(m,d)<0:p(m,m)===0)&&(d=m,g=!0);return d}function R(f,p=e){if(p.length===1)return wn(f,p);let d,g=-1,m=-1;for(let y of f)++m,(g<0?p(y,y)===0:p(y,d)<0)&&(d=y,g=m);return g}function U(f,p=e){let d,g=!1;if(p.length===1){let m;for(let y of f){let M=p(y);(g?e(M,m)>0:e(M,M)===0)&&(d=y,m=M,g=!0)}}else for(let m of f)(g?p(m,d)>0:p(m,m)===0)&&(d=m,g=!0);return d}function F(f,p=e){if(p.length===1)return ce(f,p);let d,g=-1,m=-1;for(let y of f)++m,(g<0?p(y,y)===0:p(y,d)>0)&&(d=y,g=m);return g}function mt(f,p){let d=R(f,p);return d<0?void 0:d}var Tt=Yt(Math.random);function Yt(f){return function(d,g=0,m=d.length){let y=m-(g=+g);for(;y;){let M=f()*y--|0,D=d[y+g];d[y+g]=d[M+g],d[M+g]=D}return d}}function bn(f,p){let d=0;if(p===void 0)for(let g of f)(g=+g)&&(d+=g);else{let g=-1;for(let m of f)(m=+p(m,++g,f))&&(d+=m)}return d}function qt(f){if(!(y=f.length))return[];for(var p=-1,d=Et(f,Ve),g=new Array(d);++p<d;)for(var m=-1,y,M=g[p]=new Array(y);++m<y;)M[m]=f[m][p];return g}function Ve(f){return f.length}function Oe(){return qt(arguments)}function ne(f,p){if(typeof p!="function")throw new TypeError("test is not a function");let d=-1;for(let g of f)if(!p(g,++d,f))return!1;return!0}function mr(f,p){if(typeof p!="function")throw new TypeError("test is not a function");let d=-1;for(let g of f)if(p(g,++d,f))return!0;return!1}function qe(f,p){if(typeof p!="function")throw new TypeError("test is not a function");let d=[],g=-1;for(let m of f)p(m,++g,f)&&d.push(m);return d}function Ae(f,p){if(typeof f[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof p!="function")throw new TypeError("mapper is not a function");return Array.from(f,(d,g)=>p(d,g,f))}function Ss(f,p,d){if(typeof p!="function")throw new TypeError("reducer is not a function");let g=f[Symbol.iterator](),m,y,M=-1;if(arguments.length<3){if({done:m,value:d}=g.next(),m)return;++M}for(;{done:m,value:y}=g.next(),!m;)d=p(d,y,++M,f);return d}function Cs(f){if(typeof f[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(f).reverse()}function ks(f,...p){f=new Set(f);for(let d of p)for(let g of d)f.delete(g);return f}function Is(f,p){let d=p[Symbol.iterator](),g=new Set;for(let m of f){if(g.has(m))return!1;let y,M;for(;({value:y,done:M}=d.next())&&!M;){if(Object.is(m,y))return!1;g.add(y)}}return!0}function Ds(f){return f instanceof Set?f:new Set(f)}function Ps(f,...p){f=new Set(f),p=p.map(Ds);t:for(let d of f)for(let g of p)if(!g.has(d)){f.delete(d);continue t}return f}function mi(f,p){let d=f[Symbol.iterator](),g=new Set;for(let m of p){if(g.has(m))continue;let y,M;for(;{value:y,done:M}=d.next();){if(M)return!1;if(g.add(y),Object.is(m,y))break}}return!0}function Ns(f,p){return mi(p,f)}function Ls(...f){let p=new Set;for(let d of f)for(let g of d)p.add(g);return p}t.Adder=I,t.InternMap=k,t.InternSet=$,t.ascending=e,t.bin=wt,t.bisect=s,t.bisectCenter=c,t.bisectLeft=u,t.bisectRight=s,t.bisector=n,t.count=l,t.cross=T,t.cumsum=S,t.descending=E,t.deviation=L,t.difference=ks,t.disjoint=Is,t.every=ne,t.extent=h,t.fcumsum=w,t.filter=qe,t.fsum=A,t.greatest=U,t.greatestIndex=F,t.group=Z,t.groupSort=ht,t.groups=tt,t.histogram=wt,t.index=lt,t.indexes=ct,t.intersection=Ps,t.least=N,t.leastIndex=R,t.map=Ae,t.max=Bt,t.maxIndex=ce,t.mean=Ee,t.median=Te,t.merge=pr,t.min=Et,t.minIndex=wn,t.nice=xt,t.pairs=dr,t.permute=dt,t.quantile=it,t.quantileSorted=Wt,t.quickselect=pt,t.range=_,t.reduce=Ss,t.reverse=Cs,t.rollup=et,t.rollups=G,t.scan=mt,t.shuffle=Tt,t.shuffler=Yt,t.some=mr,t.sort=at,t.subset=Ns,t.sum=bn,t.superset=mi,t.thresholdFreedmanDiaconis=le,t.thresholdScott=Me,t.thresholdSturges=rt,t.tickIncrement=kt,t.tickStep=V,t.ticks=Ut,t.transpose=qt,t.union=Ls,t.variance=C,t.zip=Oe,Object.defineProperty(t,"__esModule",{value:!0})})});var Es=Fe((ur,Ms)=>{(function(t,e){typeof ur=="object"&&typeof Ms<"u"?e(ur):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.d3=t.d3||{}))})(ur,function(t){"use strict";function e(w){return Math.abs(w=Math.round(w))>=1e21?w.toLocaleString("en").replace(/,/g,""):w.toString(10)}function n(w,k){if(($=(w=k?w.toExponential(k-1):w.toExponential()).indexOf("e"))<0)return null;var $,P=w.slice(0,$);return[P.length>1?P[0]+P.slice(2):P,+w.slice($+1)]}function r(w){return w=n(Math.abs(w)),w?w[1]:NaN}function i(w,k){return function($,P){for(var B=$.length,z=[],q=0,j=w[0],Z=0;B>0&&j>0&&(Z+j+1>P&&(j=Math.max(1,P-Z)),z.push($.substring(B-=j,B+j)),!((Z+=j+1)>P));)j=w[q=(q+1)%w.length];return z.reverse().join(k)}}function o(w){return function(k){return k.replace(/[0-9]/g,function($){return w[+$]})}}var a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(w){if(!(k=a.exec(w)))throw new Error("invalid format: "+w);var k;return new u({fill:k[1],align:k[2],sign:k[3],symbol:k[4],zero:k[5],width:k[6],comma:k[7],precision:k[8]&&k[8].slice(1),trim:k[9],type:k[10]})}s.prototype=u.prototype;function u(w){this.fill=w.fill===void 0?" ":w.fill+"",this.align=w.align===void 0?">":w.align+"",this.sign=w.sign===void 0?"-":w.sign+"",this.symbol=w.symbol===void 0?"":w.symbol+"",this.zero=!!w.zero,this.width=w.width===void 0?void 0:+w.width,this.comma=!!w.comma,this.precision=w.precision===void 0?void 0:+w.precision,this.trim=!!w.trim,this.type=w.type===void 0?"":w.type+""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function c(w){t:for(var k=w.length,$=1,P=-1,B;$<k;++$)switch(w[$]){case".":P=B=$;break;case"0":P===0&&(P=$),B=$;break;default:if(!+w[$])break t;P>0&&(P=0);break}return P>0?w.slice(0,P)+w.slice(B+1):w}var l;function v(w,k){var $=n(w,k);if(!$)return w+"";var P=$[0],B=$[1],z=B-(l=Math.max(-8,Math.min(8,Math.floor(B/3)))*3)+1,q=P.length;return z===q?P:z>q?P+new Array(z-q+1).join("0"):z>0?P.slice(0,z)+"."+P.slice(z):"0."+new Array(1-z).join("0")+n(w,Math.max(0,k+z-1))[0]}function x(w,k){var $=n(w,k);if(!$)return w+"";var P=$[0],B=$[1];return B<0?"0."+new Array(-B).join("0")+P:P.length>B+1?P.slice(0,B+1)+"."+P.slice(B+1):P+new Array(B-P.length+2).join("0")}var b={"%":(w,k)=>(w*100).toFixed(k),b:w=>Math.round(w).toString(2),c:w=>w+"",d:e,e:(w,k)=>w.toExponential(k),f:(w,k)=>w.toFixed(k),g:(w,k)=>w.toPrecision(k),o:w=>Math.round(w).toString(8),p:(w,k)=>x(w*100,k),r:x,s:v,X:w=>Math.round(w).toString(16).toUpperCase(),x:w=>Math.round(w).toString(16)};function O(w){return w}var T=Array.prototype.map,S=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function E(w){var k=w.grouping===void 0||w.thousands===void 0?O:i(T.call(w.grouping,Number),w.thousands+""),$=w.currency===void 0?"":w.currency[0]+"",P=w.currency===void 0?"":w.currency[1]+"",B=w.decimal===void 0?".":w.decimal+"",z=w.numerals===void 0?O:o(T.call(w.numerals,String)),q=w.percent===void 0?"%":w.percent+"",j=w.minus===void 0?"\u2212":w.minus+"",Z=w.nan===void 0?"NaN":w.nan+"";function tt(G){G=s(G);var lt=G.fill,ct=G.align,nt=G.sign,Q=G.symbol,dt=G.zero,at=G.width,ht=G.comma,st=G.precision,Rt=G.trim,Y=G.type;Y==="n"?(ht=!0,Y="g"):b[Y]||(st===void 0&&(st=12),Rt=!0,Y="g"),(dt||lt==="0"&&ct==="=")&&(dt=!0,lt="0",ct="=");var Dt=Q==="$"?$:Q==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",Mt=Q==="$"?P:/[%p]/.test(Y)?q:"",Ct=b[Y],Ut=/[defgprs%]/.test(Y);st=st===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,st)):Math.max(0,Math.min(20,st));function kt(V){var xt=Dt,rt=Mt,wt,Bt,Et;if(Y==="c")rt=Ct(V)+rt,V="";else{V=+V;var pt=V<0||1/V<0;if(V=isNaN(V)?Z:Ct(Math.abs(V),st),Rt&&(V=c(V)),pt&&+V==0&&nt!=="+"&&(pt=!1),xt=(pt?nt==="("?nt:j:nt==="-"||nt==="("?"":nt)+xt,rt=(Y==="s"?S[8+l/3]:"")+rt+(pt&&nt==="("?")":""),Ut){for(wt=-1,Bt=V.length;++wt<Bt;)if(Et=V.charCodeAt(wt),48>Et||Et>57){rt=(Et===46?B+V.slice(wt+1):V.slice(wt))+rt,V=V.slice(0,wt);break}}}ht&&!dt&&(V=k(V,1/0));var ut=xt.length+V.length+rt.length,it=ut<at?new Array(at-ut+1).join(lt):"";switch(ht&&dt&&(V=k(it+V,it.length?at-rt.length:1/0),it=""),ct){case"<":V=xt+V+rt+it;break;case"=":V=xt+it+V+rt;break;case"^":V=it.slice(0,ut=it.length>>1)+xt+V+rt+it.slice(ut);break;default:V=it+xt+V+rt;break}return z(V)}return kt.toString=function(){return G+""},kt}function et(G,lt){var ct=tt((G=s(G),G.type="f",G)),nt=Math.max(-8,Math.min(8,Math.floor(r(lt)/3)))*3,Q=Math.pow(10,-nt),dt=S[8+nt/3];return function(at){return ct(Q*at)+dt}}return{format:tt,formatPrefix:et}}var C;L({thousands:",",grouping:[3],currency:["$",""]});function L(w){return C=E(w),t.format=C.format,t.formatPrefix=C.formatPrefix,C}function h(w){return Math.max(0,-r(Math.abs(w)))}function I(w,k){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(r(k)/3)))*3-r(Math.abs(w)))}function A(w,k){return w=Math.abs(w),k=Math.abs(k)-w,Math.max(0,r(k)-r(w))+1}t.FormatSpecifier=u,t.formatDefaultLocale=L,t.formatLocale=E,t.formatSpecifier=s,t.precisionFixed=h,t.precisionPrefix=I,t.precisionRound=A,Object.defineProperty(t,"__esModule",{value:!0})})});var Gc={};qs(Gc,{default:()=>qc});module.exports=Gs(Gc);var lr=de(go(),1);var tn={selector:".gene-tooltip",api:"mygene",prefetch:"smart",prefetchThreshold:15,truncateSummary:4,display:{species:!0,location:!0,ideogram:!0,pathways:!0,domains:!0,geneTrack:!0},ideogram:{enabled:!0,height:100,showLabels:!1},pathwaySource:"reactome",pathwayCount:3,domainCount:3,tippyOptions:{allowHTML:!0,interactive:!0,placement:"bottom",theme:"light"}};var zr=new Map,Vr=(t,e)=>`${t}_${e}`,vo=(t,e)=>zr.has(Vr(t,e)),qr=(t,e)=>zr.get(Vr(t,e)),Gr=(t,e,n)=>{zr.set(Vr(t,e),n)},yo=(t,e)=>{t.forEach((n,r)=>{Gr(r,e,n)})};async function In(t,e){if(!t||t.length===0)return new Map;console.log(`Making BATCH request for ${t.length} genes in species: ${e}`);let n="https://mygene.info/v3/query",r=t.join(","),i=["_id","query","symbol","name","summary","taxid","genomic_pos","pathway","interpro","exons"].join(",");try{let o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`q=${r}&species=${e}&scopes=symbol&fields=${i}`});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);let a=await o.json(),s=new Map;for(let u of a)u.notfound||s.set(u.query,u);return s}catch(o){return console.error("Batch fetch failed:",o),new Map}}var wo=[{key:"ncbi",name:"NCBI",url:t=>`https://www.ncbi.nlm.nih.gov/gene/${t}`,requires:"id"},{key:"ensembl",name:"Ensembl",url:t=>`https://www.ensembl.org/id/${t}`,requires:"id"},{key:"genecards",name:"GeneCards",url:t=>`https://www.genecards.org/cgi-bin/carddisp.pl?gene=${t}`,requires:"symbol"}];var Tf={9606:{common:"Human",genus:"Homo sapiens",icon:"\u{1F9D1}"},10090:{common:"Mouse",genus:"Mus musculus",icon:"\u{1F42D}"},10116:{common:"Rat",genus:"Rattus norvegicus",icon:"\u{1F400}"},7227:{common:"Fruitfly",genus:"Drosophila melanogaster",icon:"\u{1FAB0}"},6239:{common:"Nematode",genus:"Caenorhabditis elegans",icon:"\u{1FAB1}"},7955:{common:"Zebrafish",genus:"Danio rerio",icon:"\u{1F41F}"},3702:{common:"Thale-cress",genus:"Arabidopsis thaliana",icon:"\u{1F331}"},8364:{common:"Frog",genus:"Xenopus tropicalis",icon:"\u{1F438}"},9823:{common:"Pig",genus:"Sus scrofa",icon:"\u{1F416}"}};function Of(t){let e=Tf[t]??{common:"Unknown",genus:"",icon:"\u2753"};return`
    <div class="gene-tooltip-section gene-tooltip-species">
      <span class="gene-tooltip-species-icon">${e.icon}</span>
      <span>${e.common}, <em>${e.genus}</em></span>
    </div>
  `}function Af(t,e=!1,n=""){if(!t)return"";let r=Array.isArray(t)?t[0]:t;if(!r)return"";let i=r.start.toLocaleString(),o=r.end.toLocaleString();return`
      <div class="gene-tooltip-section gene-tooltip-location">
        <div>
          <span class="gene-tooltip-location-label">Location:</span>
          <span>chr${r.chr}:${i}-${o}</span>
        </div>
        ${e?`<div class="gene-tooltip-ideo" id="gene-tooltip-ideo-${n}"></div>`:""}
      </div>
    `}function Sf(t){return`<div class="gene-tooltip-track" id="gene-tooltip-track-${t}"></div>`}function bo(t,e,n,r){if(!e||e.length===0)return"";let i=e.slice(0,n),o=e.length-n,a=i.map(u=>`
      <li>
        <a href="${u.url}" target="_blank" rel="noopener noreferrer">${u.name}</a>
      </li>
    `).join(""),s=o>0?`<span id="${r}" class="gene-tooltip-more-btn" data-more-count="${o}">
         ... and ${o} more
       </span>`:"";return o>0,`
    <div class="gene-tooltip-section gene-tooltip-list-section">
      <div class="gene-tooltip-list-header">${t}</div>
      <ul>${a}</ul>
      ${s}
    </div>
  `}function Cf(t,e,n){let r=t.pathway?.[e];if(!r)return"";let i=(Array.isArray(r)?r:[r]).map(a=>{let s="#";return e==="reactome"&&(s=`https://reactome.org/content/detail/${a.id}`),e==="kegg"&&(s=`https://www.genome.jp/dbget-bin/www_bget?path:${a.id}`),e==="wikipathways"&&(s=`https://www.wikipathways.org/pathways/${a.id}`),{name:a.name,url:s}}).sort((a,s)=>a.name.localeCompare(s.name)),o=`pathways-more-${t._id}`;return bo("Pathways",i,n,o)}function kf(t,e){let n=t.interpro;if(!n)return"";let r=(Array.isArray(n)?n:[n]).map(o=>({name:o.short_desc,url:`https://www.ebi.ac.uk/interpro/entry/InterPro/${o.id}`})).sort((o,a)=>o.name.localeCompare(a.name)),i=`domains-more-${t._id}`;return bo("Protein Domains",r,e,i)}function Fr(t,e={}){if(!t)return"<p>Gene not found.</p>";let{sources:n=["ncbi"],truncate:r=5,display:i={},pathwaySource:o="reactome",pathwayCount:a=3,domainCount:s=3}=e,u=wo.filter(b=>n.includes(b.key)).map(b=>b.requires==="id"&&!t._id||b.requires==="symbol"&&!t.symbol?"":`<a href="${b.url(t._id||t.symbol)}"
                 target="_blank"
                 rel="noopener noreferrer">
                ${b.name}
              </a>`).filter(Boolean).join(" | "),c=t.summary||"No summary available.",l=r&&c.length>0?"gene-tooltip-summary":"gene-tooltip-summary-full",v=r?'tabindex="0"':"",x=r?`style="--line-clamp: ${r};"`:"";return`
    <div class="gene-tooltip-content" style="text-align: left; max-width: 300px;">
      <div class="gene-tooltip-header">
        <strong>
          <a href="https://www.ncbi.nlm.nih.gov/gene/${t._id}" 
             target="_blank" 
             rel="noopener noreferrer"
             class="gene-tooltip-link">
            ${t.symbol}
          </a>
        </strong>
        <span class="gene-tooltip-name">(${t.name})</span>
      </div>

      ${i.species!==!1&&t.taxid?Of(t.taxid):""}
      ${i.location!==!1?Af(t.genomic_pos,i.ideogram,t._id):""}
      ${i.geneTrack!==!1&&t.genomic_pos?Sf(t._id):""}

      <p class="${l}" ${v} ${x}>${c}</p>

      ${i.pathways!==!1?Cf(t,o,a):""}
      ${i.domains!==!1?kf(t,s):""}
      
      ${u?`<div class="gene-tooltip-links">${u}</div>`:""}
    </div>
  `}function _o(t){let e=Array.from(document.querySelectorAll(t)),n=[],r=/[,\s;]+/;return e.forEach(i=>{let a=(i.textContent||"").trim().split(r).filter(Boolean);if(a.length>1){let s=i.dataset.species;if(!s){console.warn("Gene list container found without a data-species attribute. Skipping.",i);return}i.innerHTML="",a.forEach((u,c)=>{let l=document.createElement("span");l.textContent=u,l.dataset.species=s;let v=t.startsWith(".")?t.substring(1):t;l.classList.add(v),i.appendChild(l),n.push(l),c<a.length-1&&i.appendChild(document.createTextNode(", "))})}else a.length===1&&(i.textContent=a[0],n.push(i))}),n}function en(t){let e=t.textContent?.trim(),n=t.dataset.species;return!e||!n?null:{symbol:e,species:n}}function Mo(t){let e=new Map;return t.forEach(n=>{let r=en(n);!r||vo(r.symbol,r.species)||(e.has(r.species)||e.set(r.species,new Set),e.get(r.species).add(r.symbol))}),e}async function Eo(t){let e=Array.from(t.entries()).map(([n,r])=>In(Array.from(r),n).then(i=>yo(i,n)));await Promise.all(e)}function If(t){let e=Mo(t);Eo(e)}function Df(t){let e=new Set,n=null,r=()=>{if(e.size===0)return;let o=Mo(Array.from(e));Eo(o),e.clear()},i=new IntersectionObserver((o,a)=>{o.forEach(s=>{s.isIntersecting&&(e.add(s.target),a.unobserve(s.target),n&&clearTimeout(n),n=setTimeout(r,200))})},{rootMargin:"200px"});t.forEach(o=>i.observe(o))}function To(t,e,n){let r=e.length;t==="all"||t==="smart"&&r<=n?(console.log(`Prefetching all ${r} genes.`),If(e)):t==="smart"&&r>n&&(console.log("Using 'smart' prefetch strategy with IntersectionObserver."),Df(e))}function Oo(){document.addEventListener("click",t=>{let e=t.target;e.classList.contains("gene-tooltip-summary")&&e.classList.toggle("expanded")}),document.addEventListener("keydown",t=>{let e=t.target;e?.classList.contains("gene-tooltip-summary")&&(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),e.classList.toggle("expanded"))})}var Dn=null;async function Pf(){if(Dn)return Dn;if(window.Ideogram)return Promise.resolve(window.Ideogram);if(typeof window<"u"&&typeof document<"u"&&typeof window.GeneTooltip<"u"){let e=`[GeneTooltip] Ideogram global variable not found.
Please ensure the Ideogram script is loaded on the page
before initializing GeneTooltip, or use the ESM/CJS build.`;return console.error(e),Promise.reject(new Error(e))}return Dn=import("ideogram").then(e=>e.default).catch(e=>{let n=`[GeneTooltip] Failed to load Ideogram. 
Please ensure 'ideogram' is installed (it's a peer dependency).`;return console.error(n,e),Promise.reject(new Error(n))}),Dn}async function jr(t,e,n){console.log("[GeneTooltip] Starting renderIdeogram for:",e.symbol);let r=t.popper.querySelector(".gene-tooltip-ideo");try{let i=await Pf();if(!i){r&&(r.innerHTML="<small>Ideogram unavailable</small>");return}let o=`#gene-tooltip-ideo-${e._id}`,a=t.popper.querySelector(o);if(!a){console.error(`[GeneTooltip] CRITICAL: Ideogram container '${o}' not found.`);return}let s=Array.isArray(e.genomic_pos)?e.genomic_pos[0]:e.genomic_pos;if(!s){a.innerHTML="<small>No genomic position</small>";return}let u=String(s.chr);u.toLowerCase().startsWith("chr")&&(u=u.substring(3));let c="human";e.taxid===10090&&(c="mouse");let l={container:o,organism:c,chromosome:u,chrHeight:n.height??100,orientation:"horizontal",showBandLabels:n.showLabels??!1,annotations:[{name:e.symbol,chr:u,start:s.start,stop:s.end}]};new i(l),console.log("[GeneTooltip] Ideogram initialized.")}catch(i){console.error("[GeneTooltip] Ideogram failed to render:",i),r&&(r.innerHTML="<small>Ideogram not installed or failed to load.</small>")}}function Pn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var Ln="http://www.w3.org/1999/xhtml",Xr={svg:"http://www.w3.org/2000/svg",xhtml:Ln,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xr.hasOwnProperty(e)?{space:Xr[e],local:t}:t}function Nf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ln&&e.documentElement.namespaceURI===Ln?e.createElement(t):e.createElementNS(n,t)}}function Lf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $n(t){var e=Jt(t);return(e.local?Lf:Nf)(e)}function $f(){}function ve(t){return t==null?$f:function(){return this.querySelector(t)}}function Co(t){typeof t!="function"&&(t=ve(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,c,l=0;l<a;++l)(u=o[l])&&(c=t.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new J(r,this._parents)}function Ur(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Rf(){return[]}function nn(t){return t==null?Rf:function(){return this.querySelectorAll(t)}}function Bf(t){return function(){return Ur(t.apply(this,arguments))}}function ko(t){typeof t=="function"?t=Bf(t):t=nn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new J(r,i)}function rn(t){return function(){return this.matches(t)}}function Rn(t){return function(e){return e.matches(t)}}var Hf=Array.prototype.find;function zf(t){return function(){return Hf.call(this.children,t)}}function Vf(){return this.firstElementChild}function Io(t){return this.select(t==null?Vf:zf(typeof t=="function"?t:Rn(t)))}var qf=Array.prototype.filter;function Gf(){return Array.from(this.children)}function Ff(t){return function(){return qf.call(this.children,t)}}function Do(t){return this.selectAll(t==null?Gf:Ff(typeof t=="function"?t:Rn(t)))}function Po(t){typeof t!="function"&&(t=rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new J(r,this._parents)}function Bn(t){return new Array(t.length)}function No(){return new J(this._enter||this._groups.map(Bn),this._parents)}function on(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}on.prototype={constructor:on,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Lo(t){return function(){return t}}function jf(t,e,n,r,i,o){for(var a=0,s,u=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new on(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function Xf(t,e,n,r,i,o,a){var s,u,c=new Map,l=e.length,v=o.length,x=new Array(l),b;for(s=0;s<l;++s)(u=e[s])&&(x[s]=b=a.call(u,u.__data__,s,e)+"",c.has(b)?i[s]=u:c.set(b,u));for(s=0;s<v;++s)b=a.call(t,o[s],s,o)+"",(u=c.get(b))?(r[s]=u,u.__data__=o[s],c.delete(b)):n[s]=new on(t,o[s]);for(s=0;s<l;++s)(u=e[s])&&c.get(x[s])===u&&(i[s]=u)}function Uf(t){return t.__data__}function $o(t,e){if(!arguments.length)return Array.from(this,Uf);var n=e?Xf:jf,r=this._parents,i=this._groups;typeof t!="function"&&(t=Lo(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],v=i[c],x=v.length,b=Wf(t.call(l,l&&l.__data__,c,r)),O=b.length,T=s[c]=new Array(O),S=a[c]=new Array(O),E=u[c]=new Array(x);n(l,v,T,S,E,b,e);for(var C=0,L=0,h,I;C<O;++C)if(h=T[C]){for(C>=L&&(L=C+1);!(I=S[L])&&++L<O;);h._next=I||null}}return a=new J(a,r),a._enter=s,a._exit=u,a}function Wf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ro(){return new J(this._exit||this._groups.map(Bn),this._parents)}function Bo(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ho(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var c=n[u],l=r[u],v=c.length,x=s[u]=new Array(v),b,O=0;O<v;++O)(b=c[O]||l[O])&&(x[O]=b);for(;u<i;++u)s[u]=n[u];return new J(s,this._parents)}function zo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Vo(t){t||(t=Yf);function e(v,x){return v&&x?t(v.__data__,x.__data__):!v-!x}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),c,l=0;l<s;++l)(c=a[l])&&(u[l]=c);u.sort(e)}return new J(i,this._parents).order()}function Yf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function qo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Go(){return Array.from(this)}function Fo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function jo(){let t=0;for(let e of this)++t;return t}function Xo(){return!this.node()}function Uo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Kf(t){return function(){this.removeAttribute(t)}}function Qf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zf(t,e){return function(){this.setAttribute(t,e)}}function Jf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function el(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Wo(t,e){var n=Jt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Qf:Kf:typeof e=="function"?n.local?el:tl:n.local?Jf:Zf)(n,e))}function Hn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nl(t){return function(){this.style.removeProperty(t)}}function rl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function il(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yo(t,e,n){return arguments.length>1?this.each((e==null?nl:typeof e=="function"?il:rl)(t,e,n??"")):se(this.node(),t)}function se(t,e){return t.style.getPropertyValue(e)||Hn(t).getComputedStyle(t,null).getPropertyValue(e)}function ol(t){return function(){delete this[t]}}function al(t,e){return function(){this[t]=e}}function sl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ko(t,e){return arguments.length>1?this.each((e==null?ol:typeof e=="function"?sl:al)(t,e)):this.node()[t]}function Qo(t){return t.trim().split(/^|\s+/)}function Wr(t){return t.classList||new Zo(t)}function Zo(t){this._node=t,this._names=Qo(t.getAttribute("class")||"")}Zo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jo(t,e){for(var n=Wr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ta(t,e){for(var n=Wr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ul(t){return function(){Jo(this,t)}}function fl(t){return function(){ta(this,t)}}function ll(t,e){return function(){(e.apply(this,arguments)?Jo:ta)(this,t)}}function ea(t,e){var n=Qo(t+"");if(arguments.length<2){for(var r=Wr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ll:e?ul:fl)(n,e))}function cl(){this.textContent=""}function pl(t){return function(){this.textContent=t}}function dl(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function na(t){return arguments.length?this.each(t==null?cl:(typeof t=="function"?dl:pl)(t)):this.node().textContent}function hl(){this.innerHTML=""}function ml(t){return function(){this.innerHTML=t}}function gl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ra(t){return arguments.length?this.each(t==null?hl:(typeof t=="function"?gl:ml)(t)):this.node().innerHTML}function vl(){this.nextSibling&&this.parentNode.appendChild(this)}function ia(){return this.each(vl)}function yl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oa(){return this.each(yl)}function aa(t){var e=typeof t=="function"?t:$n(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xl(){return null}function sa(t,e){var n=typeof t=="function"?t:$n(t),r=e==null?xl:typeof e=="function"?e:ve(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wl(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.each(wl)}function bl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _l(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fa(t){return this.select(t?_l:bl)}function la(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ml(t){return function(e){t.call(this,e,this.__data__)}}function El(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Tl(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ol(t,e,n){return function(){var r=this.__on,i,o=Ml(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ca(t,e,n){var r=El(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(i=0,l=s[u];i<o;++i)if((a=r[i]).type===l.type&&a.name===l.name)return l.value}return}for(s=e?Ol:Tl,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function pa(t,e,n){var r=Hn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Al(t,e){return function(){return pa(this,t,e)}}function Sl(t,e){return function(){return pa(this,t,e.apply(this,arguments))}}function da(t,e){return this.each((typeof e=="function"?Sl:Al)(t,e))}function*ha(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Yr=[null];function J(t,e){this._groups=t,this._parents=e}function ma(){return new J([[document.documentElement]],Yr)}function Cl(){return this}J.prototype=ma.prototype={constructor:J,select:Co,selectAll:ko,selectChild:Io,selectChildren:Do,filter:Po,data:$o,enter:No,exit:Ro,join:Bo,merge:Ho,selection:Cl,order:zo,sort:Vo,call:qo,nodes:Go,node:Fo,size:jo,empty:Xo,each:Uo,attr:Wo,style:Yo,property:Ko,classed:ea,text:na,html:ra,raise:ia,lower:oa,append:aa,insert:sa,remove:ua,clone:fa,datum:la,on:ca,dispatch:da,[Symbol.iterator]:ha};var te=ma;function Kr(t){return typeof t=="string"?new J([[document.querySelector(t)]],[document.documentElement]):new J([[t]],Yr)}function zn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function un(){}var an=.7,Gn=1/an,$e="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kl=/^#([0-9a-f]{3,8})$/,Il=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),Dl=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),Pl=new RegExp(`^rgba\\(${$e},${$e},${$e},${sn}\\)$`),Nl=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${sn}\\)$`),Ll=new RegExp(`^hsl\\(${sn},${Xt},${Xt}\\)$`),$l=new RegExp(`^hsla\\(${sn},${Xt},${Xt},${sn}\\)$`),ga={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zn(un,Vt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:va,formatHex:va,formatHex8:Rl,formatHsl:Bl,formatRgb:ya,toString:ya});function va(){return this.rgb().formatHex()}function Rl(){return this.rgb().formatHex8()}function Bl(){return Ea(this).formatHsl()}function ya(){return this.rgb().formatRgb()}function Vt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kl.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xa(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Vn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Vn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Il.exec(t))?new St(e[1],e[2],e[3],1):(e=Dl.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pl.exec(t))?Vn(e[1],e[2],e[3],e[4]):(e=Nl.exec(t))?Vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ll.exec(t))?_a(e[1],e[2]/100,e[3]/100,1):(e=$l.exec(t))?_a(e[1],e[2]/100,e[3]/100,e[4]):ga.hasOwnProperty(t)?xa(ga[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function xa(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Vn(t,e,n,r){return r<=0&&(t=e=n=NaN),new St(t,e,n,r)}function Hl(t){return t instanceof un||(t=Vt(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function Re(t,e,n,r){return arguments.length===1?Hl(t):new St(t,e,n,r??1)}function St(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}zn(St,Re,Qr(un,{brighter(t){return t=t==null?Gn:Math.pow(Gn,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(xe(this.r),xe(this.g),xe(this.b),Fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wa,formatHex:wa,formatHex8:zl,formatRgb:ba,toString:ba}));function wa(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}`}function zl(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}${ye((isNaN(this.opacity)?1:this.opacity)*255)}`}function ba(){let t=Fn(this.opacity);return`${t===1?"rgb(":"rgba("}${xe(this.r)}, ${xe(this.g)}, ${xe(this.b)}${t===1?")":`, ${t})`}`}function Fn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ye(t){return t=xe(t),(t<16?"0":"")+t.toString(16)}function _a(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zt(t,e,n,r)}function Ea(t){if(t instanceof zt)return new zt(t.h,t.s,t.l,t.opacity);if(t instanceof un||(t=Vt(t)),!t)return new zt;if(t instanceof zt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new zt(a,s,u,t.opacity)}function Ta(t,e,n,r){return arguments.length===1?Ea(t):new zt(t,e,n,r??1)}function zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}zn(zt,Ta,Qr(un,{brighter(t){return t=t==null?Gn:Math.pow(Gn,t),new zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new St(Zr(t>=240?t-240:t+120,i,r),Zr(t,i,r),Zr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zt(Ma(this.h),qn(this.s),qn(this.l),Fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Fn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ma(this.h)}, ${qn(this.s)*100}%, ${qn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ma(t){return t=(t||0)%360,t<0?t+360:t}function qn(t){return Math.max(0,Math.min(1,t||0))}function Zr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Jr(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Oa(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Jr((n-r/e)*e,a,i,o,s)}}function Aa(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Jr((n-r/e)*e,i,o,a,s)}}var fn=t=>()=>t;function Vl(t,e){return function(n){return t+n*e}}function ql(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sa(t){return(t=+t)==1?jn:function(e,n){return n-e?ql(e,n,t):fn(isNaN(e)?n:e)}}function jn(t,e){var n=e-t;return n?Vl(t,n):fn(isNaN(t)?e:t)}var we=function t(e){var n=Sa(e);function r(i,o){var a=n((i=Re(i)).r,(o=Re(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),c=jn(i.opacity,o.opacity);return function(l){return i.r=a(l),i.g=s(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r}(1);function Ca(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Re(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}var Gl=Ca(Oa),Fl=Ca(Aa);function ka(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ia(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Da(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=be(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Pa(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Na(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=be(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ti=new RegExp(ei.source,"g");function jl(t){return function(){return t}}function Xl(t){return function(e){return t(e)+""}}function ln(t,e){var n=ei.lastIndex=ti.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=ei.exec(t))&&(i=ti.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:gt(r,i)})),n=ti.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Xl(u[0].x):jl(e):(e=u.length,function(c){for(var l=0,v;l<e;++l)s[(v=u[l]).i]=v.x(c);return s.join("")})}function be(t,e){var n=typeof e,r;return e==null||n==="boolean"?fn(e):(n==="number"?gt:n==="string"?(r=Vt(e))?(e=r,we):ln:e instanceof Vt?we:e instanceof Date?Pa:Ia(e)?ka:Array.isArray(e)?Da:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Na:gt)(t,e)}function ni(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var La=180/Math.PI,Xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ri(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*La,skewX:Math.atan(u)*La,scaleX:a,scaleY:s}}var Un;function $a(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xn:ri(e.a,e.b,e.c,e.d,e.e,e.f)}function Ra(t){return t==null?Xn:(Un||(Un=document.createElementNS("http://www.w3.org/2000/svg","g")),Un.setAttribute("transform",t),(t=Un.transform.baseVal.consolidate())?(t=t.matrix,ri(t.a,t.b,t.c,t.d,t.e,t.f)):Xn)}function Ba(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,v,x,b,O){if(c!==v||l!==x){var T=b.push("translate(",null,e,null,n);O.push({i:T-4,x:gt(c,v)},{i:T-2,x:gt(l,x)})}else(v||x)&&b.push("translate("+v+e+x+n)}function a(c,l,v,x){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),x.push({i:v.push(i(v)+"rotate(",null,r)-2,x:gt(c,l)})):l&&v.push(i(v)+"rotate("+l+r)}function s(c,l,v,x){c!==l?x.push({i:v.push(i(v)+"skewX(",null,r)-2,x:gt(c,l)}):l&&v.push(i(v)+"skewX("+l+r)}function u(c,l,v,x,b,O){if(c!==v||l!==x){var T=b.push(i(b)+"scale(",null,",",null,")");O.push({i:T-4,x:gt(c,v)},{i:T-2,x:gt(l,x)})}else(v!==1||x!==1)&&b.push(i(b)+"scale("+v+","+x+")")}return function(c,l){var v=[],x=[];return c=t(c),l=t(l),o(c.translateX,c.translateY,l.translateX,l.translateY,v,x),a(c.rotate,l.rotate,v,x),s(c.skewX,l.skewX,v,x),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,v,x),c=l=null,function(b){for(var O=-1,T=x.length,S;++O<T;)v[(S=x[O]).i]=S.x(b);return v.join("")}}}var ii=Ba($a,"px, ","px)","deg)"),oi=Ba(Ra,", ",")",")");var ja=de(So(),1);var Be=0,pn=0,cn=0,za=1e3,Wn,dn,Yn=0,_e=0,Kn=0,hn=typeof performance=="object"&&performance.now?performance:Date,Va=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gn(){return _e||(Va(Ul),_e=hn.now()+Kn)}function Ul(){_e=0}function mn(){this._call=this._time=this._next=null}mn.prototype=Qn.prototype={constructor:mn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?gn():+n)+(e==null?0:+e),!this._next&&dn!==this&&(dn?dn._next=this:Wn=this,dn=this),this._call=t,this._time=n,ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,ai())}};function Qn(t,e,n){var r=new mn;return r.restart(t,e,n),r}function qa(){gn(),++Be;for(var t=Wn,e;t;)(e=_e-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Be}function Ha(){_e=(Yn=hn.now())+Kn,Be=pn=0;try{qa()}finally{Be=0,Yl(),_e=0}}function Wl(){var t=hn.now(),e=t-Yn;e>za&&(Kn-=e,Yn=t)}function Yl(){for(var t,e=Wn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wn=n);dn=t,ai(r)}function ai(t){if(!Be){pn&&(pn=clearTimeout(pn));var e=t-_e;e>24?(t<1/0&&(pn=setTimeout(Ha,t-hn.now()-Kn)),cn&&(cn=clearInterval(cn))):(cn||(Yn=hn.now(),cn=setInterval(Wl,za)),Be=1,Va(Ha))}}function Zn(t,e,n){var r=new mn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Kl=(0,ja.dispatch)("start","end","cancel","interrupt"),Ql=[],Xa=0,Ga=1,tr=2,Jn=3,Fa=4,er=5,vn=6;function ue(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Zl(t,n,{name:e,index:r,group:i,on:Kl,tween:Ql,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xa})}function yn(t,e){var n=ft(t,e);if(n.state>Xa)throw new Error("too late; already scheduled");return n}function vt(t,e){var n=ft(t,e);if(n.state>Jn)throw new Error("too late; already running");return n}function ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Qn(o,0,n.time);function o(c){n.state=Ga,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var l,v,x,b;if(n.state!==Ga)return u();for(l in r)if(b=r[l],b.name===n.name){if(b.state===Jn)return Zn(a);b.state===Fa?(b.state=vn,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[l]):+l<e&&(b.state=vn,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[l])}if(Zn(function(){n.state===Jn&&(n.state=Fa,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=tr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===tr){for(n.state=Jn,i=new Array(x=n.tween.length),l=0,v=-1;l<x;++l)(b=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++v]=b);i.length=v+1}}function s(c){for(var l=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=er,1),v=-1,x=i.length;++v<x;)i[v].call(t,l);n.state===er&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=vn,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function nr(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>tr&&r.state<er,r.state=vn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Ua(t){return this.each(function(){nr(this,t)})}function Jl(t,e){var n,r;return function(){var i=vt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function tc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=vt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function Wa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Jl:tc)(n,t,e))}function He(t,e,n){var r=t._id;return t.each(function(){var i=vt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ft(i,r).value[e]}}function rr(t,e){var n;return(typeof e=="number"?gt:e instanceof Vt?we:(n=Vt(e))?(e=n,we):ln)(t,e)}function ec(t){return function(){this.removeAttribute(t)}}function nc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rc(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function ic(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function oc(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function ac(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function Ya(t,e){var n=Jt(t),r=n==="transform"?oi:rr;return this.attrTween(t,typeof e=="function"?(n.local?ac:oc)(n,r,He(this,"attr."+t,e)):e==null?(n.local?nc:ec)(n):(n.local?ic:rc)(n,r,e))}function sc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&uc(t,o)),n}return i._value=e,i}function lc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&sc(t,o)),n}return i._value=e,i}function Ka(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jt(t);return this.tween(n,(r.local?fc:lc)(r,e))}function cc(t,e){return function(){yn(this,t).delay=+e.apply(this,arguments)}}function pc(t,e){return e=+e,function(){yn(this,t).delay=e}}function Qa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cc:pc)(e,t)):ft(this.node(),e).delay}function dc(t,e){return function(){vt(this,t).duration=+e.apply(this,arguments)}}function hc(t,e){return e=+e,function(){vt(this,t).duration=e}}function Za(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dc:hc)(e,t)):ft(this.node(),e).duration}function mc(t,e){if(typeof e!="function")throw new Error;return function(){vt(this,t).ease=e}}function Ja(t){var e=this._id;return arguments.length?this.each(mc(e,t)):ft(this.node(),e).ease}function gc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,t).ease=n}}function ts(t){if(typeof t!="function")throw new Error;return this.each(gc(this._id,t))}function es(t){typeof t!="function"&&(t=rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&s.push(u);return new _t(r,this._parents,this._name,this._id)}function ns(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],c=n[s],l=u.length,v=a[s]=new Array(l),x,b=0;b<l;++b)(x=u[b]||c[b])&&(v[b]=x);for(;s<r;++s)a[s]=e[s];return new _t(a,this._parents,this._name,this._id)}function vc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function yc(t,e,n){var r,i,o=vc(e)?yn:vt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function rs(t,e){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(t):this.each(yc(n,t,e))}function xc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function is(){return this.on("end.remove",xc(this._id))}function os(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ve(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,c=o[a]=new Array(u),l,v,x=0;x<u;++x)(l=s[x])&&(v=t.call(l,l.__data__,x,s))&&("__data__"in l&&(v.__data__=l.__data__),c[x]=v,ue(c[x],e,n,x,c,ft(l,n)));return new _t(o,this._parents,e,n)}function as(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],c=u.length,l,v=0;v<c;++v)if(l=u[v]){for(var x=t.call(l,l.__data__,v,u),b,O=ft(l,n),T=0,S=x.length;T<S;++T)(b=x[T])&&ue(b,e,n,T,x,O);o.push(x),a.push(l)}return new _t(o,a,e,n)}var wc=te.prototype.constructor;function ss(){return new wc(this._groups,this._parents)}function bc(t,e){var n,r,i;return function(){var o=se(this,t),a=(this.style.removeProperty(t),se(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function us(t){return function(){this.style.removeProperty(t)}}function _c(t,e,n){var r,i=n+"",o;return function(){var a=se(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Mc(t,e,n){var r,i,o;return function(){var a=se(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),se(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Ec(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=vt(this,t),c=u.on,l=u.value[o]==null?s||(s=us(e)):void 0;(c!==n||i!==l)&&(r=(n=c).copy()).on(a,i=l),u.on=r}}function fs(t,e,n){var r=(t+="")=="transform"?ii:rr;return e==null?this.styleTween(t,bc(t,r)).on("end.style."+t,us(t)):typeof e=="function"?this.styleTween(t,Mc(t,r,He(this,"style."+t,e))).each(Ec(this._id,t)):this.styleTween(t,_c(t,r,e),n).on("end.style."+t,null)}function Tc(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Oc(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Tc(t,a,n)),r}return o._value=e,o}function ls(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Oc(t,e,n??""))}function Ac(t){return function(){this.textContent=t}}function Sc(t){return function(){var e=t(this);this.textContent=e??""}}function cs(t){return this.tween("text",typeof t=="function"?Sc(He(this,"text",t)):Ac(t==null?"":t+""))}function Cc(t){return function(e){this.textContent=t.call(this,e)}}function kc(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Cc(i)),e}return r._value=t,r}function ps(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kc(t))}function ds(){for(var t=this._name,e=this._id,n=ir(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var l=ft(u,e);ue(u,t,n,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new _t(r,this._parents,t,n)}function hs(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=vt(this,r),l=c.on;l!==t&&(e=(t=l).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),c.on=e}),i===0&&o()})}var Ic=0;function _t(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ms(t){return te().transition(t)}function ir(){return++Ic}var ee=te.prototype;_t.prototype=ms.prototype={constructor:_t,select:os,selectAll:as,selectChild:ee.selectChild,selectChildren:ee.selectChildren,filter:es,merge:ns,selection:ss,transition:ds,call:ee.call,nodes:ee.nodes,node:ee.node,size:ee.size,empty:ee.empty,each:ee.each,on:rs,attr:Ya,attrTween:Ka,style:fs,styleTween:ls,text:cs,textTween:ps,remove:is,tween:Wa,delay:Qa,duration:Za,ease:Ja,easeVarying:ts,end:hs,[Symbol.iterator]:ee[Symbol.iterator]};function or(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Dc={time:null,delay:0,duration:250,ease:or};function Pc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function gs(t){var e,n;t instanceof _t?(e=t._id,t=t._name):(e=ir(),(n=Dc).time=gn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,c=0;c<s;++c)(u=a[c])&&ue(u,t,e,c,a,n||Pc(u,e));return new _t(r,this._parents,t,e)}te.prototype.interrupt=Ua;te.prototype.transition=gs;var{abs:vv,max:yv,min:xv}=Math;function vs(t){return[+t[0],+t[1]]}function Nc(t){return[vs(t[0]),vs(t[1])]}var wv={name:"x",handles:["w","e"].map(si),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},bv={name:"y",handles:["n","s"].map(si),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_v={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(si),input:function(t){return t==null?null:Nc(t)},output:function(t){return t}};function si(t){return{type:t}}function xs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var fr=de(sr(),1);var bs=de(sr(),1);function ui(t){return function(){return t}}function fi(t){return+t}var ws=[0,1];function ze(t){return t}function li(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ui(isNaN(e)?NaN:.5)}function Lc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $c(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=li(i,r),o=n(a,o)):(r=li(r,i),o=n(o,a)),function(s){return o(r(s))}}function Rc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=li(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=(0,bs.bisect)(t,s,1,r)-1;return o[u](i[u](s))}}function _s(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bc(){var t=ws,e=ws,n=be,r,i,o,a=ze,s,u,c;function l(){var x=Math.min(t.length,e.length);return a!==ze&&(a=Lc(t[0],t[x-1])),s=x>2?Rc:$c,u=c=null,v}function v(x){return x==null||isNaN(x=+x)?o:(u||(u=s(t.map(r),e,n)))(r(a(x)))}return v.invert=function(x){return a(i((c||(c=s(e,t.map(r),gt)))(x)))},v.domain=function(x){return arguments.length?(t=Array.from(x,fi),l()):t.slice()},v.range=function(x){return arguments.length?(e=Array.from(x),l()):e.slice()},v.rangeRound=function(x){return e=Array.from(x),n=ni,l()},v.clamp=function(x){return arguments.length?(a=x?!0:ze,l()):a!==ze},v.interpolate=function(x){return arguments.length?(n=x,l()):n},v.unknown=function(x){return arguments.length?(o=x,v):o},function(x,b){return r=x,i=b,l()}}function ci(){return Bc()(ze,ze)}var Ts=de(sr(),1),$t=de(Es(),1);function pi(t,e,n,r){var i=(0,Ts.tickStep)(t,e,n),o;switch(r=(0,$t.formatSpecifier)(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=(0,$t.precisionPrefix)(i,a))&&(r.precision=o),(0,$t.formatPrefix)(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=(0,$t.precisionRound)(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=(0,$t.precisionFixed)(i))&&(r.precision=o-(r.type==="%")*2);break}}return(0,$t.format)(r)}function Hc(t){var e=t.domain;return t.ticks=function(n){var r=e();return(0,fr.ticks)(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pi(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,c,l=10;for(s<a&&(c=a,a=s,s=c,c=i,i=o,o=c);l-- >0;){if(c=(0,fr.tickIncrement)(a,s,n),c===u)return r[i]=a,r[o]=s,e(r);if(c>0)a=Math.floor(a/c)*c,s=Math.ceil(s/c)*c;else if(c<0)a=Math.ceil(a*c)/c,s=Math.floor(s*c)/c;else break;u=c}return t},t}function xn(){var t=ci();return t.copy=function(){return _s(t,xn())},xs.apply(t,arguments),Hc(t)}function fe(t,e,n){this.k=t,this.x=e,this.y=n}fe.prototype={constructor:fe,scale:function(t){return t===1?this:new fe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var di=new fe(1,0,0);hi.prototype=fe.prototype;function hi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return di;return t.__zoom}function Os(t,e){let n=`#gene-tooltip-track-${e._id}`,r=t.popper.querySelector(n);if(!r){console.error(`[GeneTooltip] Gene track container '${n}' not found.`);return}let i={};if(!e.exons){r.innerHTML="<small>Exon data not available.</small>";return}e.exons.forEach(C=>{let L=`${C.txstart}-${C.txend}`;i[L]||(i[L]=[]),i[L].push(C)});let o=Object.keys(i).sort((C,L)=>{let h=parseInt(C.split("-")[1])-parseInt(C.split("-")[0]);return parseInt(L.split("-")[1])-parseInt(L.split("-")[0])-h})[0],a=i[o];if(!a||a.length===0){r.innerHTML="<small>Exon data not available.</small>";return}let s={top:10,right:10,bottom:10,left:10},u=290-s.left-s.right,c=40-s.top-s.bottom;r.innerHTML="";let l=Kr(r).append("svg").attr("width",u+s.left+s.right).attr("height",c+s.top+s.bottom).append("g").attr("transform",`translate(${s.left},${s.top})`),v=a[0].txstart,x=a[0].txend,b=a[0].strand,O=xn().domain([v,x]).range([0,u]);l.append("line").attr("x1",O(v)).attr("y1",c/2).attr("x2",O(x)).attr("y2",c/2).attr("stroke","#555").attr("stroke-width",2),l.selectAll("rect").data(a).enter().append("rect").attr("x",C=>O(C.start)).attr("y",0).attr("width",C=>O(C.end)-O(C.start)).attr("height",c).attr("fill","#007bff").attr("stroke","#0056b3");let T=Math.floor(u/20),S=Pn(T).map(C=>v+(C+1)*(x-v)/(T+1)),E=b===1?"M-2,-4 L2,0 L-2,4":"M2,-4 L-2,0 L2,4";l.selectAll(".chevron").data(S).enter().append("path").attr("class","chevron").attr("d",E).attr("transform",C=>`translate(${O(C)}, ${c/2})`).attr("fill","none").attr("stroke","#555").attr("stroke-width",1.5)}function As(t){return`<ul class="gene-tooltip-nested-list">${t.map(n=>`<li><a href="${n.url}" target="_blank" rel="noopener noreferrer">${n.name}</a></li>`).join("")}</ul>`}function Vc(t={}){let e={...tn,...t,display:{...tn.display,...t.display},ideogram:{...tn.ideogram,...t.ideogram},tippyOptions:{...tn.tippyOptions,...t.tippyOptions}},n=_o(e.selector);n.length!==0&&(To(e.prefetch,n,e.prefetchThreshold),(0,lr.default)(n,{...e.tippyOptions,content:"Loading...",onShow(r){let i=en(r.reference);if(!i){r.setContent("Invalid gene element");return}let{symbol:o,species:a}=i,s={truncate:e.truncateSummary,display:{...e.display,ideogram:e.ideogram?.enabled??!1},pathwaySource:e.pathwaySource,pathwayCount:e.pathwayCount,domainCount:e.domainCount},u=qr(o,a);if(typeof u<"u"){r.setContent(Fr(u,s)),e.ideogram?.enabled&&u?.genomic_pos&&setTimeout(()=>{jr(r,u,e.ideogram)},0);return}In([o],a).then(c=>{let l=c.get(o)||null;Gr(o,a,l),r.setContent(Fr(l,s)),e.ideogram?.enabled&&l?.genomic_pos&&setTimeout(()=>{jr(r,l,e.ideogram)},0)}).catch(c=>{console.error(`Failed to fetch data for ${o}`,c),r.setContent("Error loading data.")})},onMount(r){let i=en(r.reference);if(!i)return;let o=qr(i.symbol,i.species);if(!o)return;e.display.geneTrack&&o.exons&&Os(r,o),r._nestedTippys=[];let a=r.popper.querySelector(`#pathways-more-${o._id}`);if(a&&o.pathway?.[e.pathwaySource]){let u=o.pathway[e.pathwaySource],c=(Array.isArray(u)?u:[u]).map(v=>{let x="#";return e.pathwaySource==="reactome"&&(x=`https://reactome.org/content/detail/${v.id}`),e.pathwaySource==="kegg"&&(x=`https://www.genome.jp/dbget-bin/www_bget?path:${v.id}`),e.pathwaySource==="wikipathways"&&(x=`https://www.wikipathways.org/pathways/${v.id}`),{name:v.name,url:x}}).sort((v,x)=>v.name.localeCompare(x.name)),l=(0,lr.default)(a,{content:As(c),allowHTML:!0,interactive:!0,trigger:"mouseenter focus",placement:"right",theme:"light"});r._nestedTippys.push(l)}let s=r.popper.querySelector(`#domains-more-${o._id}`);if(s&&o.interpro){let u=o.interpro,c=(Array.isArray(u)?u:[u]).map(v=>({name:v.short_desc,url:`https://www.ebi.ac.uk/interpro/entry/InterPro/${v.id}`})).sort((v,x)=>v.name.localeCompare(x.name)),l=(0,lr.default)(s,{content:As(c),allowHTML:!0,interactive:!0,trigger:"mouseenter focus",placement:"right",theme:"light"});r._nestedTippys.push(l)}},onHidden(r){r._nestedTippys&&(r._nestedTippys.forEach(i=>i.destroy()),r._nestedTippys=[])}}),Oo())}var qc={init:Vc};
