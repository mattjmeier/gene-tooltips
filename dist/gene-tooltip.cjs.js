"use strict";var Rs=Object.create;var _n=Object.defineProperty;var Bs=Object.getOwnPropertyDescriptor;var zs=Object.getOwnPropertyNames;var Hs=Object.getPrototypeOf,Gs=Object.prototype.hasOwnProperty;var Fe=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vs=(t,e)=>{for(var n in e)_n(t,n,{get:e[n],enumerable:!0})},gi=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zs(e))!Gs.call(t,i)&&i!==n&&_n(t,i,{get:()=>e[i],enumerable:!(r=Bs(e,i))||r.enumerable});return t};var de=(t,e,n)=>(n=t!=null?Rs(Hs(t)):{},gi(e||!t||!t.__esModule?_n(n,"default",{value:t,enumerable:!0}):n,t)),qs=t=>gi(_n({},"__esModule",{value:!0}),t);var Gi=Fe(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});function It(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function he(t){var e=It(t).Element;return t instanceof e||t instanceof Element}function Nt(t){var e=It(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function wr(t){if(typeof ShadowRoot>"u")return!1;var e=It(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var me=Math.max,Tn=Math.min,Se=Math.round;function yr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Oi(){return!/^((?!chrome|android).)*safari/i.test(yr())}function Ce(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Nt(t)&&(i=t.offsetWidth>0&&Se(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Se(r.height)/t.offsetHeight||1);var a=he(t)?It(t):window,s=a.visualViewport,u=!Oi()&&n,l=(r.left+(u&&s?s.offsetLeft:0))/i,c=(r.top+(u&&s?s.offsetTop:0))/o,y=r.width/i,w=r.height/o;return{width:y,height:w,top:c,right:l+y,bottom:c+w,left:l,x:l,y:c}}function br(t){var e=It(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Fs(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function js(t){return t===It(t)||!Nt(t)?br(t):Fs(t)}function Ft(t){return t?(t.nodeName||"").toLowerCase():null}function re(t){return((he(t)?t.ownerDocument:t.document)||window.document).documentElement}function _r(t){return Ce(re(t)).left+br(t).scrollLeft}function Qt(t){return It(t).getComputedStyle(t)}function Mr(t){var e=Qt(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Us(t){var e=t.getBoundingClientRect(),n=Se(e.width)/t.offsetWidth||1,r=Se(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Xs(t,e,n){n===void 0&&(n=!1);var r=Nt(e),i=Nt(e)&&Us(e),o=re(e),a=Ce(t,i,n),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Ft(e)!=="body"||Mr(o))&&(s=js(e)),Nt(e)?(u=Ce(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=_r(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Er(t){var e=Ce(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function On(t){return Ft(t)==="html"?t:t.assignedSlot||t.parentNode||(wr(t)?t.host:null)||re(t)}function Ai(t){return["html","body","#document"].indexOf(Ft(t))>=0?t.ownerDocument.body:Nt(t)&&Mr(t)?t:Ai(On(t))}function Ue(t,e){var n;e===void 0&&(e=[]);var r=Ai(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=It(r),a=i?[o].concat(o.visualViewport||[],Mr(r)?r:[]):r,s=e.concat(a);return i?s:s.concat(Ue(On(a)))}function Ws(t){return["table","td","th"].indexOf(Ft(t))>=0}function vi(t){return!Nt(t)||Qt(t).position==="fixed"?null:t.offsetParent}function Ys(t){var e=/firefox/i.test(yr()),n=/Trident/i.test(yr());if(n&&Nt(t)){var r=Qt(t);if(r.position==="fixed")return null}var i=On(t);for(wr(i)&&(i=i.host);Nt(i)&&["html","body"].indexOf(Ft(i))<0;){var o=Qt(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ye(t){for(var e=It(t),n=vi(t);n&&Ws(n)&&Qt(n).position==="static";)n=vi(n);return n&&(Ft(n)==="html"||Ft(n)==="body"&&Qt(n).position==="static")?e:n||Ys(t)||e}var Ot="top",Pt="bottom",Lt="right",At="left",Tr="auto",Ke=[Ot,Pt,Lt,At],ke="start",We="end",Ks="clippingParents",Si="viewport",je="popper",Qs="reference",yi=Ke.reduce(function(t,e){return t.concat([e+"-"+ke,e+"-"+We])},[]),Ci=[].concat(Ke,[Tr]).reduce(function(t,e){return t.concat([e,e+"-"+ke,e+"-"+We])},[]),Zs="beforeRead",Js="read",tu="afterRead",eu="beforeMain",nu="main",ru="afterMain",iu="beforeWrite",ou="write",au="afterWrite",su=[Zs,Js,tu,eu,nu,ru,iu,ou,au];function uu(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!n.has(s)){var u=e.get(s);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function fu(t){var e=uu(t);return su.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function lu(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function cu(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function pu(t,e){var n=It(t),r=re(t),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=Oi();(l||!l&&e==="fixed")&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s+_r(t),y:u}}function du(t){var e,n=re(t),r=br(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=me(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=me(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+_r(t),u=-r.scrollTop;return Qt(i||n).direction==="rtl"&&(s+=me(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function ki(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&wr(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function xr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mu(t,e){var n=Ce(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xi(t,e,n){return e===Si?xr(pu(t,n)):he(e)?mu(e,n):xr(du(re(t)))}function hu(t){var e=Ue(On(t)),n=["absolute","fixed"].indexOf(Qt(t).position)>=0,r=n&&Nt(t)?Ye(t):t;return he(r)?e.filter(function(i){return he(i)&&ki(i,r)&&Ft(i)!=="body"}):[]}function gu(t,e,n,r){var i=e==="clippingParents"?hu(t):[].concat(e),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(u,l){var c=xi(t,l,r);return u.top=me(c.top,u.top),u.right=Tn(c.right,u.right),u.bottom=Tn(c.bottom,u.bottom),u.left=me(c.left,u.left),u},xi(t,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function qt(t){return t.split("-")[0]}function Ie(t){return t.split("-")[1]}function Or(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ii(t){var e=t.reference,n=t.element,r=t.placement,i=r?qt(r):null,o=r?Ie(r):null,a=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,u;switch(i){case Ot:u={x:a,y:e.y-n.height};break;case Pt:u={x:a,y:e.y+e.height};break;case Lt:u={x:e.x+e.width,y:s};break;case At:u={x:e.x-n.width,y:s};break;default:u={x:e.x,y:e.y}}var l=i?Or(i):null;if(l!=null){var c=l==="y"?"height":"width";switch(o){case ke:u[l]=u[l]-(e[c]/2-n[c]/2);break;case We:u[l]=u[l]+(e[c]/2-n[c]/2);break}}return u}function Di(){return{top:0,right:0,bottom:0,left:0}}function Ni(t){return Object.assign({},Di(),t)}function Pi(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}function De(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,a=o===void 0?t.strategy:o,s=n.boundary,u=s===void 0?Ks:s,l=n.rootBoundary,c=l===void 0?Si:l,y=n.elementContext,w=y===void 0?je:y,b=n.altBoundary,C=b===void 0?!1:b,T=n.padding,A=T===void 0?0:T,E=Ni(typeof A!="number"?A:Pi(A,Ke)),D=w===je?Qs:je,L=t.rects.popper,m=t.elements[C?D:w],k=gu(he(m)?m:m.contextElement||re(t.elements.popper),u,c,a),O=Ce(t.elements.reference),x=Ii({reference:O,element:L,strategy:"absolute",placement:i}),S=xr(Object.assign({},L,x)),$=w===je?S:O,N={top:k.top-$.top+E.top,bottom:$.bottom-k.bottom+E.bottom,left:k.left-$.left+E.left,right:$.right-k.right+E.right},B=t.modifiersData.offset;if(w===je&&B){var H=B[i];Object.keys(N).forEach(function(V){var j=[Lt,Pt].indexOf(V)>=0?1:-1,Z=[Ot,Pt].indexOf(V)>=0?"y":"x";N[V]+=H[Z]*j})}return N}var wi={placement:"bottom",modifiers:[],strategy:"absolute"};function bi(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ar(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?wi:i;return function(s,u,l){l===void 0&&(l=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},wi,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},y=[],w=!1,b={state:c,setOptions:function(E){var D=typeof E=="function"?E(c.options):E;T(),c.options=Object.assign({},o,c.options,D),c.scrollParents={reference:he(s)?Ue(s):s.contextElement?Ue(s.contextElement):[],popper:Ue(u)};var L=fu(cu([].concat(r,c.options.modifiers)));return c.orderedModifiers=L.filter(function(m){return m.enabled}),C(),b.update()},forceUpdate:function(){if(!w){var E=c.elements,D=E.reference,L=E.popper;if(bi(D,L)){c.rects={reference:Xs(D,Ye(L),c.options.strategy==="fixed"),popper:Er(L)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var m=0;m<c.orderedModifiers.length;m++){if(c.reset===!0){c.reset=!1,m=-1;continue}var k=c.orderedModifiers[m],O=k.fn,x=k.options,S=x===void 0?{}:x,$=k.name;typeof O=="function"&&(c=O({state:c,options:S,name:$,instance:b})||c)}}}},update:lu(function(){return new Promise(function(A){b.forceUpdate(),A(c)})}),destroy:function(){T(),w=!0}};if(!bi(s,u))return b;b.setOptions(l).then(function(A){!w&&l.onFirstUpdate&&l.onFirstUpdate(A)});function C(){c.orderedModifiers.forEach(function(A){var E=A.name,D=A.options,L=D===void 0?{}:D,m=A.effect;if(typeof m=="function"){var k=m({state:c,name:E,instance:b,options:L}),O=function(){};y.push(k||O)}})}function T(){y.forEach(function(A){return A()}),y=[]}return b}}var Mn={passive:!0};function vu(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,s=a===void 0?!0:a,u=It(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(c){c.addEventListener("scroll",n.update,Mn)}),s&&u.addEventListener("resize",n.update,Mn),function(){o&&l.forEach(function(c){c.removeEventListener("scroll",n.update,Mn)}),s&&u.removeEventListener("resize",n.update,Mn)}}var Sr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vu,data:{}};function yu(t){var e=t.state,n=t.name;e.modifiersData[n]=Ii({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Cr={name:"popperOffsets",enabled:!0,phase:"read",fn:yu,data:{}},xu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wu(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Se(n*i)/i||0,y:Se(r*i)/i||0}}function _i(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,a=t.offsets,s=t.position,u=t.gpuAcceleration,l=t.adaptive,c=t.roundOffsets,y=t.isFixed,w=a.x,b=w===void 0?0:w,C=a.y,T=C===void 0?0:C,A=typeof c=="function"?c({x:b,y:T}):{x:b,y:T};b=A.x,T=A.y;var E=a.hasOwnProperty("x"),D=a.hasOwnProperty("y"),L=At,m=Ot,k=window;if(l){var O=Ye(n),x="clientHeight",S="clientWidth";if(O===It(n)&&(O=re(n),Qt(O).position!=="static"&&s==="absolute"&&(x="scrollHeight",S="scrollWidth")),O=O,i===Ot||(i===At||i===Lt)&&o===We){m=Pt;var $=y&&O===k&&k.visualViewport?k.visualViewport.height:O[x];T-=$-r.height,T*=u?1:-1}if(i===At||(i===Ot||i===Pt)&&o===We){L=Lt;var N=y&&O===k&&k.visualViewport?k.visualViewport.width:O[S];b-=N-r.width,b*=u?1:-1}}var B=Object.assign({position:s},l&&xu),H=c===!0?wu({x:b,y:T},It(n)):{x:b,y:T};if(b=H.x,T=H.y,u){var V;return Object.assign({},B,(V={},V[m]=D?"0":"",V[L]=E?"0":"",V.transform=(k.devicePixelRatio||1)<=1?"translate("+b+"px, "+T+"px)":"translate3d("+b+"px, "+T+"px, 0)",V))}return Object.assign({},B,(e={},e[m]=D?T+"px":"",e[L]=E?b+"px":"",e.transform="",e))}function bu(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,s=n.roundOffsets,u=s===void 0?!0:s,l={placement:qt(e.placement),variation:Ie(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_i(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_i(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var kr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bu,data:{}};function _u(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Nt(o)||!Ft(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function Mu(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},a=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),s=a.reduce(function(u,l){return u[l]="",u},{});!Nt(i)||!Ft(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}var Ir={name:"applyStyles",enabled:!0,phase:"write",fn:_u,effect:Mu,requires:["computeStyles"]};function Eu(t,e,n){var r=qt(t),i=[At,Ot].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[At,Lt].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Tu(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,a=Ci.reduce(function(c,y){return c[y]=Eu(y,e.rects,o),c},{}),s=a[e.placement],u=s.x,l=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=a}var Li={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tu},Ou={left:"right",right:"left",bottom:"top",top:"bottom"};function En(t){return t.replace(/left|right|bottom|top/g,function(e){return Ou[e]})}var Au={start:"end",end:"start"};function Mi(t){return t.replace(/start|end/g,function(e){return Au[e]})}function Su(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,l=u===void 0?Ci:u,c=Ie(r),y=c?s?yi:yi.filter(function(C){return Ie(C)===c}):Ke,w=y.filter(function(C){return l.indexOf(C)>=0});w.length===0&&(w=y);var b=w.reduce(function(C,T){return C[T]=De(t,{placement:T,boundary:i,rootBoundary:o,padding:a})[qt(T)],C},{});return Object.keys(b).sort(function(C,T){return b[C]-b[T]})}function Cu(t){if(qt(t)===Tr)return[];var e=En(t);return[Mi(t),e,Mi(e)]}function ku(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!0:a,u=n.fallbackPlacements,l=n.padding,c=n.boundary,y=n.rootBoundary,w=n.altBoundary,b=n.flipVariations,C=b===void 0?!0:b,T=n.allowedAutoPlacements,A=e.options.placement,E=qt(A),D=E===A,L=u||(D||!C?[En(A)]:Cu(A)),m=[A].concat(L).reduce(function(at,mt){return at.concat(qt(mt)===Tr?Su(e,{placement:mt,boundary:c,rootBoundary:y,padding:l,flipVariations:C,allowedAutoPlacements:T}):mt)},[]),k=e.rects.reference,O=e.rects.popper,x=new Map,S=!0,$=m[0],N=0;N<m.length;N++){var B=m[N],H=qt(B),V=Ie(B)===ke,j=[Ot,Pt].indexOf(H)>=0,Z=j?"width":"height",tt=De(e,{placement:B,boundary:c,rootBoundary:y,altBoundary:w,padding:l}),et=j?V?Lt:At:V?Pt:Ot;k[Z]>O[Z]&&(et=En(et));var q=En(et),lt=[];if(o&&lt.push(tt[H]<=0),s&&lt.push(tt[et]<=0,tt[q]<=0),lt.every(function(at){return at})){$=B,S=!1;break}x.set(B,lt)}if(S)for(var ct=C?3:1,nt=function(mt){var st=m.find(function(Rt){var Y=x.get(Rt);if(Y)return Y.slice(0,mt).every(function(Dt){return Dt})});if(st)return $=st,"break"},Q=ct;Q>0;Q--){var dt=nt(Q);if(dt==="break")break}e.placement!==$&&(e.modifiersData[r]._skip=!0,e.placement=$,e.reset=!0)}}var $i={name:"flip",enabled:!0,phase:"main",fn:ku,requiresIfExists:["offset"],data:{_skip:!1}};function Iu(t){return t==="x"?"y":"x"}function Xe(t,e,n){return me(t,Tn(e,n))}function Du(t,e,n){var r=Xe(t,e,n);return r>n?n:r}function Nu(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,s=a===void 0?!1:a,u=n.boundary,l=n.rootBoundary,c=n.altBoundary,y=n.padding,w=n.tether,b=w===void 0?!0:w,C=n.tetherOffset,T=C===void 0?0:C,A=De(e,{boundary:u,rootBoundary:l,padding:y,altBoundary:c}),E=qt(e.placement),D=Ie(e.placement),L=!D,m=Or(E),k=Iu(m),O=e.modifiersData.popperOffsets,x=e.rects.reference,S=e.rects.popper,$=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,N=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(O){if(o){var V,j=m==="y"?Ot:At,Z=m==="y"?Pt:Lt,tt=m==="y"?"height":"width",et=O[m],q=et+A[j],lt=et-A[Z],ct=b?-S[tt]/2:0,nt=D===ke?x[tt]:S[tt],Q=D===ke?-S[tt]:-x[tt],dt=e.elements.arrow,at=b&&dt?Er(dt):{width:0,height:0},mt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Di(),st=mt[j],Rt=mt[Z],Y=Xe(0,x[tt],at[tt]),Dt=L?x[tt]/2-ct-Y-st-N.mainAxis:nt-Y-st-N.mainAxis,Mt=L?-x[tt]/2+ct+Y+Rt+N.mainAxis:Q+Y+Rt+N.mainAxis,Ct=e.elements.arrow&&Ye(e.elements.arrow),Xt=Ct?m==="y"?Ct.clientTop||0:Ct.clientLeft||0:0,kt=(V=B?.[m])!=null?V:0,G=et+Dt-kt-Xt,xt=et+Mt-kt,rt=Xe(b?Tn(q,G):q,et,b?me(lt,xt):lt);O[m]=rt,H[m]=rt-et}if(s){var wt,Bt=m==="x"?Ot:At,Et=m==="x"?Pt:Lt,pt=O[k],ut=k==="y"?"height":"width",it=pt+A[Bt],Wt=pt-A[Et],le=[Ot,At].indexOf(E)!==-1,Me=(wt=B?.[k])!=null?wt:0,ce=le?it:pt-x[ut]-S[ut]-Me+N.altAxis,Ee=le?pt+x[ut]+S[ut]-Me-N.altAxis:Wt,Te=b&&le?Du(ce,pt,Ee):Xe(b?ce:it,pt,b?Ee:Wt);O[k]=Te,H[k]=Te-pt}e.modifiersData[r]=H}}var Ri={name:"preventOverflow",enabled:!0,phase:"main",fn:Nu,requiresIfExists:["offset"]},Pu=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Ni(typeof e!="number"?e:Pi(e,Ke))};function Lu(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=qt(n.placement),u=Or(s),l=[At,Lt].indexOf(s)>=0,c=l?"height":"width";if(!(!o||!a)){var y=Pu(i.padding,n),w=Er(o),b=u==="y"?Ot:At,C=u==="y"?Pt:Lt,T=n.rects.reference[c]+n.rects.reference[u]-a[u]-n.rects.popper[c],A=a[u]-n.rects.reference[u],E=Ye(o),D=E?u==="y"?E.clientHeight||0:E.clientWidth||0:0,L=T/2-A/2,m=y[b],k=D-w[c]-y[C],O=D/2-w[c]/2+L,x=Xe(m,O,k),S=u;n.modifiersData[r]=(e={},e[S]=x,e.centerOffset=x-O,e)}}function $u(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||ki(e.elements.popper,i)&&(e.elements.arrow=i))}var Bi={name:"arrow",enabled:!0,phase:"main",fn:Lu,effect:$u,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ei(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Ti(t){return[Ot,Lt,Pt,At].some(function(e){return t[e]>=0})}function Ru(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,a=De(e,{elementContext:"reference"}),s=De(e,{altBoundary:!0}),u=Ei(a,r),l=Ei(s,i,o),c=Ti(u),y=Ti(l);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":y})}var zi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ru},Bu=[Sr,Cr,kr,Ir],zu=Ar({defaultModifiers:Bu}),Hi=[Sr,Cr,kr,Ir,Li,$i,Ri,Bi,zi],Hu=Ar({defaultModifiers:Hi});yt.applyStyles=Ir;yt.arrow=Bi;yt.computeStyles=kr;yt.createPopper=Hu;yt.createPopperLite=zu;yt.defaultModifiers=Hi;yt.detectOverflow=De;yt.eventListeners=Sr;yt.flip=$i;yt.hide=zi;yt.offset=Li;yt.popperGenerator=Ar;yt.popperOffsets=Cr;yt.preventOverflow=Ri});var go=Fe(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var Zi=Gi(),Gu='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Vu="tippy-box",Ji="tippy-content",to="tippy-backdrop",eo="tippy-arrow",no="tippy-svg-arrow",ie={passive:!0,capture:!0},ro=function(){return document.body};function qu(t,e){return{}.hasOwnProperty.call(t,e)}function Dr(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function Rr(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function io(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Vi(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Br(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function Fu(t){return t.split(/\s+/).filter(Boolean)}function oe(t){return[].concat(t)}function qi(t,e){t.indexOf(e)===-1&&t.push(e)}function ju(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function oo(t){return t.split("-")[0]}function Pe(t){return[].slice.call(t)}function Fi(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function ge(){return document.createElement("div")}function Qe(t){return["Element","Fragment"].some(function(e){return Rr(t,e)})}function Uu(t){return Rr(t,"NodeList")}function zr(t){return Rr(t,"MouseEvent")}function ao(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Xu(t){return Qe(t)?[t]:Uu(t)?Pe(t):Array.isArray(t)?t:Pe(document.querySelectorAll(t))}function Nr(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Ze(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function so(t){var e,n=oe(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Wu(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,u=s.interactiveBorder,l=oo(a.placement),c=a.modifiersData.offset;if(!c)return!0;var y=l==="bottom"?c.top.y:0,w=l==="top"?c.bottom.y:0,b=l==="right"?c.left.x:0,C=l==="left"?c.right.x:0,T=o.top-r+y>u,A=r-o.bottom-w>u,E=o.left-n+b>u,D=n-o.right-C>u;return T||A||E||D})}function Pr(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function ji(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var jt={isTouch:!1},Ui=0;function Yu(){jt.isTouch||(jt.isTouch=!0,window.performance&&document.addEventListener("mousemove",uo))}function uo(){var t=performance.now();t-Ui<20&&(jt.isTouch=!1,document.removeEventListener("mousemove",uo)),Ui=t}function Ku(){var t=document.activeElement;if(ao(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Qu(){document.addEventListener("touchstart",Yu,ie),window.addEventListener("blur",Ku)}var Zu=typeof window<"u"&&typeof document<"u",Ju=Zu?!!window.msCrypto:!1;function Ne(t){var e=t==="destroy"?"n already-":" ";return[t+"() was called on a"+e+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Xi(t){var e=/[ \t]{2,}/g,n=/^[ \t]*/gm;return t.replace(e," ").replace(n,"").trim()}function tf(t){return Xi(`
  %ctippy.js

  %c`+Xi(t)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function fo(t){return[tf(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Je;process.env.NODE_ENV!=="production"&&ef();function ef(){Je=new Set}function Zt(t,e){if(t&&!Je.has(e)){var n;Je.add(e),(n=console).warn.apply(n,fo(e))}}function Le(t,e){if(t&&!Je.has(e)){var n;Je.add(e),(n=console).error.apply(n,fo(e))}}function nf(t){var e=!t,n=Object.prototype.toString.call(t)==="[object Object]"&&!t.addEventListener;Le(e,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Le(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var lo={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},rf={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},bt=Object.assign({appendTo:ro,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},lo,rf),of=Object.keys(bt),af=function(e){process.env.NODE_ENV!=="production"&&po(e,[]);var n=Object.keys(e);n.forEach(function(r){bt[r]=e[r]})};function co(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var s;r[o]=t[o]!==void 0?t[o]:(s=bt[o])!=null?s:a}return r},{});return Object.assign({},t,n)}function sf(t,e){var n=e?Object.keys(co(Object.assign({},bt,{plugins:e}))):of,r=n.reduce(function(i,o){var a=(t.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function Wi(t,e){var n=Object.assign({},e,{content:io(e.content,[t])},e.ignoreAttributes?{}:sf(t,e.plugins));return n.aria=Object.assign({},bt.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}function po(t,e){t===void 0&&(t={}),e===void 0&&(e=[]);var n=Object.keys(t);n.forEach(function(r){var i=Br(bt,Object.keys(lo)),o=!qu(i,r);o&&(o=e.filter(function(a){return a.name===r}).length===0),Zt(o,["`"+r+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var uf=function(){return"innerHTML"};function Lr(t,e){t[uf()]=e}function Yi(t){var e=ge();return t===!0?e.className=eo:(e.className=no,Qe(t)?e.appendChild(t):Lr(e,t)),e}function Ki(t,e){Qe(e.content)?(Lr(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Lr(t,e.content):t.textContent=e.content)}function kn(t){var e=t.firstElementChild,n=Pe(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Ji)}),arrow:n.find(function(r){return r.classList.contains(eo)||r.classList.contains(no)}),backdrop:n.find(function(r){return r.classList.contains(to)})}}function mo(t){var e=ge(),n=ge();n.className=Vu,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=ge();r.className=Ji,r.setAttribute("data-state","hidden"),Ki(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,a){var s=kn(e),u=s.box,l=s.content,c=s.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Ki(l,t.props),a.arrow?c?o.arrow!==a.arrow&&(u.removeChild(c),u.appendChild(Yi(a.arrow))):u.appendChild(Yi(a.arrow)):c&&u.removeChild(c)}return{popper:e,onUpdate:i}}mo.$$tippy=!0;var ff=1,An=[],Cn=[];function lf(t,e){var n=Wi(t,Object.assign({},bt,co(Fi(e)))),r,i,o,a=!1,s=!1,u=!1,l=!1,c,y,w,b=[],C=Vi(G,n.interactiveDebounce),T,A=ff++,E=null,D=ju(n.plugins),L={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},m={id:A,reference:t,popper:ge(),popperInstance:E,props:n,state:L,plugins:D,clearDelayTimeouts:ce,setProps:Ee,setContent:Te,show:cr,hide:pr,hideWithInteractivity:wn,enable:le,disable:Me,unmount:dr,destroy:mr};if(!n.render)return process.env.NODE_ENV!=="production"&&Le(!0,"render() function has not been supplied."),m;var k=n.render(m),O=k.popper,x=k.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+m.id,m.popper=O,t._tippy=m,O._tippy=m;var S=D.map(function(_){return _.fn(m)}),$=t.hasAttribute("aria-expanded");return Ct(),ct(),et(),q("onCreate",[m]),n.showOnCreate&&it(),O.addEventListener("mouseenter",function(){m.props.interactive&&m.state.isVisible&&m.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){m.props.interactive&&m.props.trigger.indexOf("mouseenter")>=0&&j().addEventListener("mousemove",C)}),m;function N(){var _=m.props.touch;return Array.isArray(_)?_:[_,0]}function B(){return N()[0]==="hold"}function H(){var _;return!!((_=m.props.render)!=null&&_.$$tippy)}function V(){return T||t}function j(){var _=V().parentNode;return _?so(_):document}function Z(){return kn(O)}function tt(_){return m.state.isMounted&&!m.state.isVisible||jt.isTouch||c&&c.type==="focus"?0:Dr(m.props.delay,_?0:1,bt.delay)}function et(_){_===void 0&&(_=!1),O.style.pointerEvents=m.props.interactive&&!_?"":"none",O.style.zIndex=""+m.props.zIndex}function q(_,P,R){if(R===void 0&&(R=!0),S.forEach(function(F){F[_]&&F[_].apply(F,P)}),R){var X;(X=m.props)[_].apply(X,P)}}function lt(){var _=m.props.aria;if(_.content){var P="aria-"+_.content,R=O.id,X=oe(m.props.triggerTarget||t);X.forEach(function(F){var ht=F.getAttribute(P);if(m.state.isVisible)F.setAttribute(P,ht?ht+" "+R:R);else{var Tt=ht&&ht.replace(R,"").trim();Tt?F.setAttribute(P,Tt):F.removeAttribute(P)}})}}function ct(){if(!($||!m.props.aria.expanded)){var _=oe(m.props.triggerTarget||t);_.forEach(function(P){m.props.interactive?P.setAttribute("aria-expanded",m.state.isVisible&&P===V()?"true":"false"):P.removeAttribute("aria-expanded")})}}function nt(){j().removeEventListener("mousemove",C),An=An.filter(function(_){return _!==C})}function Q(_){if(!(jt.isTouch&&(u||_.type==="mousedown"))){var P=_.composedPath&&_.composedPath()[0]||_.target;if(!(m.props.interactive&&ji(O,P))){if(oe(m.props.triggerTarget||t).some(function(R){return ji(R,P)})){if(jt.isTouch||m.state.isVisible&&m.props.trigger.indexOf("click")>=0)return}else q("onClickOutside",[m,_]);m.props.hideOnClick===!0&&(m.clearDelayTimeouts(),m.hide(),s=!0,setTimeout(function(){s=!1}),m.state.isMounted||st())}}}function dt(){u=!0}function at(){u=!1}function mt(){var _=j();_.addEventListener("mousedown",Q,!0),_.addEventListener("touchend",Q,ie),_.addEventListener("touchstart",at,ie),_.addEventListener("touchmove",dt,ie)}function st(){var _=j();_.removeEventListener("mousedown",Q,!0),_.removeEventListener("touchend",Q,ie),_.removeEventListener("touchstart",at,ie),_.removeEventListener("touchmove",dt,ie)}function Rt(_,P){Dt(_,function(){!m.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&P()})}function Y(_,P){Dt(_,P)}function Dt(_,P){var R=Z().box;function X(F){F.target===R&&(Pr(R,"remove",X),P())}if(_===0)return P();Pr(R,"remove",y),Pr(R,"add",X),y=X}function Mt(_,P,R){R===void 0&&(R=!1);var X=oe(m.props.triggerTarget||t);X.forEach(function(F){F.addEventListener(_,P,R),b.push({node:F,eventType:_,handler:P,options:R})})}function Ct(){B()&&(Mt("touchstart",kt,{passive:!0}),Mt("touchend",xt,{passive:!0})),Fu(m.props.trigger).forEach(function(_){if(_!=="manual")switch(Mt(_,kt),_){case"mouseenter":Mt("mouseleave",xt);break;case"focus":Mt(Ju?"focusout":"blur",rt);break;case"focusin":Mt("focusout",rt);break}})}function Xt(){b.forEach(function(_){var P=_.node,R=_.eventType,X=_.handler,F=_.options;P.removeEventListener(R,X,F)}),b=[]}function kt(_){var P,R=!1;if(!(!m.state.isEnabled||wt(_)||s)){var X=((P=c)==null?void 0:P.type)==="focus";c=_,T=_.currentTarget,ct(),!m.state.isVisible&&zr(_)&&An.forEach(function(F){return F(_)}),_.type==="click"&&(m.props.trigger.indexOf("mouseenter")<0||a)&&m.props.hideOnClick!==!1&&m.state.isVisible?R=!0:it(_),_.type==="click"&&(a=!R),R&&!X&&Wt(_)}}function G(_){var P=_.target,R=V().contains(P)||O.contains(P);if(!(_.type==="mousemove"&&R)){var X=ut().concat(O).map(function(F){var ht,Tt=F._tippy,Yt=(ht=Tt.popperInstance)==null?void 0:ht.state;return Yt?{popperRect:F.getBoundingClientRect(),popperState:Yt,props:n}:null}).filter(Boolean);Wu(X,_)&&(nt(),Wt(_))}}function xt(_){var P=wt(_)||m.props.trigger.indexOf("click")>=0&&a;if(!P){if(m.props.interactive){m.hideWithInteractivity(_);return}Wt(_)}}function rt(_){m.props.trigger.indexOf("focusin")<0&&_.target!==V()||m.props.interactive&&_.relatedTarget&&O.contains(_.relatedTarget)||Wt(_)}function wt(_){return jt.isTouch?B()!==_.type.indexOf("touch")>=0:!1}function Bt(){Et();var _=m.props,P=_.popperOptions,R=_.placement,X=_.offset,F=_.getReferenceClientRect,ht=_.moveTransition,Tt=H()?kn(O).arrow:null,Yt=F?{getBoundingClientRect:F,contextElement:F.contextElement||V()}:t,bn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Oe){var ne=Oe.state;if(H()){var hr=Z(),Ve=hr.box;["placement","reference-hidden","escaped"].forEach(function(Ae){Ae==="placement"?Ve.setAttribute("data-placement",ne.placement):ne.attributes.popper["data-popper-"+Ae]?Ve.setAttribute("data-"+Ae,""):Ve.removeAttribute("data-"+Ae)}),ne.attributes.popper={}}}},Vt=[{name:"offset",options:{offset:X}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ht}},bn];H()&&Tt&&Vt.push({name:"arrow",options:{element:Tt,padding:3}}),Vt.push.apply(Vt,P?.modifiers||[]),m.popperInstance=Zi.createPopper(Yt,O,Object.assign({},P,{placement:R,onFirstUpdate:w,modifiers:Vt}))}function Et(){m.popperInstance&&(m.popperInstance.destroy(),m.popperInstance=null)}function pt(){var _=m.props.appendTo,P,R=V();m.props.interactive&&_===ro||_==="parent"?P=R.parentNode:P=io(_,[R]),P.contains(O)||P.appendChild(O),m.state.isMounted=!0,Bt(),process.env.NODE_ENV!=="production"&&Zt(m.props.interactive&&_===bt.appendTo&&R.nextElementSibling!==O,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function ut(){return Pe(O.querySelectorAll("[data-tippy-root]"))}function it(_){m.clearDelayTimeouts(),_&&q("onTrigger",[m,_]),mt();var P=tt(!0),R=N(),X=R[0],F=R[1];jt.isTouch&&X==="hold"&&F&&(P=F),P?r=setTimeout(function(){m.show()},P):m.show()}function Wt(_){if(m.clearDelayTimeouts(),q("onUntrigger",[m,_]),!m.state.isVisible){st();return}if(!(m.props.trigger.indexOf("mouseenter")>=0&&m.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(_.type)>=0&&a)){var P=tt(!1);P?i=setTimeout(function(){m.state.isVisible&&m.hide()},P):o=requestAnimationFrame(function(){m.hide()})}}function le(){m.state.isEnabled=!0}function Me(){m.hide(),m.state.isEnabled=!1}function ce(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Ee(_){if(process.env.NODE_ENV!=="production"&&Zt(m.state.isDestroyed,Ne("setProps")),!m.state.isDestroyed){q("onBeforeUpdate",[m,_]),Xt();var P=m.props,R=Wi(t,Object.assign({},P,Fi(_),{ignoreAttributes:!0}));m.props=R,Ct(),P.interactiveDebounce!==R.interactiveDebounce&&(nt(),C=Vi(G,R.interactiveDebounce)),P.triggerTarget&&!R.triggerTarget?oe(P.triggerTarget).forEach(function(X){X.removeAttribute("aria-expanded")}):R.triggerTarget&&t.removeAttribute("aria-expanded"),ct(),et(),x&&x(P,R),m.popperInstance&&(Bt(),ut().forEach(function(X){requestAnimationFrame(X._tippy.popperInstance.forceUpdate)})),q("onAfterUpdate",[m,_])}}function Te(_){m.setProps({content:_})}function cr(){process.env.NODE_ENV!=="production"&&Zt(m.state.isDestroyed,Ne("show"));var _=m.state.isVisible,P=m.state.isDestroyed,R=!m.state.isEnabled,X=jt.isTouch&&!m.props.touch,F=Dr(m.props.duration,0,bt.duration);if(!(_||P||R||X)&&!V().hasAttribute("disabled")&&(q("onShow",[m],!1),m.props.onShow(m)!==!1)){if(m.state.isVisible=!0,H()&&(O.style.visibility="visible"),et(),mt(),m.state.isMounted||(O.style.transition="none"),H()){var ht=Z(),Tt=ht.box,Yt=ht.content;Nr([Tt,Yt],0)}w=function(){var Vt;if(!(!m.state.isVisible||l)){if(l=!0,O.offsetHeight,O.style.transition=m.props.moveTransition,H()&&m.props.animation){var Ge=Z(),Oe=Ge.box,ne=Ge.content;Nr([Oe,ne],F),Ze([Oe,ne],"visible")}lt(),ct(),qi(Cn,m),(Vt=m.popperInstance)==null||Vt.forceUpdate(),q("onMount",[m]),m.props.animation&&H()&&Y(F,function(){m.state.isShown=!0,q("onShown",[m])})}},pt()}}function pr(){process.env.NODE_ENV!=="production"&&Zt(m.state.isDestroyed,Ne("hide"));var _=!m.state.isVisible,P=m.state.isDestroyed,R=!m.state.isEnabled,X=Dr(m.props.duration,1,bt.duration);if(!(_||P||R)&&(q("onHide",[m],!1),m.props.onHide(m)!==!1)){if(m.state.isVisible=!1,m.state.isShown=!1,l=!1,a=!1,H()&&(O.style.visibility="hidden"),nt(),st(),et(!0),H()){var F=Z(),ht=F.box,Tt=F.content;m.props.animation&&(Nr([ht,Tt],X),Ze([ht,Tt],"hidden"))}lt(),ct(),m.props.animation?H()&&Rt(X,m.unmount):m.unmount()}}function wn(_){process.env.NODE_ENV!=="production"&&Zt(m.state.isDestroyed,Ne("hideWithInteractivity")),j().addEventListener("mousemove",C),qi(An,C),C(_)}function dr(){process.env.NODE_ENV!=="production"&&Zt(m.state.isDestroyed,Ne("unmount")),m.state.isVisible&&m.hide(),m.state.isMounted&&(Et(),ut().forEach(function(_){_._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),Cn=Cn.filter(function(_){return _!==m}),m.state.isMounted=!1,q("onHidden",[m]))}function mr(){process.env.NODE_ENV!=="production"&&Zt(m.state.isDestroyed,Ne("destroy")),!m.state.isDestroyed&&(m.clearDelayTimeouts(),m.unmount(),Xt(),delete t._tippy,m.state.isDestroyed=!0,q("onDestroy",[m]))}}function ae(t,e){e===void 0&&(e={});var n=bt.plugins.concat(e.plugins||[]);process.env.NODE_ENV!=="production"&&(nf(t),po(e,n)),Qu();var r=Object.assign({},e,{plugins:n}),i=Xu(t);if(process.env.NODE_ENV!=="production"){var o=Qe(r.content),a=i.length>1;Zt(o&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var s=i.reduce(function(u,l){var c=l&&lf(l,r);return c&&u.push(c),u},[]);return Qe(t)?s[0]:s}ae.defaultProps=bt;ae.setDefaultProps=af;ae.currentInput=jt;var cf=function(e){var n=e===void 0?{}:e,r=n.exclude,i=n.duration;Cn.forEach(function(o){var a=!1;if(r&&(a=ao(r)?o.reference===r:o.popper===r.popper),!a){var s=o.props.duration;o.setProps({duration:i}),o.hide(),o.state.isDestroyed||o.setProps({duration:s})}})},pf=Object.assign({},Zi.applyStyles,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),df=function(e,n){var r;n===void 0&&(n={}),process.env.NODE_ENV!=="production"&&Le(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(e)].join(" "));var i=e,o=[],a=[],s,u=n.overrides,l=[],c=!1;function y(){a=i.map(function(m){return oe(m.props.triggerTarget||m.reference)}).reduce(function(m,k){return m.concat(k)},[])}function w(){o=i.map(function(m){return m.reference})}function b(m){i.forEach(function(k){m?k.enable():k.disable()})}function C(m){return i.map(function(k){var O=k.setProps;return k.setProps=function(x){O(x),k.reference===s&&m.setProps(x)},function(){k.setProps=O}})}function T(m,k){var O=a.indexOf(k);if(k!==s){s=k;var x=(u||[]).concat("content").reduce(function(S,$){return S[$]=i[O].props[$],S},{});m.setProps(Object.assign({},x,{getReferenceClientRect:typeof x.getReferenceClientRect=="function"?x.getReferenceClientRect:function(){var S;return(S=o[O])==null?void 0:S.getBoundingClientRect()}}))}}b(!1),w(),y();var A={fn:function(){return{onDestroy:function(){b(!0)},onHidden:function(){s=null},onClickOutside:function(O){O.props.showOnCreate&&!c&&(c=!0,s=null)},onShow:function(O){O.props.showOnCreate&&!c&&(c=!0,T(O,o[0]))},onTrigger:function(O,x){T(O,x.currentTarget)}}}},E=ae(ge(),Object.assign({},Br(n,["overrides"]),{plugins:[A].concat(n.plugins||[]),triggerTarget:a,popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat(((r=n.popperOptions)==null?void 0:r.modifiers)||[],[pf])})})),D=E.show;E.show=function(m){if(D(),!s&&m==null)return T(E,o[0]);if(!(s&&m==null)){if(typeof m=="number")return o[m]&&T(E,o[m]);if(i.indexOf(m)>=0){var k=m.reference;return T(E,k)}if(o.indexOf(m)>=0)return T(E,m)}},E.showNext=function(){var m=o[0];if(!s)return E.show(0);var k=o.indexOf(s);E.show(o[k+1]||m)},E.showPrevious=function(){var m=o[o.length-1];if(!s)return E.show(m);var k=o.indexOf(s),O=o[k-1]||m;E.show(O)};var L=E.setProps;return E.setProps=function(m){u=m.overrides||u,L(m)},E.setInstances=function(m){b(!0),l.forEach(function(k){return k()}),i=m,b(!1),w(),y(),l=C(E),E.setProps({triggerTarget:a})},l=C(E),E},mf={mouseover:"mouseenter",focusin:"focus",click:"click"};function hf(t,e){process.env.NODE_ENV!=="production"&&Le(!(e&&e.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var n=[],r=[],i=!1,o=e.target,a=Br(e,["target"]),s=Object.assign({},a,{trigger:"manual",touch:!1}),u=Object.assign({touch:bt.touch},a,{showOnCreate:!0}),l=ae(t,s),c=oe(l);function y(A){if(!(!A.target||i)){var E=A.target.closest(o);if(E){var D=E.getAttribute("data-tippy-trigger")||e.trigger||bt.trigger;if(!E._tippy&&!(A.type==="touchstart"&&typeof u.touch=="boolean")&&!(A.type!=="touchstart"&&D.indexOf(mf[A.type])<0)){var L=ae(E,u);L&&(r=r.concat(L))}}}}function w(A,E,D,L){L===void 0&&(L=!1),A.addEventListener(E,D,L),n.push({node:A,eventType:E,handler:D,options:L})}function b(A){var E=A.reference;w(E,"touchstart",y,ie),w(E,"mouseover",y),w(E,"focusin",y),w(E,"click",y)}function C(){n.forEach(function(A){var E=A.node,D=A.eventType,L=A.handler,m=A.options;E.removeEventListener(D,L,m)}),n=[]}function T(A){var E=A.destroy,D=A.enable,L=A.disable;A.destroy=function(m){m===void 0&&(m=!0),m&&r.forEach(function(k){k.destroy()}),r=[],C(),E()},A.enable=function(){D(),r.forEach(function(m){return m.enable()}),i=!1},A.disable=function(){L(),r.forEach(function(m){return m.disable()}),i=!0},b(A)}return c.forEach(T),l}var gf={name:"animateFill",defaultValue:!1,fn:function(e){var n;if(!((n=e.props.render)!=null&&n.$$tippy))return process.env.NODE_ENV!=="production"&&Le(e.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var r=kn(e.popper),i=r.box,o=r.content,a=e.props.animateFill?vf():null;return{onCreate:function(){a&&(i.insertBefore(a,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(a){var u=i.style.transitionDuration,l=Number(u.replace("ms",""));o.style.transitionDelay=Math.round(l/10)+"ms",a.style.transitionDuration=u,Ze([a],"visible")}},onShow:function(){a&&(a.style.transitionDuration="0ms")},onHide:function(){a&&Ze([a],"hidden")}}}};function vf(){var t=ge();return t.className=to,Ze([t],"hidden"),t}var $r={clientX:0,clientY:0},Sn=[];function ho(t){var e=t.clientX,n=t.clientY;$r={clientX:e,clientY:n}}function yf(t){t.addEventListener("mousemove",ho)}function xf(t){t.removeEventListener("mousemove",ho)}var wf={name:"followCursor",defaultValue:!1,fn:function(e){var n=e.reference,r=so(e.props.triggerTarget||n),i=!1,o=!1,a=!0,s=e.props;function u(){return e.props.followCursor==="initial"&&e.state.isVisible}function l(){r.addEventListener("mousemove",w)}function c(){r.removeEventListener("mousemove",w)}function y(){i=!0,e.setProps({getReferenceClientRect:null}),i=!1}function w(T){var A=T.target?n.contains(T.target):!0,E=e.props.followCursor,D=T.clientX,L=T.clientY,m=n.getBoundingClientRect(),k=D-m.left,O=L-m.top;(A||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var S=n.getBoundingClientRect(),$=D,N=L;E==="initial"&&($=S.left+k,N=S.top+O);var B=E==="horizontal"?S.top:N,H=E==="vertical"?S.right:$,V=E==="horizontal"?S.bottom:N,j=E==="vertical"?S.left:$;return{width:H-j,height:V-B,top:B,right:H,bottom:V,left:j}}})}function b(){e.props.followCursor&&(Sn.push({instance:e,doc:r}),yf(r))}function C(){Sn=Sn.filter(function(T){return T.instance!==e}),Sn.filter(function(T){return T.doc===r}).length===0&&xf(r)}return{onCreate:b,onDestroy:C,onBeforeUpdate:function(){s=e.props},onAfterUpdate:function(A,E){var D=E.followCursor;i||D!==void 0&&s.followCursor!==D&&(C(),D?(b(),e.state.isMounted&&!o&&!u()&&l()):(c(),y()))},onMount:function(){e.props.followCursor&&!o&&(a&&(w($r),a=!1),u()||l())},onTrigger:function(A,E){zr(E)&&($r={clientX:E.clientX,clientY:E.clientY}),o=E.type==="focus"},onHidden:function(){e.props.followCursor&&(y(),c(),a=!0)}}}};function bf(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var i=r.name;return i!==e.name}),[e])})}}var _f={name:"inlinePositioning",defaultValue:!1,fn:function(e){var n=e.reference;function r(){return!!e.props.inlinePositioning}var i,o=-1,a=!1,s=[],u={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(b){var C=b.state;r()&&(s.indexOf(C.placement)!==-1&&(s=[]),i!==C.placement&&s.indexOf(C.placement)===-1&&(s.push(C.placement),e.setProps({getReferenceClientRect:function(){return l(C.placement)}})),i=C.placement)}};function l(w){return Mf(oo(w),n.getBoundingClientRect(),Pe(n.getClientRects()),o)}function c(w){a=!0,e.setProps(w),a=!1}function y(){a||c(bf(e.props,u))}return{onCreate:y,onAfterUpdate:y,onTrigger:function(b,C){if(zr(C)){var T=Pe(e.reference.getClientRects()),A=T.find(function(D){return D.left-2<=C.clientX&&D.right+2>=C.clientX&&D.top-2<=C.clientY&&D.bottom+2>=C.clientY}),E=T.indexOf(A);o=E>-1?E:o}},onHidden:function(){o=-1}}}};function Mf(t,e,n,r){if(n.length<2||t===null)return e;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":{var i=n[0],o=n[n.length-1],a=t==="top",s=i.top,u=o.bottom,l=a?i.left:o.left,c=a?i.right:o.right,y=c-l,w=u-s;return{top:s,bottom:u,left:l,right:c,width:y,height:w}}case"left":case"right":{var b=Math.min.apply(Math,n.map(function(O){return O.left})),C=Math.max.apply(Math,n.map(function(O){return O.right})),T=n.filter(function(O){return t==="left"?O.left===b:O.right===C}),A=T[0].top,E=T[T.length-1].bottom,D=b,L=C,m=L-D,k=E-A;return{top:A,bottom:E,left:D,right:L,width:m,height:k}}default:return e}}var Ef={name:"sticky",defaultValue:!1,fn:function(e){var n=e.reference,r=e.popper;function i(){return e.popperInstance?e.popperInstance.state.elements.reference:n}function o(l){return e.props.sticky===!0||e.props.sticky===l}var a=null,s=null;function u(){var l=o("reference")?i().getBoundingClientRect():null,c=o("popper")?r.getBoundingClientRect():null;(l&&Qi(a,l)||c&&Qi(s,c))&&e.popperInstance&&e.popperInstance.update(),a=l,s=c,e.state.isMounted&&requestAnimationFrame(u)}return{onMount:function(){e.props.sticky&&u()}}}};function Qi(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}ae.setDefaultProps({render:mo});zt.animateFill=gf;zt.createSingleton=df;zt.default=ae;zt.delegate=hf;zt.followCursor=wf;zt.hideAll=cf;zt.inlinePositioning=_f;zt.roundArrow=Gu;zt.sticky=Ef});var So=Fe((Pn,Ao)=>{(function(t,e){typeof Pn=="object"&&typeof Ao<"u"?e(Pn):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(Pn,function(t){"use strict";var e={value:()=>{}};function n(){for(var s=0,u=arguments.length,l={},c;s<u;++s){if(!(c=arguments[s]+"")||c in l||/[\s.]/.test(c))throw new Error("illegal type: "+c);l[c]=[]}return new r(l)}function r(s){this._=s}function i(s,u){return s.trim().split(/^|\s+/).map(function(l){var c="",y=l.indexOf(".");if(y>=0&&(c=l.slice(y+1),l=l.slice(0,y)),l&&!u.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:c}})}r.prototype=n.prototype={constructor:r,on:function(s,u){var l=this._,c=i(s+"",l),y,w=-1,b=c.length;if(arguments.length<2){for(;++w<b;)if((y=(s=c[w]).type)&&(y=o(l[y],s.name)))return y;return}if(u!=null&&typeof u!="function")throw new Error("invalid callback: "+u);for(;++w<b;)if(y=(s=c[w]).type)l[y]=a(l[y],s.name,u);else if(u==null)for(y in l)l[y]=a(l[y],s.name,null);return this},copy:function(){var s={},u=this._;for(var l in u)s[l]=u[l].slice();return new r(s)},call:function(s,u){if((y=arguments.length-2)>0)for(var l=new Array(y),c=0,y,w;c<y;++c)l[c]=arguments[c+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(w=this._[s],c=0,y=w.length;c<y;++c)w[c].value.apply(u,l)},apply:function(s,u,l){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var c=this._[s],y=0,w=c.length;y<w;++y)c[y].value.apply(u,l)}};function o(s,u){for(var l=0,c=s.length,y;l<c;++l)if((y=s[l]).name===u)return y.value}function a(s,u,l){for(var c=0,y=s.length;c<y;++c)if(s[c].name===u){s[c]=e,s=s.slice(0,c).concat(s.slice(c+1));break}return l!=null&&s.push({name:u,value:l}),s}t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})});var sr=Fe((ar,ys)=>{(function(t,e){typeof ar=="object"&&typeof ys<"u"?e(ar):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.d3=t.d3||{}))})(ar,function(t){"use strict";function e(f,p){return f<p?-1:f>p?1:f>=p?0:NaN}function n(f){let p=f,d=f;f.length===1&&(p=(M,I)=>f(M)-I,d=r(f));function g(M,I,z,U){for(z==null&&(z=0),U==null&&(U=M.length);z<U;){let W=z+U>>>1;d(M[W],I)<0?z=W+1:U=W}return z}function h(M,I,z,U){for(z==null&&(z=0),U==null&&(U=M.length);z<U;){let W=z+U>>>1;d(M[W],I)>0?U=W:z=W+1}return z}function v(M,I,z,U){z==null&&(z=0),U==null&&(U=M.length);let W=g(M,I,z,U-1);return W>z&&p(M[W-1],I)>-p(M[W],I)?W-1:W}return{left:g,center:v,right:h}}function r(f){return(p,d)=>e(f(p),d)}function i(f){return f===null?NaN:+f}function*o(f,p){if(p===void 0)for(let d of f)d!=null&&(d=+d)>=d&&(yield d);else{let d=-1;for(let g of f)(g=p(g,++d,f))!=null&&(g=+g)>=g&&(yield g)}}let a=n(e),s=a.right,u=a.left,l=n(i).center;function c(f,p){let d=0;if(p===void 0)for(let g of f)g!=null&&(g=+g)>=g&&++d;else{let g=-1;for(let h of f)(h=p(h,++g,f))!=null&&(h=+h)>=h&&++d}return d}function y(f){return f.length|0}function w(f){return!(f>0)}function b(f){return typeof f!="object"||"length"in f?f:Array.from(f)}function C(f){return p=>f(...p)}function T(...f){let p=typeof f[f.length-1]=="function"&&C(f.pop());f=f.map(b);let d=f.map(y),g=f.length-1,h=new Array(g+1).fill(0),v=[];if(g<0||d.some(w))return v;for(;;){v.push(h.map((I,z)=>f[z][I]));let M=g;for(;++h[M]===d[M];){if(M===0)return p?v.map(p):v;h[M--]=0}}}function A(f,p){var d=0,g=0;return Float64Array.from(f,p===void 0?h=>d+=+h||0:h=>d+=+p(h,g++,f)||0)}function E(f,p){return p<f?-1:p>f?1:p>=f?0:NaN}function D(f,p){let d=0,g,h=0,v=0;if(p===void 0)for(let M of f)M!=null&&(M=+M)>=M&&(g=M-h,h+=g/++d,v+=g*(M-h));else{let M=-1;for(let I of f)(I=p(I,++M,f))!=null&&(I=+I)>=I&&(g=I-h,h+=g/++d,v+=g*(I-h))}if(d>1)return v/(d-1)}function L(f,p){let d=D(f,p);return d&&Math.sqrt(d)}function m(f,p){let d,g;if(p===void 0)for(let h of f)h!=null&&(d===void 0?h>=h&&(d=g=h):(d>h&&(d=h),g<h&&(g=h)));else{let h=-1;for(let v of f)(v=p(v,++h,f))!=null&&(d===void 0?v>=v&&(d=g=v):(d>v&&(d=v),g<v&&(g=v)))}return[d,g]}class k{constructor(){this._partials=new Float64Array(32),this._n=0}add(p){let d=this._partials,g=0;for(let h=0;h<this._n&&h<32;h++){let v=d[h],M=p+v,I=Math.abs(p)<Math.abs(v)?p-(M-v):v-(M-p);I&&(d[g++]=I),p=M}return d[g]=p,this._n=g+1,this}valueOf(){let p=this._partials,d=this._n,g,h,v,M=0;if(d>0){for(M=p[--d];d>0&&(g=M,h=p[--d],M=g+h,v=h-(M-g),!v););d>0&&(v<0&&p[d-1]<0||v>0&&p[d-1]>0)&&(h=v*2,g=M+h,h==g-M&&(M=g))}return M}}function O(f,p){let d=new k;if(p===void 0)for(let g of f)(g=+g)&&d.add(g);else{let g=-1;for(let h of f)(h=+p(h,++g,f))&&d.add(h)}return+d}function x(f,p){let d=new k,g=-1;return Float64Array.from(f,p===void 0?h=>d.add(+h||0):h=>d.add(+p(h,++g,f)||0))}class S extends Map{constructor(p,d=V){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:d}}),p!=null)for(let[g,h]of p)this.set(g,h)}get(p){return super.get(N(this,p))}has(p){return super.has(N(this,p))}set(p,d){return super.set(B(this,p),d)}delete(p){return super.delete(H(this,p))}}class $ extends Set{constructor(p,d=V){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:d}}),p!=null)for(let g of p)this.add(g)}has(p){return super.has(N(this,p))}add(p){return super.add(B(this,p))}delete(p){return super.delete(H(this,p))}}function N({_intern:f,_key:p},d){let g=p(d);return f.has(g)?f.get(g):d}function B({_intern:f,_key:p},d){let g=p(d);return f.has(g)?f.get(g):(f.set(g,d),d)}function H({_intern:f,_key:p},d){let g=p(d);return f.has(g)&&(d=f.get(d),f.delete(g)),d}function V(f){return f!==null&&typeof f=="object"?f.valueOf():f}function j(f){return f}function Z(f,...p){return Q(f,j,j,p)}function tt(f,...p){return Q(f,Array.from,j,p)}function et(f,p,...d){return Q(f,j,p,d)}function q(f,p,...d){return Q(f,Array.from,p,d)}function lt(f,...p){return Q(f,j,nt,p)}function ct(f,...p){return Q(f,Array.from,nt,p)}function nt(f){if(f.length!==1)throw new Error("duplicate key");return f[0]}function Q(f,p,d,g){return function h(v,M){if(M>=g.length)return d(v);let I=new S,z=g[M++],U=-1;for(let W of v){let K=z(W,++U,v),ot=I.get(K);ot?ot.push(W):I.set(K,[W])}for(let[W,K]of I)I.set(W,h(K,M));return p(I)}(f,0)}function dt(f,p){return Array.from(p,d=>f[d])}function at(f,...p){if(typeof f[Symbol.iterator]!="function")throw new TypeError("values is not iterable");f=Array.from(f);let[d=e]=p;if(d.length===1||p.length>1){let g=Uint32Array.from(f,(h,v)=>v);return p.length>1?(p=p.map(h=>f.map(h)),g.sort((h,v)=>{for(let M of p){let I=e(M[h],M[v]);if(I)return I}})):(d=f.map(d),g.sort((h,v)=>e(d[h],d[v]))),dt(f,g)}return f.sort(d)}function mt(f,p,d){return(p.length===1?at(et(f,p,d),([g,h],[v,M])=>e(h,M)||e(g,v)):at(Z(f,d),([g,h],[v,M])=>p(h,M)||e(g,v))).map(([g])=>g)}var st=Array.prototype,Rt=st.slice;function Y(f){return function(){return f}}var Dt=Math.sqrt(50),Mt=Math.sqrt(10),Ct=Math.sqrt(2);function Xt(f,p,d){var g,h=-1,v,M,I;if(p=+p,f=+f,d=+d,f===p&&d>0)return[f];if((g=p<f)&&(v=f,f=p,p=v),(I=kt(f,p,d))===0||!isFinite(I))return[];if(I>0){let z=Math.round(f/I),U=Math.round(p/I);for(z*I<f&&++z,U*I>p&&--U,M=new Array(v=U-z+1);++h<v;)M[h]=(z+h)*I}else{I=-I;let z=Math.round(f*I),U=Math.round(p*I);for(z/I<f&&++z,U/I>p&&--U,M=new Array(v=U-z+1);++h<v;)M[h]=(z+h)/I}return g&&M.reverse(),M}function kt(f,p,d){var g=(p-f)/Math.max(0,d),h=Math.floor(Math.log(g)/Math.LN10),v=g/Math.pow(10,h);return h>=0?(v>=Dt?10:v>=Mt?5:v>=Ct?2:1)*Math.pow(10,h):-Math.pow(10,-h)/(v>=Dt?10:v>=Mt?5:v>=Ct?2:1)}function G(f,p,d){var g=Math.abs(p-f)/Math.max(0,d),h=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),v=g/h;return v>=Dt?h*=10:v>=Mt?h*=5:v>=Ct&&(h*=2),p<f?-h:h}function xt(f,p,d){let g;for(;;){let h=kt(f,p,d);if(h===g||h===0||!isFinite(h))return[f,p];h>0?(f=Math.floor(f/h)*h,p=Math.ceil(p/h)*h):h<0&&(f=Math.ceil(f*h)/h,p=Math.floor(p*h)/h),g=h}}function rt(f){return Math.ceil(Math.log(c(f))/Math.LN2)+1}function wt(){var f=j,p=m,d=rt;function g(h){Array.isArray(h)||(h=Array.from(h));var v,M=h.length,I,z=new Array(M);for(v=0;v<M;++v)z[v]=f(h[v],v,h);var U=p(z),W=U[0],K=U[1],ot=d(z,W,K);if(!Array.isArray(ot)){let $s=K,vr=+ot;if(p===m&&([W,K]=xt(W,K,vr)),ot=Xt(W,K,vr),ot[ot.length-1]>=K)if($s>=K&&p===m){let pe=kt(W,K,vr);isFinite(pe)&&(pe>0?K=(Math.floor(K/pe)+1)*pe:pe<0&&(K=(Math.ceil(K*-pe)+1)/-pe))}else ot.pop()}for(var Kt=ot.length;ot[0]<=W;)ot.shift(),--Kt;for(;ot[Kt-1]>K;)ot.pop(),--Kt;var qe=new Array(Kt+1),gr;for(v=0;v<=Kt;++v)gr=qe[v]=[],gr.x0=v>0?ot[v-1]:W,gr.x1=v<Kt?ot[v]:K;for(v=0;v<M;++v)I=z[v],W<=I&&I<=K&&qe[s(ot,I,0,Kt)].push(h[v]);return qe}return g.value=function(h){return arguments.length?(f=typeof h=="function"?h:Y(h),g):f},g.domain=function(h){return arguments.length?(p=typeof h=="function"?h:Y([h[0],h[1]]),g):p},g.thresholds=function(h){return arguments.length?(d=typeof h=="function"?h:Array.isArray(h)?Y(Rt.call(h)):Y(h),g):d},g}function Bt(f,p){let d;if(p===void 0)for(let g of f)g!=null&&(d<g||d===void 0&&g>=g)&&(d=g);else{let g=-1;for(let h of f)(h=p(h,++g,f))!=null&&(d<h||d===void 0&&h>=h)&&(d=h)}return d}function Et(f,p){let d;if(p===void 0)for(let g of f)g!=null&&(d>g||d===void 0&&g>=g)&&(d=g);else{let g=-1;for(let h of f)(h=p(h,++g,f))!=null&&(d>h||d===void 0&&h>=h)&&(d=h)}return d}function pt(f,p,d=0,g=f.length-1,h=e){for(;g>d;){if(g-d>600){let z=g-d+1,U=p-d+1,W=Math.log(z),K=.5*Math.exp(2*W/3),ot=.5*Math.sqrt(W*K*(z-K)/z)*(U-z/2<0?-1:1),Kt=Math.max(d,Math.floor(p-U*K/z+ot)),qe=Math.min(g,Math.floor(p+(z-U)*K/z+ot));pt(f,p,Kt,qe,h)}let v=f[p],M=d,I=g;for(ut(f,d,p),h(f[g],v)>0&&ut(f,d,g);M<I;){for(ut(f,M,I),++M,--I;h(f[M],v)<0;)++M;for(;h(f[I],v)>0;)--I}h(f[d],v)===0?ut(f,d,I):(++I,ut(f,I,g)),I<=p&&(d=I+1),p<=I&&(g=I-1)}return f}function ut(f,p,d){let g=f[p];f[p]=f[d],f[d]=g}function it(f,p,d){if(f=Float64Array.from(o(f,d)),!!(g=f.length)){if((p=+p)<=0||g<2)return Et(f);if(p>=1)return Bt(f);var g,h=(g-1)*p,v=Math.floor(h),M=Bt(pt(f,v).subarray(0,v+1)),I=Et(f.subarray(v+1));return M+(I-M)*(h-v)}}function Wt(f,p,d=i){if(g=f.length){if((p=+p)<=0||g<2)return+d(f[0],0,f);if(p>=1)return+d(f[g-1],g-1,f);var g,h=(g-1)*p,v=Math.floor(h),M=+d(f[v],v,f),I=+d(f[v+1],v+1,f);return M+(I-M)*(h-v)}}function le(f,p,d){return Math.ceil((d-p)/(2*(it(f,.75)-it(f,.25))*Math.pow(c(f),-1/3)))}function Me(f,p,d){return Math.ceil((d-p)/(3.5*L(f)*Math.pow(c(f),-1/3)))}function ce(f,p){let d,g=-1,h=-1;if(p===void 0)for(let v of f)++h,v!=null&&(d<v||d===void 0&&v>=v)&&(d=v,g=h);else for(let v of f)(v=p(v,++h,f))!=null&&(d<v||d===void 0&&v>=v)&&(d=v,g=h);return g}function Ee(f,p){let d=0,g=0;if(p===void 0)for(let h of f)h!=null&&(h=+h)>=h&&(++d,g+=h);else{let h=-1;for(let v of f)(v=p(v,++h,f))!=null&&(v=+v)>=v&&(++d,g+=v)}if(d)return g/d}function Te(f,p){return it(f,.5,p)}function*cr(f){for(let p of f)yield*p}function pr(f){return Array.from(cr(f))}function wn(f,p){let d,g=-1,h=-1;if(p===void 0)for(let v of f)++h,v!=null&&(d>v||d===void 0&&v>=v)&&(d=v,g=h);else for(let v of f)(v=p(v,++h,f))!=null&&(d>v||d===void 0&&v>=v)&&(d=v,g=h);return g}function dr(f,p=mr){let d=[],g,h=!1;for(let v of f)h&&d.push(p(g,v)),g=v,h=!0;return d}function mr(f,p){return[f,p]}function _(f,p,d){f=+f,p=+p,d=(h=arguments.length)<2?(p=f,f=0,1):h<3?1:+d;for(var g=-1,h=Math.max(0,Math.ceil((p-f)/d))|0,v=new Array(h);++g<h;)v[g]=f+g*d;return v}function P(f,p=e){let d,g=!1;if(p.length===1){let h;for(let v of f){let M=p(v);(g?e(M,h)<0:e(M,M)===0)&&(d=v,h=M,g=!0)}}else for(let h of f)(g?p(h,d)<0:p(h,h)===0)&&(d=h,g=!0);return d}function R(f,p=e){if(p.length===1)return wn(f,p);let d,g=-1,h=-1;for(let v of f)++h,(g<0?p(v,v)===0:p(v,d)<0)&&(d=v,g=h);return g}function X(f,p=e){let d,g=!1;if(p.length===1){let h;for(let v of f){let M=p(v);(g?e(M,h)>0:e(M,M)===0)&&(d=v,h=M,g=!0)}}else for(let h of f)(g?p(h,d)>0:p(h,h)===0)&&(d=h,g=!0);return d}function F(f,p=e){if(p.length===1)return ce(f,p);let d,g=-1,h=-1;for(let v of f)++h,(g<0?p(v,v)===0:p(v,d)>0)&&(d=v,g=h);return g}function ht(f,p){let d=R(f,p);return d<0?void 0:d}var Tt=Yt(Math.random);function Yt(f){return function(d,g=0,h=d.length){let v=h-(g=+g);for(;v;){let M=f()*v--|0,I=d[v+g];d[v+g]=d[M+g],d[M+g]=I}return d}}function bn(f,p){let d=0;if(p===void 0)for(let g of f)(g=+g)&&(d+=g);else{let g=-1;for(let h of f)(h=+p(h,++g,f))&&(d+=h)}return d}function Vt(f){if(!(v=f.length))return[];for(var p=-1,d=Et(f,Ge),g=new Array(d);++p<d;)for(var h=-1,v,M=g[p]=new Array(v);++h<v;)M[h]=f[h][p];return g}function Ge(f){return f.length}function Oe(){return Vt(arguments)}function ne(f,p){if(typeof p!="function")throw new TypeError("test is not a function");let d=-1;for(let g of f)if(!p(g,++d,f))return!1;return!0}function hr(f,p){if(typeof p!="function")throw new TypeError("test is not a function");let d=-1;for(let g of f)if(p(g,++d,f))return!0;return!1}function Ve(f,p){if(typeof p!="function")throw new TypeError("test is not a function");let d=[],g=-1;for(let h of f)p(h,++g,f)&&d.push(h);return d}function Ae(f,p){if(typeof f[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof p!="function")throw new TypeError("mapper is not a function");return Array.from(f,(d,g)=>p(d,g,f))}function Ss(f,p,d){if(typeof p!="function")throw new TypeError("reducer is not a function");let g=f[Symbol.iterator](),h,v,M=-1;if(arguments.length<3){if({done:h,value:d}=g.next(),h)return;++M}for(;{done:h,value:v}=g.next(),!h;)d=p(d,v,++M,f);return d}function Cs(f){if(typeof f[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(f).reverse()}function ks(f,...p){f=new Set(f);for(let d of p)for(let g of d)f.delete(g);return f}function Is(f,p){let d=p[Symbol.iterator](),g=new Set;for(let h of f){if(g.has(h))return!1;let v,M;for(;({value:v,done:M}=d.next())&&!M;){if(Object.is(h,v))return!1;g.add(v)}}return!0}function Ds(f){return f instanceof Set?f:new Set(f)}function Ns(f,...p){f=new Set(f),p=p.map(Ds);t:for(let d of f)for(let g of p)if(!g.has(d)){f.delete(d);continue t}return f}function hi(f,p){let d=f[Symbol.iterator](),g=new Set;for(let h of p){if(g.has(h))continue;let v,M;for(;{value:v,done:M}=d.next();){if(M)return!1;if(g.add(v),Object.is(h,v))break}}return!0}function Ps(f,p){return hi(p,f)}function Ls(...f){let p=new Set;for(let d of f)for(let g of d)p.add(g);return p}t.Adder=k,t.InternMap=S,t.InternSet=$,t.ascending=e,t.bin=wt,t.bisect=s,t.bisectCenter=l,t.bisectLeft=u,t.bisectRight=s,t.bisector=n,t.count=c,t.cross=T,t.cumsum=A,t.descending=E,t.deviation=L,t.difference=ks,t.disjoint=Is,t.every=ne,t.extent=m,t.fcumsum=x,t.filter=Ve,t.fsum=O,t.greatest=X,t.greatestIndex=F,t.group=Z,t.groupSort=mt,t.groups=tt,t.histogram=wt,t.index=lt,t.indexes=ct,t.intersection=Ns,t.least=P,t.leastIndex=R,t.map=Ae,t.max=Bt,t.maxIndex=ce,t.mean=Ee,t.median=Te,t.merge=pr,t.min=Et,t.minIndex=wn,t.nice=xt,t.pairs=dr,t.permute=dt,t.quantile=it,t.quantileSorted=Wt,t.quickselect=pt,t.range=_,t.reduce=Ss,t.reverse=Cs,t.rollup=et,t.rollups=q,t.scan=ht,t.shuffle=Tt,t.shuffler=Yt,t.some=hr,t.sort=at,t.subset=Ps,t.sum=bn,t.superset=hi,t.thresholdFreedmanDiaconis=le,t.thresholdScott=Me,t.thresholdSturges=rt,t.tickIncrement=kt,t.tickStep=G,t.ticks=Xt,t.transpose=Vt,t.union=Ls,t.variance=D,t.zip=Oe,Object.defineProperty(t,"__esModule",{value:!0})})});var Es=Fe((ur,Ms)=>{(function(t,e){typeof ur=="object"&&typeof Ms<"u"?e(ur):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.d3=t.d3||{}))})(ur,function(t){"use strict";function e(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)}function n(x,S){if(($=(x=S?x.toExponential(S-1):x.toExponential()).indexOf("e"))<0)return null;var $,N=x.slice(0,$);return[N.length>1?N[0]+N.slice(2):N,+x.slice($+1)]}function r(x){return x=n(Math.abs(x)),x?x[1]:NaN}function i(x,S){return function($,N){for(var B=$.length,H=[],V=0,j=x[0],Z=0;B>0&&j>0&&(Z+j+1>N&&(j=Math.max(1,N-Z)),H.push($.substring(B-=j,B+j)),!((Z+=j+1)>N));)j=x[V=(V+1)%x.length];return H.reverse().join(S)}}function o(x){return function(S){return S.replace(/[0-9]/g,function($){return x[+$]})}}var a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(x){if(!(S=a.exec(x)))throw new Error("invalid format: "+x);var S;return new u({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}s.prototype=u.prototype;function u(x){this.fill=x.fill===void 0?" ":x.fill+"",this.align=x.align===void 0?">":x.align+"",this.sign=x.sign===void 0?"-":x.sign+"",this.symbol=x.symbol===void 0?"":x.symbol+"",this.zero=!!x.zero,this.width=x.width===void 0?void 0:+x.width,this.comma=!!x.comma,this.precision=x.precision===void 0?void 0:+x.precision,this.trim=!!x.trim,this.type=x.type===void 0?"":x.type+""}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l(x){t:for(var S=x.length,$=1,N=-1,B;$<S;++$)switch(x[$]){case".":N=B=$;break;case"0":N===0&&(N=$),B=$;break;default:if(!+x[$])break t;N>0&&(N=0);break}return N>0?x.slice(0,N)+x.slice(B+1):x}var c;function y(x,S){var $=n(x,S);if(!$)return x+"";var N=$[0],B=$[1],H=B-(c=Math.max(-8,Math.min(8,Math.floor(B/3)))*3)+1,V=N.length;return H===V?N:H>V?N+new Array(H-V+1).join("0"):H>0?N.slice(0,H)+"."+N.slice(H):"0."+new Array(1-H).join("0")+n(x,Math.max(0,S+H-1))[0]}function w(x,S){var $=n(x,S);if(!$)return x+"";var N=$[0],B=$[1];return B<0?"0."+new Array(-B).join("0")+N:N.length>B+1?N.slice(0,B+1)+"."+N.slice(B+1):N+new Array(B-N.length+2).join("0")}var b={"%":(x,S)=>(x*100).toFixed(S),b:x=>Math.round(x).toString(2),c:x=>x+"",d:e,e:(x,S)=>x.toExponential(S),f:(x,S)=>x.toFixed(S),g:(x,S)=>x.toPrecision(S),o:x=>Math.round(x).toString(8),p:(x,S)=>w(x*100,S),r:w,s:y,X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function C(x){return x}var T=Array.prototype.map,A=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function E(x){var S=x.grouping===void 0||x.thousands===void 0?C:i(T.call(x.grouping,Number),x.thousands+""),$=x.currency===void 0?"":x.currency[0]+"",N=x.currency===void 0?"":x.currency[1]+"",B=x.decimal===void 0?".":x.decimal+"",H=x.numerals===void 0?C:o(T.call(x.numerals,String)),V=x.percent===void 0?"%":x.percent+"",j=x.minus===void 0?"\u2212":x.minus+"",Z=x.nan===void 0?"NaN":x.nan+"";function tt(q){q=s(q);var lt=q.fill,ct=q.align,nt=q.sign,Q=q.symbol,dt=q.zero,at=q.width,mt=q.comma,st=q.precision,Rt=q.trim,Y=q.type;Y==="n"?(mt=!0,Y="g"):b[Y]||(st===void 0&&(st=12),Rt=!0,Y="g"),(dt||lt==="0"&&ct==="=")&&(dt=!0,lt="0",ct="=");var Dt=Q==="$"?$:Q==="#"&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",Mt=Q==="$"?N:/[%p]/.test(Y)?V:"",Ct=b[Y],Xt=/[defgprs%]/.test(Y);st=st===void 0?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,st)):Math.max(0,Math.min(20,st));function kt(G){var xt=Dt,rt=Mt,wt,Bt,Et;if(Y==="c")rt=Ct(G)+rt,G="";else{G=+G;var pt=G<0||1/G<0;if(G=isNaN(G)?Z:Ct(Math.abs(G),st),Rt&&(G=l(G)),pt&&+G==0&&nt!=="+"&&(pt=!1),xt=(pt?nt==="("?nt:j:nt==="-"||nt==="("?"":nt)+xt,rt=(Y==="s"?A[8+c/3]:"")+rt+(pt&&nt==="("?")":""),Xt){for(wt=-1,Bt=G.length;++wt<Bt;)if(Et=G.charCodeAt(wt),48>Et||Et>57){rt=(Et===46?B+G.slice(wt+1):G.slice(wt))+rt,G=G.slice(0,wt);break}}}mt&&!dt&&(G=S(G,1/0));var ut=xt.length+G.length+rt.length,it=ut<at?new Array(at-ut+1).join(lt):"";switch(mt&&dt&&(G=S(it+G,it.length?at-rt.length:1/0),it=""),ct){case"<":G=xt+G+rt+it;break;case"=":G=xt+it+G+rt;break;case"^":G=it.slice(0,ut=it.length>>1)+xt+G+rt+it.slice(ut);break;default:G=it+xt+G+rt;break}return H(G)}return kt.toString=function(){return q+""},kt}function et(q,lt){var ct=tt((q=s(q),q.type="f",q)),nt=Math.max(-8,Math.min(8,Math.floor(r(lt)/3)))*3,Q=Math.pow(10,-nt),dt=A[8+nt/3];return function(at){return ct(Q*at)+dt}}return{format:tt,formatPrefix:et}}var D;L({thousands:",",grouping:[3],currency:["$",""]});function L(x){return D=E(x),t.format=D.format,t.formatPrefix=D.formatPrefix,D}function m(x){return Math.max(0,-r(Math.abs(x)))}function k(x,S){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(r(S)/3)))*3-r(Math.abs(x)))}function O(x,S){return x=Math.abs(x),S=Math.abs(S)-x,Math.max(0,r(S)-r(x))+1}t.FormatSpecifier=u,t.formatDefaultLocale=L,t.formatLocale=E,t.formatSpecifier=s,t.precisionFixed=m,t.precisionPrefix=k,t.precisionRound=O,Object.defineProperty(t,"__esModule",{value:!0})})});var qc={};Vs(qc,{default:()=>Vc});module.exports=qs(qc);var lr=de(go(),1);var tn={selector:".gene-tooltip",api:"mygene",prefetch:"smart",prefetchThreshold:15,truncateSummary:4,display:{species:!0,location:!0,ideogram:!0,pathways:!0,domains:!0,geneTrack:!0},ideogram:{enabled:!0,height:100,showLabels:!1},pathwaySource:"reactome",pathwayCount:3,domainCount:3,tippyOptions:{allowHTML:!0,interactive:!0,placement:"bottom",theme:"light"}};var Hr=new Map,Gr=(t,e)=>`${t}_${e}`,vo=(t,e)=>Hr.has(Gr(t,e)),Vr=(t,e)=>Hr.get(Gr(t,e)),qr=(t,e,n)=>{Hr.set(Gr(t,e),n)},yo=(t,e)=>{t.forEach((n,r)=>{qr(r,e,n)})};async function In(t,e){if(!t||t.length===0)return new Map;console.log(`Making BATCH request for ${t.length} genes in species: ${e}`);let n="https://mygene.info/v3/query",r=t.join(","),i=["_id","query","symbol","name","summary","taxid","genomic_pos","pathway","interpro","exons"].join(",");try{let o=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`q=${r}&species=${e}&scopes=symbol&fields=${i}`});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);let a=await o.json(),s=new Map;for(let u of a)u.notfound||s.set(u.query,u);return s}catch(o){return console.error("Batch fetch failed:",o),new Map}}var wo=[{key:"ncbi",name:"NCBI",url:t=>`https://www.ncbi.nlm.nih.gov/gene/${t}`,requires:"id"},{key:"ensembl",name:"Ensembl",url:t=>`https://www.ensembl.org/id/${t}`,requires:"id"},{key:"genecards",name:"GeneCards",url:t=>`https://www.genecards.org/cgi-bin/carddisp.pl?gene=${t}`,requires:"symbol"}];var Tf={9606:{common:"Human",genus:"Homo sapiens",icon:"\u{1F9D1}"},10090:{common:"Mouse",genus:"Mus musculus",icon:"\u{1F42D}"},10116:{common:"Rat",genus:"Rattus norvegicus",icon:"\u{1F400}"},7227:{common:"Fruitfly",genus:"Drosophila melanogaster",icon:"\u{1FAB0}"},6239:{common:"Nematode",genus:"Caenorhabditis elegans",icon:"\u{1FAB1}"},7955:{common:"Zebrafish",genus:"Danio rerio",icon:"\u{1F41F}"},3702:{common:"Thale-cress",genus:"Arabidopsis thaliana",icon:"\u{1F331}"},8364:{common:"Frog",genus:"Xenopus tropicalis",icon:"\u{1F438}"},9823:{common:"Pig",genus:"Sus scrofa",icon:"\u{1F416}"}};function Of(t){let e=Tf[t]??{common:"Unknown",genus:"",icon:"\u2753"};return`
    <div class="gene-tooltip-section gene-tooltip-species">
      <span class="gene-tooltip-species-icon">${e.icon}</span>
      <span>${e.common}, <em>${e.genus}</em></span>
    </div>
  `}function Af(t,e=!1,n=""){if(!t)return"";let r=Array.isArray(t)?t[0]:t;if(!r)return"";let i=r.start.toLocaleString(),o=r.end.toLocaleString();return`
      <div class="gene-tooltip-section gene-tooltip-location">
        <div>
          <span class="gene-tooltip-location-label">Location:</span>
          <span>chr${r.chr}:${i}-${o}</span>
        </div>
        ${e?`<div class="gene-tooltip-ideo" id="gene-tooltip-ideo-${n}"></div>`:""}
      </div>
    `}function Sf(t){return`<div class="gene-tooltip-track" id="gene-tooltip-track-${t}"></div>`}function bo(t,e,n,r){if(!e||e.length===0)return"";let i=e.slice(0,n),o=e.length-n,a=i.map(u=>`
      <li>
        <a href="${u.url}" target="_blank" rel="noopener noreferrer">${u.name}</a>
      </li>
    `).join(""),s=o>0?`<span id="${r}" class="gene-tooltip-more-btn" data-more-count="${o}">
         ... and ${o} more
       </span>`:"";return o>0,`
    <div class="gene-tooltip-section gene-tooltip-list-section">
      <div class="gene-tooltip-list-header">${t}</div>
      <ul>${a}</ul>
      ${s}
    </div>
  `}function Cf(t,e,n){let r=t.pathway?.[e];if(!r)return"";let i=(Array.isArray(r)?r:[r]).map(a=>{let s="#";return e==="reactome"&&(s=`https://reactome.org/content/detail/${a.id}`),e==="kegg"&&(s=`https://www.genome.jp/dbget-bin/www_bget?path:${a.id}`),e==="wikipathways"&&(s=`https://www.wikipathways.org/pathways/${a.id}`),{name:a.name,url:s}}).sort((a,s)=>a.name.localeCompare(s.name)),o=`pathways-more-${t._id}`;return bo("Pathways",i,n,o)}function kf(t,e){let n=t.interpro;if(!n)return"";let r=(Array.isArray(n)?n:[n]).map(o=>({name:o.short_desc,url:`https://www.ebi.ac.uk/interpro/entry/InterPro/${o.id}`})).sort((o,a)=>o.name.localeCompare(a.name)),i=`domains-more-${t._id}`;return bo("Protein Domains",r,e,i)}function Fr(t,e={}){if(!t)return"<p>Gene not found.</p>";let{sources:n=["ncbi"],truncate:r=5,display:i={},pathwaySource:o="reactome",pathwayCount:a=3,domainCount:s=3}=e,u=wo.filter(b=>n.includes(b.key)).map(b=>b.requires==="id"&&!t._id||b.requires==="symbol"&&!t.symbol?"":`<a href="${b.url(t._id||t.symbol)}"
                 target="_blank"
                 rel="noopener noreferrer">
                ${b.name}
              </a>`).filter(Boolean).join(" | "),l=t.summary||"No summary available.",c=r&&l.length>0?"gene-tooltip-summary":"gene-tooltip-summary-full",y=r?'tabindex="0"':"",w=r?`style="--line-clamp: ${r};"`:"";return`
    <div class="gene-tooltip-content" style="text-align: left; max-width: 300px;">
      <div class="gene-tooltip-header">
        <strong>
          <a href="https://www.ncbi.nlm.nih.gov/gene/${t._id}" 
             target="_blank" 
             rel="noopener noreferrer"
             class="gene-tooltip-link">
            ${t.symbol}
          </a>
        </strong>
        <span class="gene-tooltip-name">(${t.name})</span>
      </div>

      ${i.species!==!1&&t.taxid?Of(t.taxid):""}
      ${i.location!==!1?Af(t.genomic_pos,i.ideogram,t._id):""}
      ${i.geneTrack!==!1&&t.genomic_pos?Sf(t._id):""}

      <p class="${c}" ${y} ${w}>${l}</p>

      ${i.pathways!==!1?Cf(t,o,a):""}
      ${i.domains!==!1?kf(t,s):""}
      
      ${u?`<div class="gene-tooltip-links">${u}</div>`:""}
    </div>
  `}function _o(t){let e=Array.from(document.querySelectorAll(t)),n=[],r=/[,\s;]+/;return e.forEach(i=>{let a=(i.textContent||"").trim().split(r).filter(Boolean);if(a.length>1){let s=i.dataset.species;if(!s){console.warn("Gene list container found without a data-species attribute. Skipping.",i);return}i.innerHTML="",a.forEach((u,l)=>{let c=document.createElement("span");c.textContent=u,c.dataset.species=s;let y=t.startsWith(".")?t.substring(1):t;c.classList.add(y),i.appendChild(c),n.push(c),l<a.length-1&&i.appendChild(document.createTextNode(", "))})}else a.length===1&&(i.textContent=a[0],n.push(i))}),n}function en(t){let e=t.textContent?.trim(),n=t.dataset.species;return!e||!n?null:{symbol:e,species:n}}function Mo(t){let e=new Map;return t.forEach(n=>{let r=en(n);!r||vo(r.symbol,r.species)||(e.has(r.species)||e.set(r.species,new Set),e.get(r.species).add(r.symbol))}),e}async function Eo(t){let e=Array.from(t.entries()).map(([n,r])=>In(Array.from(r),n).then(i=>yo(i,n)));await Promise.all(e)}function If(t){let e=Mo(t);Eo(e)}function Df(t){let e=new Set,n=null,r=()=>{if(e.size===0)return;let o=Mo(Array.from(e));Eo(o),e.clear()},i=new IntersectionObserver((o,a)=>{o.forEach(s=>{s.isIntersecting&&(e.add(s.target),a.unobserve(s.target),n&&clearTimeout(n),n=setTimeout(r,200))})},{rootMargin:"200px"});t.forEach(o=>i.observe(o))}function To(t,e,n){let r=e.length;t==="all"||t==="smart"&&r<=n?(console.log(`Prefetching all ${r} genes.`),If(e)):t==="smart"&&r>n&&(console.log("Using 'smart' prefetch strategy with IntersectionObserver."),Df(e))}function Oo(){document.addEventListener("click",t=>{let e=t.target;e.classList.contains("gene-tooltip-summary")&&e.classList.toggle("expanded")}),document.addEventListener("keydown",t=>{let e=t.target;e?.classList.contains("gene-tooltip-summary")&&(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),e.classList.toggle("expanded"))})}var Dn=null;async function Nf(){if(Dn)return Dn;if(window.Ideogram)return Promise.resolve(window.Ideogram);if(typeof window<"u"&&typeof document<"u"&&typeof window.GeneTooltip<"u"){let e=`[GeneTooltip] Ideogram global variable not found.
Please ensure the Ideogram script is loaded on the page
before initializing GeneTooltip, or use the ESM/CJS build.`;return console.error(e),Promise.reject(new Error(e))}return Dn=import("ideogram").then(e=>e.default).catch(e=>{let n=`[GeneTooltip] Failed to load Ideogram. 
Please ensure 'ideogram' is installed (it's a peer dependency).`;return console.error(n,e),Promise.reject(new Error(n))}),Dn}async function jr(t,e,n){console.log("[GeneTooltip] Starting renderIdeogram for:",e.symbol);let r=t.popper.querySelector(".gene-tooltip-ideo");try{let i=await Nf();if(!i){r&&(r.innerHTML="<small>Ideogram unavailable</small>");return}let o=`#gene-tooltip-ideo-${e._id}`,a=t.popper.querySelector(o);if(!a){console.error(`[GeneTooltip] CRITICAL: Ideogram container '${o}' not found.`);return}let s=Array.isArray(e.genomic_pos)?e.genomic_pos[0]:e.genomic_pos;if(!s){a.innerHTML="<small>No genomic position</small>";return}let u=String(s.chr);u.toLowerCase().startsWith("chr")&&(u=u.substring(3));let l="human";e.taxid===10090&&(l="mouse");let c={container:o,organism:l,chromosome:u,chrHeight:n.height??100,orientation:"horizontal",showBandLabels:n.showLabels??!1,annotations:[{name:e.symbol,chr:u,start:s.start,stop:s.end}]};new i(c),console.log("[GeneTooltip] Ideogram initialized.")}catch(i){console.error("[GeneTooltip] Ideogram failed to render:",i),r&&(r.innerHTML="<small>Ideogram not installed or failed to load.</small>")}}function Nn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}var Ln="http://www.w3.org/1999/xhtml",Ur={svg:"http://www.w3.org/2000/svg",xhtml:Ln,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ur.hasOwnProperty(e)?{space:Ur[e],local:t}:t}function Pf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ln&&e.documentElement.namespaceURI===Ln?e.createElement(t):e.createElementNS(n,t)}}function Lf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function $n(t){var e=Jt(t);return(e.local?Lf:Pf)(e)}function $f(){}function ve(t){return t==null?$f:function(){return this.querySelector(t)}}function Co(t){typeof t!="function"&&(t=ve(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new J(r,this._parents)}function Xr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Rf(){return[]}function nn(t){return t==null?Rf:function(){return this.querySelectorAll(t)}}function Bf(t){return function(){return Xr(t.apply(this,arguments))}}function ko(t){typeof t=="function"?t=Bf(t):t=nn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new J(r,i)}function rn(t){return function(){return this.matches(t)}}function Rn(t){return function(e){return e.matches(t)}}var zf=Array.prototype.find;function Hf(t){return function(){return zf.call(this.children,t)}}function Gf(){return this.firstElementChild}function Io(t){return this.select(t==null?Gf:Hf(typeof t=="function"?t:Rn(t)))}var Vf=Array.prototype.filter;function qf(){return Array.from(this.children)}function Ff(t){return function(){return Vf.call(this.children,t)}}function Do(t){return this.selectAll(t==null?qf:Ff(typeof t=="function"?t:Rn(t)))}function No(t){typeof t!="function"&&(t=rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new J(r,this._parents)}function Bn(t){return new Array(t.length)}function Po(){return new J(this._enter||this._groups.map(Bn),this._parents)}function on(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}on.prototype={constructor:on,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Lo(t){return function(){return t}}function jf(t,e,n,r,i,o){for(var a=0,s,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new on(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function Uf(t,e,n,r,i,o,a){var s,u,l=new Map,c=e.length,y=o.length,w=new Array(c),b;for(s=0;s<c;++s)(u=e[s])&&(w[s]=b=a.call(u,u.__data__,s,e)+"",l.has(b)?i[s]=u:l.set(b,u));for(s=0;s<y;++s)b=a.call(t,o[s],s,o)+"",(u=l.get(b))?(r[s]=u,u.__data__=o[s],l.delete(b)):n[s]=new on(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(w[s])===u&&(i[s]=u)}function Xf(t){return t.__data__}function $o(t,e){if(!arguments.length)return Array.from(this,Xf);var n=e?Uf:jf,r=this._parents,i=this._groups;typeof t!="function"&&(t=Lo(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],y=i[l],w=y.length,b=Wf(t.call(c,c&&c.__data__,l,r)),C=b.length,T=s[l]=new Array(C),A=a[l]=new Array(C),E=u[l]=new Array(w);n(c,y,T,A,E,b,e);for(var D=0,L=0,m,k;D<C;++D)if(m=T[D]){for(D>=L&&(L=D+1);!(k=A[L])&&++L<C;);m._next=k||null}}return a=new J(a,r),a._enter=s,a._exit=u,a}function Wf(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ro(){return new J(this._exit||this._groups.map(Bn),this._parents)}function Bo(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function zo(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],y=l.length,w=s[u]=new Array(y),b,C=0;C<y;++C)(b=l[C]||c[C])&&(w[C]=b);for(;u<i;++u)s[u]=n[u];return new J(s,this._parents)}function Ho(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Go(t){t||(t=Yf);function e(y,w){return y&&w?t(y.__data__,w.__data__):!y-!w}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new J(i,this._parents).order()}function Yf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Vo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qo(){return Array.from(this)}function Fo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function jo(){let t=0;for(let e of this)++t;return t}function Uo(){return!this.node()}function Xo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function Kf(t){return function(){this.removeAttribute(t)}}function Qf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zf(t,e){return function(){this.setAttribute(t,e)}}function Jf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function el(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Wo(t,e){var n=Jt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Qf:Kf:typeof e=="function"?n.local?el:tl:n.local?Jf:Zf)(n,e))}function zn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nl(t){return function(){this.style.removeProperty(t)}}function rl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function il(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Yo(t,e,n){return arguments.length>1?this.each((e==null?nl:typeof e=="function"?il:rl)(t,e,n??"")):se(this.node(),t)}function se(t,e){return t.style.getPropertyValue(e)||zn(t).getComputedStyle(t,null).getPropertyValue(e)}function ol(t){return function(){delete this[t]}}function al(t,e){return function(){this[t]=e}}function sl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ko(t,e){return arguments.length>1?this.each((e==null?ol:typeof e=="function"?sl:al)(t,e)):this.node()[t]}function Qo(t){return t.trim().split(/^|\s+/)}function Wr(t){return t.classList||new Zo(t)}function Zo(t){this._node=t,this._names=Qo(t.getAttribute("class")||"")}Zo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jo(t,e){for(var n=Wr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ta(t,e){for(var n=Wr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ul(t){return function(){Jo(this,t)}}function fl(t){return function(){ta(this,t)}}function ll(t,e){return function(){(e.apply(this,arguments)?Jo:ta)(this,t)}}function ea(t,e){var n=Qo(t+"");if(arguments.length<2){for(var r=Wr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ll:e?ul:fl)(n,e))}function cl(){this.textContent=""}function pl(t){return function(){this.textContent=t}}function dl(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function na(t){return arguments.length?this.each(t==null?cl:(typeof t=="function"?dl:pl)(t)):this.node().textContent}function ml(){this.innerHTML=""}function hl(t){return function(){this.innerHTML=t}}function gl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ra(t){return arguments.length?this.each(t==null?ml:(typeof t=="function"?gl:hl)(t)):this.node().innerHTML}function vl(){this.nextSibling&&this.parentNode.appendChild(this)}function ia(){return this.each(vl)}function yl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oa(){return this.each(yl)}function aa(t){var e=typeof t=="function"?t:$n(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xl(){return null}function sa(t,e){var n=typeof t=="function"?t:$n(t),r=e==null?xl:typeof e=="function"?e:ve(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wl(){var t=this.parentNode;t&&t.removeChild(this)}function ua(){return this.each(wl)}function bl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _l(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fa(t){return this.select(t?_l:bl)}function la(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ml(t){return function(e){t.call(this,e,this.__data__)}}function El(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Tl(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Ol(t,e,n){return function(){var r=this.__on,i,o=Ml(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ca(t,e,n){var r=El(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?Ol:Tl,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function pa(t,e,n){var r=zn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Al(t,e){return function(){return pa(this,t,e)}}function Sl(t,e){return function(){return pa(this,t,e.apply(this,arguments))}}function da(t,e){return this.each((typeof e=="function"?Sl:Al)(t,e))}function*ma(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Yr=[null];function J(t,e){this._groups=t,this._parents=e}function ha(){return new J([[document.documentElement]],Yr)}function Cl(){return this}J.prototype=ha.prototype={constructor:J,select:Co,selectAll:ko,selectChild:Io,selectChildren:Do,filter:No,data:$o,enter:Po,exit:Ro,join:Bo,merge:zo,selection:Cl,order:Ho,sort:Go,call:Vo,nodes:qo,node:Fo,size:jo,empty:Uo,each:Xo,attr:Wo,style:Yo,property:Ko,classed:ea,text:na,html:ra,raise:ia,lower:oa,append:aa,insert:sa,remove:ua,clone:fa,datum:la,on:ca,dispatch:da,[Symbol.iterator]:ma};var te=ha;function Kr(t){return typeof t=="string"?new J([[document.querySelector(t)]],[document.documentElement]):new J([[t]],Yr)}function Hn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function un(){}var an=.7,qn=1/an,$e="\\s*([+-]?\\d+)\\s*",sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kl=/^#([0-9a-f]{3,8})$/,Il=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),Dl=new RegExp(`^rgb\\(${Ut},${Ut},${Ut}\\)$`),Nl=new RegExp(`^rgba\\(${$e},${$e},${$e},${sn}\\)$`),Pl=new RegExp(`^rgba\\(${Ut},${Ut},${Ut},${sn}\\)$`),Ll=new RegExp(`^hsl\\(${sn},${Ut},${Ut}\\)$`),$l=new RegExp(`^hsla\\(${sn},${Ut},${Ut},${sn}\\)$`),ga={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hn(un,Gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:va,formatHex:va,formatHex8:Rl,formatHsl:Bl,formatRgb:ya,toString:ya});function va(){return this.rgb().formatHex()}function Rl(){return this.rgb().formatHex8()}function Bl(){return Ea(this).formatHsl()}function ya(){return this.rgb().formatRgb()}function Gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kl.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?xa(e):n===3?new St(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Il.exec(t))?new St(e[1],e[2],e[3],1):(e=Dl.exec(t))?new St(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Nl.exec(t))?Gn(e[1],e[2],e[3],e[4]):(e=Pl.exec(t))?Gn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ll.exec(t))?_a(e[1],e[2]/100,e[3]/100,1):(e=$l.exec(t))?_a(e[1],e[2]/100,e[3]/100,e[4]):ga.hasOwnProperty(t)?xa(ga[t]):t==="transparent"?new St(NaN,NaN,NaN,0):null}function xa(t){return new St(t>>16&255,t>>8&255,t&255,1)}function Gn(t,e,n,r){return r<=0&&(t=e=n=NaN),new St(t,e,n,r)}function zl(t){return t instanceof un||(t=Gt(t)),t?(t=t.rgb(),new St(t.r,t.g,t.b,t.opacity)):new St}function Re(t,e,n,r){return arguments.length===1?zl(t):new St(t,e,n,r??1)}function St(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Hn(St,Re,Qr(un,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new St(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new St(xe(this.r),xe(this.g),xe(this.b),Fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wa,formatHex:wa,formatHex8:Hl,formatRgb:ba,toString:ba}));function wa(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}`}function Hl(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}${ye((isNaN(this.opacity)?1:this.opacity)*255)}`}function ba(){let t=Fn(this.opacity);return`${t===1?"rgb(":"rgba("}${xe(this.r)}, ${xe(this.g)}, ${xe(this.b)}${t===1?")":`, ${t})`}`}function Fn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xe(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ye(t){return t=xe(t),(t<16?"0":"")+t.toString(16)}function _a(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ht(t,e,n,r)}function Ea(t){if(t instanceof Ht)return new Ht(t.h,t.s,t.l,t.opacity);if(t instanceof un||(t=Gt(t)),!t)return new Ht;if(t instanceof Ht)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ht(a,s,u,t.opacity)}function Ta(t,e,n,r){return arguments.length===1?Ea(t):new Ht(t,e,n,r??1)}function Ht(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Hn(Ht,Ta,Qr(un,{brighter(t){return t=t==null?qn:Math.pow(qn,t),new Ht(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?an:Math.pow(an,t),new Ht(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new St(Zr(t>=240?t-240:t+120,i,r),Zr(t,i,r),Zr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ht(Ma(this.h),Vn(this.s),Vn(this.l),Fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=Fn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ma(this.h)}, ${Vn(this.s)*100}%, ${Vn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ma(t){return t=(t||0)%360,t<0?t+360:t}function Vn(t){return Math.max(0,Math.min(1,t||0))}function Zr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Jr(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Oa(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Jr((n-r/e)*e,a,i,o,s)}}function Aa(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Jr((n-r/e)*e,i,o,a,s)}}var fn=t=>()=>t;function Gl(t,e){return function(n){return t+n*e}}function Vl(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Sa(t){return(t=+t)==1?jn:function(e,n){return n-e?Vl(e,n,t):fn(isNaN(e)?n:e)}}function jn(t,e){var n=e-t;return n?Gl(t,n):fn(isNaN(t)?e:t)}var we=function t(e){var n=Sa(e);function r(i,o){var a=n((i=Re(i)).r,(o=Re(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=jn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Ca(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Re(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}var ql=Ca(Oa),Fl=Ca(Aa);function ka(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Ia(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Da(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=be(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Na(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Pa(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=be(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ti=new RegExp(ei.source,"g");function jl(t){return function(){return t}}function Ul(t){return function(e){return t(e)+""}}function ln(t,e){var n=ei.lastIndex=ti.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=ei.exec(t))&&(i=ti.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:gt(r,i)})),n=ti.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Ul(u[0].x):jl(e):(e=u.length,function(l){for(var c=0,y;c<e;++c)s[(y=u[c]).i]=y.x(l);return s.join("")})}function be(t,e){var n=typeof e,r;return e==null||n==="boolean"?fn(e):(n==="number"?gt:n==="string"?(r=Gt(e))?(e=r,we):ln:e instanceof Gt?we:e instanceof Date?Na:Ia(e)?ka:Array.isArray(e)?Da:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Pa:gt)(t,e)}function ni(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var La=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ri(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*La,skewX:Math.atan(u)*La,scaleX:a,scaleY:s}}var Xn;function $a(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Un:ri(e.a,e.b,e.c,e.d,e.e,e.f)}function Ra(t){return t==null?Un:(Xn||(Xn=document.createElementNS("http://www.w3.org/2000/svg","g")),Xn.setAttribute("transform",t),(t=Xn.transform.baseVal.consolidate())?(t=t.matrix,ri(t.a,t.b,t.c,t.d,t.e,t.f)):Un)}function Ba(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,y,w,b,C){if(l!==y||c!==w){var T=b.push("translate(",null,e,null,n);C.push({i:T-4,x:gt(l,y)},{i:T-2,x:gt(c,w)})}else(y||w)&&b.push("translate("+y+e+w+n)}function a(l,c,y,w){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),w.push({i:y.push(i(y)+"rotate(",null,r)-2,x:gt(l,c)})):c&&y.push(i(y)+"rotate("+c+r)}function s(l,c,y,w){l!==c?w.push({i:y.push(i(y)+"skewX(",null,r)-2,x:gt(l,c)}):c&&y.push(i(y)+"skewX("+c+r)}function u(l,c,y,w,b,C){if(l!==y||c!==w){var T=b.push(i(b)+"scale(",null,",",null,")");C.push({i:T-4,x:gt(l,y)},{i:T-2,x:gt(c,w)})}else(y!==1||w!==1)&&b.push(i(b)+"scale("+y+","+w+")")}return function(l,c){var y=[],w=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,y,w),a(l.rotate,c.rotate,y,w),s(l.skewX,c.skewX,y,w),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,y,w),l=c=null,function(b){for(var C=-1,T=w.length,A;++C<T;)y[(A=w[C]).i]=A.x(b);return y.join("")}}}var ii=Ba($a,"px, ","px)","deg)"),oi=Ba(Ra,", ",")",")");var ja=de(So(),1);var Be=0,pn=0,cn=0,Ha=1e3,Wn,dn,Yn=0,_e=0,Kn=0,mn=typeof performance=="object"&&performance.now?performance:Date,Ga=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gn(){return _e||(Ga(Xl),_e=mn.now()+Kn)}function Xl(){_e=0}function hn(){this._call=this._time=this._next=null}hn.prototype=Qn.prototype={constructor:hn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?gn():+n)+(e==null?0:+e),!this._next&&dn!==this&&(dn?dn._next=this:Wn=this,dn=this),this._call=t,this._time=n,ai()},stop:function(){this._call&&(this._call=null,this._time=1/0,ai())}};function Qn(t,e,n){var r=new hn;return r.restart(t,e,n),r}function Va(){gn(),++Be;for(var t=Wn,e;t;)(e=_e-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Be}function za(){_e=(Yn=mn.now())+Kn,Be=pn=0;try{Va()}finally{Be=0,Yl(),_e=0}}function Wl(){var t=mn.now(),e=t-Yn;e>Ha&&(Kn-=e,Yn=t)}function Yl(){for(var t,e=Wn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wn=n);dn=t,ai(r)}function ai(t){if(!Be){pn&&(pn=clearTimeout(pn));var e=t-_e;e>24?(t<1/0&&(pn=setTimeout(za,t-mn.now()-Kn)),cn&&(cn=clearInterval(cn))):(cn||(Yn=mn.now(),cn=setInterval(Wl,Ha)),Be=1,Ga(za))}}function Zn(t,e,n){var r=new hn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Kl=(0,ja.dispatch)("start","end","cancel","interrupt"),Ql=[],Ua=0,qa=1,tr=2,Jn=3,Fa=4,er=5,vn=6;function ue(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Zl(t,n,{name:e,index:r,group:i,on:Kl,tween:Ql,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ua})}function yn(t,e){var n=ft(t,e);if(n.state>Ua)throw new Error("too late; already scheduled");return n}function vt(t,e){var n=ft(t,e);if(n.state>Jn)throw new Error("too late; already running");return n}function ft(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Qn(o,0,n.time);function o(l){n.state=qa,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,y,w,b;if(n.state!==qa)return u();for(c in r)if(b=r[c],b.name===n.name){if(b.state===Jn)return Zn(a);b.state===Fa?(b.state=vn,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete r[c]):+c<e&&(b.state=vn,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete r[c])}if(Zn(function(){n.state===Jn&&(n.state=Fa,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=tr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===tr){for(n.state=Jn,i=new Array(w=n.tween.length),c=0,y=-1;c<w;++c)(b=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++y]=b);i.length=y+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=er,1),y=-1,w=i.length;++y<w;)i[y].call(t,c);n.state===er&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=vn,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function nr(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>tr&&r.state<er,r.state=vn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function Xa(t){return this.each(function(){nr(this,t)})}function Jl(t,e){var n,r;return function(){var i=vt(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function tc(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=vt(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Wa(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?Jl:tc)(n,t,e))}function ze(t,e,n){var r=t._id;return t.each(function(){var i=vt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return ft(i,r).value[e]}}function rr(t,e){var n;return(typeof e=="number"?gt:e instanceof Gt?we:(n=Gt(e))?(e=n,we):ln)(t,e)}function ec(t){return function(){this.removeAttribute(t)}}function nc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rc(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function ic(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function oc(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function ac(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function Ya(t,e){var n=Jt(t),r=n==="transform"?oi:rr;return this.attrTween(t,typeof e=="function"?(n.local?ac:oc)(n,r,ze(this,"attr."+t,e)):e==null?(n.local?nc:ec)(n):(n.local?ic:rc)(n,r,e))}function sc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function uc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function fc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&uc(t,o)),n}return i._value=e,i}function lc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&sc(t,o)),n}return i._value=e,i}function Ka(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jt(t);return this.tween(n,(r.local?fc:lc)(r,e))}function cc(t,e){return function(){yn(this,t).delay=+e.apply(this,arguments)}}function pc(t,e){return e=+e,function(){yn(this,t).delay=e}}function Qa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cc:pc)(e,t)):ft(this.node(),e).delay}function dc(t,e){return function(){vt(this,t).duration=+e.apply(this,arguments)}}function mc(t,e){return e=+e,function(){vt(this,t).duration=e}}function Za(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?dc:mc)(e,t)):ft(this.node(),e).duration}function hc(t,e){if(typeof e!="function")throw new Error;return function(){vt(this,t).ease=e}}function Ja(t){var e=this._id;return arguments.length?this.each(hc(e,t)):ft(this.node(),e).ease}function gc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,t).ease=n}}function ts(t){if(typeof t!="function")throw new Error;return this.each(gc(this._id,t))}function es(t){typeof t!="function"&&(t=rn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new _t(r,this._parents,this._name,this._id)}function ns(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],l=n[s],c=u.length,y=a[s]=new Array(c),w,b=0;b<c;++b)(w=u[b]||l[b])&&(y[b]=w);for(;s<r;++s)a[s]=e[s];return new _t(a,this._parents,this._name,this._id)}function vc(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function yc(t,e,n){var r,i,o=vc(e)?yn:vt;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function rs(t,e){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(t):this.each(yc(n,t,e))}function xc(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function is(){return this.on("end.remove",xc(this._id))}function os(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ve(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,y,w=0;w<u;++w)(c=s[w])&&(y=t.call(c,c.__data__,w,s))&&("__data__"in c&&(y.__data__=c.__data__),l[w]=y,ue(l[w],e,n,w,l,ft(c,n)));return new _t(o,this._parents,e,n)}function as(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nn(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,y=0;y<l;++y)if(c=u[y]){for(var w=t.call(c,c.__data__,y,u),b,C=ft(c,n),T=0,A=w.length;T<A;++T)(b=w[T])&&ue(b,e,n,T,w,C);o.push(w),a.push(c)}return new _t(o,a,e,n)}var wc=te.prototype.constructor;function ss(){return new wc(this._groups,this._parents)}function bc(t,e){var n,r,i;return function(){var o=se(this,t),a=(this.style.removeProperty(t),se(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function us(t){return function(){this.style.removeProperty(t)}}function _c(t,e,n){var r,i=n+"",o;return function(){var a=se(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function Mc(t,e,n){var r,i,o;return function(){var a=se(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),se(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Ec(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=vt(this,t),l=u.on,c=u.value[o]==null?s||(s=us(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function fs(t,e,n){var r=(t+="")=="transform"?ii:rr;return e==null?this.styleTween(t,bc(t,r)).on("end.style."+t,us(t)):typeof e=="function"?this.styleTween(t,Mc(t,r,ze(this,"style."+t,e))).each(Ec(this._id,t)):this.styleTween(t,_c(t,r,e),n).on("end.style."+t,null)}function Tc(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Oc(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Tc(t,a,n)),r}return o._value=e,o}function ls(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Oc(t,e,n??""))}function Ac(t){return function(){this.textContent=t}}function Sc(t){return function(){var e=t(this);this.textContent=e??""}}function cs(t){return this.tween("text",typeof t=="function"?Sc(ze(this,"text",t)):Ac(t==null?"":t+""))}function Cc(t){return function(e){this.textContent=t.call(this,e)}}function kc(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Cc(i)),e}return r._value=t,r}function ps(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kc(t))}function ds(){for(var t=this._name,e=this._id,n=ir(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=ft(u,e);ue(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new _t(r,this._parents,t,n)}function ms(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=vt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&o()})}var Ic=0;function _t(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function hs(t){return te().transition(t)}function ir(){return++Ic}var ee=te.prototype;_t.prototype=hs.prototype={constructor:_t,select:os,selectAll:as,selectChild:ee.selectChild,selectChildren:ee.selectChildren,filter:es,merge:ns,selection:ss,transition:ds,call:ee.call,nodes:ee.nodes,node:ee.node,size:ee.size,empty:ee.empty,each:ee.each,on:rs,attr:Ya,attrTween:Ka,style:fs,styleTween:ls,text:cs,textTween:ps,remove:is,tween:Wa,delay:Qa,duration:Za,ease:Ja,easeVarying:ts,end:ms,[Symbol.iterator]:ee[Symbol.iterator]};function or(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Dc={time:null,delay:0,duration:250,ease:or};function Nc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function gs(t){var e,n;t instanceof _t?(e=t._id,t=t._name):(e=ir(),(n=Dc).time=gn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&ue(u,t,e,l,a,n||Nc(u,e));return new _t(r,this._parents,t,e)}te.prototype.interrupt=Xa;te.prototype.transition=gs;var{abs:vv,max:yv,min:xv}=Math;function vs(t){return[+t[0],+t[1]]}function Pc(t){return[vs(t[0]),vs(t[1])]}var wv={name:"x",handles:["w","e"].map(si),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},bv={name:"y",handles:["n","s"].map(si),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},_v={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(si),input:function(t){return t==null?null:Pc(t)},output:function(t){return t}};function si(t){return{type:t}}function xs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var fr=de(sr(),1);var bs=de(sr(),1);function ui(t){return function(){return t}}function fi(t){return+t}var ws=[0,1];function He(t){return t}function li(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ui(isNaN(e)?NaN:.5)}function Lc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $c(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=li(i,r),o=n(a,o)):(r=li(r,i),o=n(o,a)),function(s){return o(r(s))}}function Rc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=li(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=(0,bs.bisect)(t,s,1,r)-1;return o[u](i[u](s))}}function _s(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bc(){var t=ws,e=ws,n=be,r,i,o,a=He,s,u,l;function c(){var w=Math.min(t.length,e.length);return a!==He&&(a=Lc(t[0],t[w-1])),s=w>2?Rc:$c,u=l=null,y}function y(w){return w==null||isNaN(w=+w)?o:(u||(u=s(t.map(r),e,n)))(r(a(w)))}return y.invert=function(w){return a(i((l||(l=s(e,t.map(r),gt)))(w)))},y.domain=function(w){return arguments.length?(t=Array.from(w,fi),c()):t.slice()},y.range=function(w){return arguments.length?(e=Array.from(w),c()):e.slice()},y.rangeRound=function(w){return e=Array.from(w),n=ni,c()},y.clamp=function(w){return arguments.length?(a=w?!0:He,c()):a!==He},y.interpolate=function(w){return arguments.length?(n=w,c()):n},y.unknown=function(w){return arguments.length?(o=w,y):o},function(w,b){return r=w,i=b,c()}}function ci(){return Bc()(He,He)}var Ts=de(sr(),1),$t=de(Es(),1);function pi(t,e,n,r){var i=(0,Ts.tickStep)(t,e,n),o;switch(r=(0,$t.formatSpecifier)(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=(0,$t.precisionPrefix)(i,a))&&(r.precision=o),(0,$t.formatPrefix)(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=(0,$t.precisionRound)(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=(0,$t.precisionFixed)(i))&&(r.precision=o-(r.type==="%")*2);break}}return(0,$t.format)(r)}function zc(t){var e=t.domain;return t.ticks=function(n){var r=e();return(0,fr.ticks)(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return pi(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=(0,fr.tickIncrement)(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function xn(){var t=ci();return t.copy=function(){return _s(t,xn())},xs.apply(t,arguments),zc(t)}function fe(t,e,n){this.k=t,this.x=e,this.y=n}fe.prototype={constructor:fe,scale:function(t){return t===1?this:new fe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var di=new fe(1,0,0);mi.prototype=fe.prototype;function mi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return di;return t.__zoom}function Os(t,e){let n=`#gene-tooltip-track-${e._id}`,r=t.popper.querySelector(n);if(!r){console.error(`[GeneTooltip] Gene track container '${n}' not found.`);return}if(!e.exons||e.exons.length===0){r.innerHTML="<small>Exon data not available.</small>";return}let i={};if(e.exons.forEach(x=>{let S=`${x.txstart}-${x.txend}`;i[S]||(i[S]=[]),i[S].push(x)}),Object.keys(i).length===0){r.innerHTML="<small>Exon data could not be processed.</small>";return}let o=Object.keys(i).sort((x,S)=>i[S].length-i[x].length)[0],a=i[o];console.log(`[GeneTooltip] DIAGNOSTIC: Found ${a.length} raw exon objects for transcript ${o}. First object:`,JSON.parse(JSON.stringify(a[0])));let s=[],u=a[0];if(u&&u.position)console.log('[GeneTooltip] SUCCESS: Normalizing from "position" property.'),s=a.flatMap(x=>x.position||[]);else if(u&&typeof u.start=="number"&&typeof u.end=="number")console.log('[GeneTooltip] SUCCESS: Normalizing from "start"/"end" properties.'),s=a.map(x=>[x.start,x.end]);else if(u&&typeof u.cdsstart=="number"&&typeof u.cdsend=="number")console.log('[GeneTooltip] SUCCESS: Normalizing from fallback "cdsstart"/"cdsend" properties.'),s=a.map(x=>[x.cdsstart,x.cdsend]);else{console.error("[GeneTooltip] FAILURE: Could not find valid exon coordinates in the data. Bailing on gene track render."),r.innerHTML="<small>Exon coordinate format not recognized.</small>";return}console.log(`[GeneTooltip] DIAGNOSTIC: Normalization resulted in ${s.length} coordinate pairs. First pair:`,s[0]);let l={top:5,right:10,bottom:5,left:10},c=290-l.left-l.right,y=30,w=16,b=y/2,C=b-w/2;r.innerHTML="";let T=Kr(r).append("svg").attr("width",c+l.left+l.right).attr("height",y+l.top+l.bottom).append("g").attr("transform",`translate(${l.left},${l.top})`),A=a[0].txstart,E=a[0].txend,D=a[0].strand,L=xn().domain([A,E]).range([0,c]);T.append("line").attr("x1",L(A)).attr("y1",b).attr("x2",L(E)).attr("y2",b).attr("stroke","#555").attr("stroke-width",2),T.selectAll(".exon-rect").data(s).enter().append("rect").attr("class","exon-rect").attr("x",x=>L(x[0])).attr("y",C).attr("width",x=>Math.max(1,L(x[1])-L(x[0]))).attr("height",w).attr("fill","#007bff").attr("stroke","#0056b3");let m=Math.floor(c/20),k=Nn(m).map(x=>A+(x+1)*(E-A)/(m+1)),O=D===1?"M-2,-4 L2,0 L-2,4":"M2,-4 L-2,0 L2,4";T.selectAll(".chevron").data(k).enter().append("path").attr("class","chevron").attr("d",O).attr("transform",x=>`translate(${L(x)}, ${b})`).attr("fill","none").attr("stroke","#555").attr("stroke-width",1.5)}function As(t){return`<ul class="gene-tooltip-nested-list">${t.map(n=>`<li><a href="${n.url}" target="_blank" rel="noopener noreferrer">${n.name}</a></li>`).join("")}</ul>`}function Gc(t={}){let e={...tn,...t,display:{...tn.display,...t.display},ideogram:{...tn.ideogram,...t.ideogram},tippyOptions:{...tn.tippyOptions,...t.tippyOptions}},n=_o(e.selector);n.length!==0&&(To(e.prefetch,n,e.prefetchThreshold),(0,lr.default)(n,{...e.tippyOptions,content:"Loading...",onShow(r){let i=en(r.reference);if(!i){r.setContent("Invalid gene element");return}let{symbol:o,species:a}=i,s={truncate:e.truncateSummary,display:{...e.display,ideogram:e.ideogram?.enabled??!1},pathwaySource:e.pathwaySource,pathwayCount:e.pathwayCount,domainCount:e.domainCount},u=Vr(o,a);if(typeof u<"u"){r.setContent(Fr(u,s)),e.ideogram?.enabled&&u?.genomic_pos&&setTimeout(()=>{jr(r,u,e.ideogram)},0);return}In([o],a).then(l=>{let c=l.get(o)||null;qr(o,a,c),r.setContent(Fr(c,s)),e.ideogram?.enabled&&c?.genomic_pos&&setTimeout(()=>{jr(r,c,e.ideogram)},0)}).catch(l=>{console.error(`Failed to fetch data for ${o}`,l),r.setContent("Error loading data.")})},onMount(r){let i=en(r.reference);if(!i)return;let o=Vr(i.symbol,i.species);if(!o)return;e.display.geneTrack&&o.exons&&Os(r,o),r._nestedTippys=[];let a=r.popper.querySelector(`#pathways-more-${o._id}`);if(a&&o.pathway?.[e.pathwaySource]){let u=o.pathway[e.pathwaySource],l=(Array.isArray(u)?u:[u]).map(y=>{let w="#";return e.pathwaySource==="reactome"&&(w=`https://reactome.org/content/detail/${y.id}`),e.pathwaySource==="kegg"&&(w=`https://www.genome.jp/dbget-bin/www_bget?path:${y.id}`),e.pathwaySource==="wikipathways"&&(w=`https://www.wikipathways.org/pathways/${y.id}`),{name:y.name,url:w}}).sort((y,w)=>y.name.localeCompare(w.name)),c=(0,lr.default)(a,{content:As(l),allowHTML:!0,interactive:!0,trigger:"mouseenter focus",placement:"right",theme:"light"});r._nestedTippys.push(c)}let s=r.popper.querySelector(`#domains-more-${o._id}`);if(s&&o.interpro){let u=o.interpro,l=(Array.isArray(u)?u:[u]).map(y=>({name:y.short_desc,url:`https://www.ebi.ac.uk/interpro/entry/InterPro/${y.id}`})).sort((y,w)=>y.name.localeCompare(w.name)),c=(0,lr.default)(s,{content:As(l),allowHTML:!0,interactive:!0,trigger:"mouseenter focus",placement:"right",theme:"light"});r._nestedTippys.push(c)}},onHidden(r){r._nestedTippys&&(r._nestedTippys.forEach(i=>i.destroy()),r._nestedTippys=[])}}),Oo())}var Vc={init:Gc};
