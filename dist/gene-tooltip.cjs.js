"use strict";var yr=Object.create;var pt=Object.defineProperty;var br=Object.getOwnPropertyDescriptor;var wr=Object.getOwnPropertyNames;var xr=Object.getPrototypeOf,Or=Object.prototype.hasOwnProperty;var Qt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Er=(e,t)=>{for(var n in t)pt(e,n,{get:t[n],enumerable:!0})},Zt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wr(t))!Or.call(e,o)&&o!==n&&pt(e,o,{get:()=>t[o],enumerable:!(r=br(t,o))||r.enumerable});return e};var en=(e,t,n)=>(n=e!=null?yr(xr(e)):{},Zt(t||!e||!e.__esModule?pt(n,"default",{value:e,enumerable:!0}):n,e)),Tr=e=>Zt(pt({},"__esModule",{value:!0}),e);var Mn=Qt(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});function F(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function xe(e){var t=F(e).Element;return e instanceof t||e instanceof Element}function z(e){var t=F(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ct(e){if(typeof ShadowRoot>"u")return!1;var t=F(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var we=Math.max,ft=Math.min,De=Math.round;function Et(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ln(){return!/^((?!chrome|android).)*safari/i.test(Et())}function Pe(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&z(e)&&(o=e.offsetWidth>0&&De(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&De(r.height)/e.offsetHeight||1);var s=xe(e)?F(e):window,u=s.visualViewport,p=!ln()&&n,f=(r.left+(p&&u?u.offsetLeft:0))/o,c=(r.top+(p&&u?u.offsetTop:0))/a,y=r.width/o,w=r.height/a;return{width:y,height:w,top:c,right:f+y,bottom:c+w,left:f,x:f,y:c}}function Mt(e){var t=F(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cr(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Mr(e){return e===F(e)||!z(e)?Mt(e):Cr(e)}function ne(e){return e?(e.nodeName||"").toLowerCase():null}function fe(e){return((xe(e)?e.ownerDocument:e.document)||window.document).documentElement}function At(e){return Pe(fe(e)).left+Mt(e).scrollLeft}function ue(e){return F(e).getComputedStyle(e)}function Dt(e){var t=ue(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Ar(e){var t=e.getBoundingClientRect(),n=De(t.width)/e.offsetWidth||1,r=De(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Dr(e,t,n){n===void 0&&(n=!1);var r=z(t),o=z(t)&&Ar(t),a=fe(t),s=Pe(e,o,n),u={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!n)&&((ne(t)!=="body"||Dt(a))&&(u=Mr(t)),z(t)?(p=Pe(t,!0),p.x+=t.clientLeft,p.y+=t.clientTop):a&&(p.x=At(a))),{x:s.left+u.scrollLeft-p.x,y:s.top+u.scrollTop-p.y,width:s.width,height:s.height}}function Pt(e){var t=Pe(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function dt(e){return ne(e)==="html"?e:e.assignedSlot||e.parentNode||(Ct(e)?e.host:null)||fe(e)}function fn(e){return["html","body","#document"].indexOf(ne(e))>=0?e.ownerDocument.body:z(e)&&Dt(e)?e:fn(dt(e))}function _e(e,t){var n;t===void 0&&(t=[]);var r=fn(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=F(r),s=o?[a].concat(a.visualViewport||[],Dt(r)?r:[]):r,u=t.concat(s);return o?u:u.concat(_e(dt(s)))}function Pr(e){return["table","td","th"].indexOf(ne(e))>=0}function tn(e){return!z(e)||ue(e).position==="fixed"?null:e.offsetParent}function Sr(e){var t=/firefox/i.test(Et()),n=/Trident/i.test(Et());if(n&&z(e)){var r=ue(e);if(r.position==="fixed")return null}var o=dt(e);for(Ct(o)&&(o=o.host);z(o)&&["html","body"].indexOf(ne(o))<0;){var a=ue(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function Fe(e){for(var t=F(e),n=tn(e);n&&Pr(n)&&ue(n).position==="static";)n=tn(n);return n&&(ne(n)==="html"||ne(n)==="body"&&ue(n).position==="static")?t:n||Sr(e)||t}var _="top",Y="bottom",X="right",W="left",St="auto",qe=[_,Y,X,W],Se="start",Ue="end",Lr="clippingParents",dn="viewport",Ve="popper",Ir="reference",nn=qe.reduce(function(e,t){return e.concat([t+"-"+Se,t+"-"+Ue])},[]),vn=[].concat(qe,[St]).reduce(function(e,t){return e.concat([t,t+"-"+Se,t+"-"+Ue])},[]),$r="beforeRead",Rr="read",kr="afterRead",jr="beforeMain",Br="main",Nr="afterMain",Hr="beforeWrite",Gr="write",Vr="afterWrite",_r=[$r,Rr,kr,jr,Br,Nr,Hr,Gr,Vr];function Wr(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function o(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(u){if(!n.has(u)){var p=t.get(u);p&&o(p)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||o(a)}),r}function Ur(e){var t=Wr(e);return _r.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function Fr(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function qr(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}function zr(e,t){var n=F(e),r=fe(e),o=n.visualViewport,a=r.clientWidth,s=r.clientHeight,u=0,p=0;if(o){a=o.width,s=o.height;var f=ln();(f||!f&&t==="fixed")&&(u=o.offsetLeft,p=o.offsetTop)}return{width:a,height:s,x:u+At(e),y:p}}function Yr(e){var t,n=fe(e),r=Mt(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=we(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=we(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+At(e),p=-r.scrollTop;return ue(o||n).direction==="rtl"&&(u+=we(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:u,y:p}}function mn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ct(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Tt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Xr(e,t){var n=Pe(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function rn(e,t,n){return t===dn?Tt(zr(e,n)):xe(t)?Xr(t,n):Tt(Yr(fe(e)))}function Kr(e){var t=_e(dt(e)),n=["absolute","fixed"].indexOf(ue(e).position)>=0,r=n&&z(e)?Fe(e):e;return xe(r)?t.filter(function(o){return xe(o)&&mn(o,r)&&ne(o)!=="body"}):[]}function Jr(e,t,n,r){var o=t==="clippingParents"?Kr(e):[].concat(t),a=[].concat(o,[n]),s=a[0],u=a.reduce(function(p,f){var c=rn(e,f,r);return p.top=we(c.top,p.top),p.right=ft(c.right,p.right),p.bottom=ft(c.bottom,p.bottom),p.left=we(c.left,p.left),p},rn(e,s,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function te(e){return e.split("-")[0]}function Le(e){return e.split("-")[1]}function Lt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gn(e){var t=e.reference,n=e.element,r=e.placement,o=r?te(r):null,a=r?Le(r):null,s=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,p;switch(o){case _:p={x:s,y:t.y-n.height};break;case Y:p={x:s,y:t.y+t.height};break;case X:p={x:t.x+t.width,y:u};break;case W:p={x:t.x-n.width,y:u};break;default:p={x:t.x,y:t.y}}var f=o?Lt(o):null;if(f!=null){var c=f==="y"?"height":"width";switch(a){case Se:p[f]=p[f]-(t[c]/2-n[c]/2);break;case Ue:p[f]=p[f]+(t[c]/2-n[c]/2);break}}return p}function hn(){return{top:0,right:0,bottom:0,left:0}}function yn(e){return Object.assign({},hn(),e)}function bn(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}function Ie(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,a=n.strategy,s=a===void 0?e.strategy:a,u=n.boundary,p=u===void 0?Lr:u,f=n.rootBoundary,c=f===void 0?dn:f,y=n.elementContext,w=y===void 0?Ve:y,g=n.altBoundary,O=g===void 0?!1:g,h=n.padding,m=h===void 0?0:h,d=yn(typeof m!="number"?m:bn(m,qe)),E=w===Ve?Ir:Ve,C=e.rects.popper,i=e.elements[O?E:w],b=Jr(xe(i)?i:i.contextElement||fe(e.elements.popper),p,c,s),v=Pe(e.elements.reference),M=gn({reference:v,element:C,strategy:"absolute",placement:o}),D=Tt(Object.assign({},C,M)),S=w===Ve?D:v,L={top:b.top-S.top+d.top,bottom:S.bottom-b.bottom+d.bottom,left:b.left-S.left+d.left,right:S.right-b.right+d.right},R=e.modifiersData.offset;if(w===Ve&&R){var $=R[o];Object.keys(L).forEach(function(I){var j=[X,Y].indexOf(I)>=0?1:-1,U=[_,Y].indexOf(I)>=0?"y":"x";L[I]+=$[U]*j})}return L}var on={placement:"bottom",modifiers:[],strategy:"absolute"};function an(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function It(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,a=o===void 0?on:o;return function(u,p,f){f===void 0&&(f=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},on,a),modifiersData:{},elements:{reference:u,popper:p},attributes:{},styles:{}},y=[],w=!1,g={state:c,setOptions:function(d){var E=typeof d=="function"?d(c.options):d;h(),c.options=Object.assign({},a,c.options,E),c.scrollParents={reference:xe(u)?_e(u):u.contextElement?_e(u.contextElement):[],popper:_e(p)};var C=Ur(qr([].concat(r,c.options.modifiers)));return c.orderedModifiers=C.filter(function(i){return i.enabled}),O(),g.update()},forceUpdate:function(){if(!w){var d=c.elements,E=d.reference,C=d.popper;if(an(E,C)){c.rects={reference:Dr(E,Fe(C),c.options.strategy==="fixed"),popper:Pt(C)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var i=0;i<c.orderedModifiers.length;i++){if(c.reset===!0){c.reset=!1,i=-1;continue}var b=c.orderedModifiers[i],v=b.fn,M=b.options,D=M===void 0?{}:M,S=b.name;typeof v=="function"&&(c=v({state:c,options:D,name:S,instance:g})||c)}}}},update:Fr(function(){return new Promise(function(m){g.forceUpdate(),m(c)})}),destroy:function(){h(),w=!0}};if(!an(u,p))return g;g.setOptions(f).then(function(m){!w&&f.onFirstUpdate&&f.onFirstUpdate(m)});function O(){c.orderedModifiers.forEach(function(m){var d=m.name,E=m.options,C=E===void 0?{}:E,i=m.effect;if(typeof i=="function"){var b=i({state:c,name:d,instance:g,options:C}),v=function(){};y.push(b||v)}})}function h(){y.forEach(function(m){return m()}),y=[]}return g}}var ct={passive:!0};function Qr(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=o===void 0?!0:o,s=r.resize,u=s===void 0?!0:s,p=F(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&f.forEach(function(c){c.addEventListener("scroll",n.update,ct)}),u&&p.addEventListener("resize",n.update,ct),function(){a&&f.forEach(function(c){c.removeEventListener("scroll",n.update,ct)}),u&&p.removeEventListener("resize",n.update,ct)}}var $t={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qr,data:{}};function Zr(e){var t=e.state,n=e.name;t.modifiersData[n]=gn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Rt={name:"popperOffsets",enabled:!0,phase:"read",fn:Zr,data:{}},eo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function to(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:De(n*o)/o||0,y:De(r*o)/o||0}}function sn(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,u=e.position,p=e.gpuAcceleration,f=e.adaptive,c=e.roundOffsets,y=e.isFixed,w=s.x,g=w===void 0?0:w,O=s.y,h=O===void 0?0:O,m=typeof c=="function"?c({x:g,y:h}):{x:g,y:h};g=m.x,h=m.y;var d=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),C=W,i=_,b=window;if(f){var v=Fe(n),M="clientHeight",D="clientWidth";if(v===F(n)&&(v=fe(n),ue(v).position!=="static"&&u==="absolute"&&(M="scrollHeight",D="scrollWidth")),v=v,o===_||(o===W||o===X)&&a===Ue){i=Y;var S=y&&v===b&&b.visualViewport?b.visualViewport.height:v[M];h-=S-r.height,h*=p?1:-1}if(o===W||(o===_||o===Y)&&a===Ue){C=X;var L=y&&v===b&&b.visualViewport?b.visualViewport.width:v[D];g-=L-r.width,g*=p?1:-1}}var R=Object.assign({position:u},f&&eo),$=c===!0?to({x:g,y:h},F(n)):{x:g,y:h};if(g=$.x,h=$.y,p){var I;return Object.assign({},R,(I={},I[i]=E?"0":"",I[C]=d?"0":"",I.transform=(b.devicePixelRatio||1)<=1?"translate("+g+"px, "+h+"px)":"translate3d("+g+"px, "+h+"px, 0)",I))}return Object.assign({},R,(t={},t[i]=E?h+"px":"",t[C]=d?g+"px":"",t.transform="",t))}function no(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,u=n.roundOffsets,p=u===void 0?!0:u,f={placement:te(t.placement),variation:Le(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,sn(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:p})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,sn(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var kt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:no,data:{}};function ro(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},a=t.elements[n];!z(a)||!ne(a)||(Object.assign(a.style,r),Object.keys(o).forEach(function(s){var u=o[s];u===!1?a.removeAttribute(s):a.setAttribute(s,u===!0?"":u)}))})}function oo(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),u=s.reduce(function(p,f){return p[f]="",p},{});!z(o)||!ne(o)||(Object.assign(o.style,u),Object.keys(a).forEach(function(p){o.removeAttribute(p)}))})}}var jt={name:"applyStyles",enabled:!0,phase:"write",fn:ro,effect:oo,requires:["computeStyles"]};function io(e,t,n){var r=te(e),o=[W,_].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],u=a[1];return s=s||0,u=(u||0)*o,[W,X].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}function ao(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=o===void 0?[0,0]:o,s=vn.reduce(function(c,y){return c[y]=io(y,t.rects,a),c},{}),u=s[t.placement],p=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=p,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=s}var wn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ao},so={left:"right",right:"left",bottom:"top",top:"bottom"};function lt(e){return e.replace(/left|right|bottom|top/g,function(t){return so[t]})}var uo={start:"end",end:"start"};function un(e){return e.replace(/start|end/g,function(t){return uo[t]})}function po(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,s=n.padding,u=n.flipVariations,p=n.allowedAutoPlacements,f=p===void 0?vn:p,c=Le(r),y=c?u?nn:nn.filter(function(O){return Le(O)===c}):qe,w=y.filter(function(O){return f.indexOf(O)>=0});w.length===0&&(w=y);var g=w.reduce(function(O,h){return O[h]=Ie(e,{placement:h,boundary:o,rootBoundary:a,padding:s})[te(h)],O},{});return Object.keys(g).sort(function(O,h){return g[O]-g[h]})}function co(e){if(te(e)===St)return[];var t=lt(e);return[un(e),t,un(t)]}function lo(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,u=s===void 0?!0:s,p=n.fallbackPlacements,f=n.padding,c=n.boundary,y=n.rootBoundary,w=n.altBoundary,g=n.flipVariations,O=g===void 0?!0:g,h=n.allowedAutoPlacements,m=t.options.placement,d=te(m),E=d===m,C=p||(E||!O?[lt(m)]:co(m)),i=[m].concat(C).reduce(function(oe,K){return oe.concat(te(K)===St?po(t,{placement:K,boundary:c,rootBoundary:y,padding:f,flipVariations:O,allowedAutoPlacements:h}):K)},[]),b=t.rects.reference,v=t.rects.popper,M=new Map,D=!0,S=i[0],L=0;L<i.length;L++){var R=i[L],$=te(R),I=Le(R)===Se,j=[_,Y].indexOf($)>=0,U=j?"width":"height",B=Ie(t,{placement:R,boundary:c,rootBoundary:y,altBoundary:w,padding:f}),N=j?I?X:W:I?Y:_;b[U]>v[U]&&(N=lt(N));var k=lt(N),Q=[];if(a&&Q.push(B[$]<=0),u&&Q.push(B[N]<=0,B[k]<=0),Q.every(function(oe){return oe})){S=R,D=!1;break}M.set(R,Q)}if(D)for(var Z=O?3:1,ge=function(K){var ie=i.find(function(Ee){var ae=M.get(Ee);if(ae)return ae.slice(0,K).every(function(Te){return Te})});if(ie)return S=ie,"break"},ee=Z;ee>0;ee--){var he=ge(ee);if(he==="break")break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}}var xn={name:"flip",enabled:!0,phase:"main",fn:lo,requiresIfExists:["offset"],data:{_skip:!1}};function fo(e){return e==="x"?"y":"x"}function We(e,t,n){return we(e,ft(t,n))}function vo(e,t,n){var r=We(e,t,n);return r>n?n:r}function mo(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,u=s===void 0?!1:s,p=n.boundary,f=n.rootBoundary,c=n.altBoundary,y=n.padding,w=n.tether,g=w===void 0?!0:w,O=n.tetherOffset,h=O===void 0?0:O,m=Ie(t,{boundary:p,rootBoundary:f,padding:y,altBoundary:c}),d=te(t.placement),E=Le(t.placement),C=!E,i=Lt(d),b=fo(i),v=t.modifiersData.popperOffsets,M=t.rects.reference,D=t.rects.popper,S=typeof h=="function"?h(Object.assign({},t.rects,{placement:t.placement})):h,L=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(v){if(a){var I,j=i==="y"?_:W,U=i==="y"?Y:X,B=i==="y"?"height":"width",N=v[i],k=N+m[j],Q=N-m[U],Z=g?-D[B]/2:0,ge=E===Se?M[B]:D[B],ee=E===Se?-D[B]:-M[B],he=t.elements.arrow,oe=g&&he?Pt(he):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:hn(),ie=K[j],Ee=K[U],ae=We(0,M[B],oe[B]),Te=C?M[B]/2-Z-ae-ie-L.mainAxis:ge-ae-ie-L.mainAxis,ce=C?-M[B]/2+Z+ae+Ee+L.mainAxis:ee+ae+Ee+L.mainAxis,Ce=t.elements.arrow&&Fe(t.elements.arrow),Qe=Ce?i==="y"?Ce.clientTop||0:Ce.clientLeft||0:0,je=(I=R?.[i])!=null?I:0,Ze=N+Te-je-Qe,et=N+ce-je,Be=We(g?ft(k,Ze):k,N,g?we(Q,et):Q);v[i]=Be,$[i]=Be-N}if(u){var Ne,tt=i==="x"?_:W,nt=i==="x"?Y:X,se=v[b],le=b==="y"?"height":"width",He=se+m[tt],ye=se-m[nt],Ge=[_,W].indexOf(d)!==-1,rt=(Ne=R?.[b])!=null?Ne:0,ot=Ge?He:se-M[le]-D[le]-rt+L.altAxis,it=Ge?se+M[le]+D[le]-rt-L.altAxis:ye,at=g&&Ge?vo(ot,se,it):We(g?ot:He,se,g?it:ye);v[b]=at,$[b]=at-se}t.modifiersData[r]=$}}var On={name:"preventOverflow",enabled:!0,phase:"main",fn:mo,requiresIfExists:["offset"]},go=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,yn(typeof t!="number"?t:bn(t,qe))};function ho(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,u=te(n.placement),p=Lt(u),f=[W,X].indexOf(u)>=0,c=f?"height":"width";if(!(!a||!s)){var y=go(o.padding,n),w=Pt(a),g=p==="y"?_:W,O=p==="y"?Y:X,h=n.rects.reference[c]+n.rects.reference[p]-s[p]-n.rects.popper[c],m=s[p]-n.rects.reference[p],d=Fe(a),E=d?p==="y"?d.clientHeight||0:d.clientWidth||0:0,C=h/2-m/2,i=y[g],b=E-w[c]-y[O],v=E/2-w[c]/2+C,M=We(i,v,b),D=p;n.modifiersData[r]=(t={},t[D]=M,t.centerOffset=M-v,t)}}function yo(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||mn(t.elements.popper,o)&&(t.elements.arrow=o))}var En={name:"arrow",enabled:!0,phase:"main",fn:ho,effect:yo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pn(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function cn(e){return[_,X,Y,W].some(function(t){return e[t]>=0})}function bo(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,s=Ie(t,{elementContext:"reference"}),u=Ie(t,{altBoundary:!0}),p=pn(s,r),f=pn(u,o,a),c=cn(p),y=cn(f);t.modifiersData[n]={referenceClippingOffsets:p,popperEscapeOffsets:f,isReferenceHidden:c,hasPopperEscaped:y},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":y})}var Tn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bo},wo=[$t,Rt,kt,jt],xo=It({defaultModifiers:wo}),Cn=[$t,Rt,kt,jt,wn,xn,On,En,Tn],Oo=It({defaultModifiers:Cn});H.applyStyles=jt;H.arrow=En;H.computeStyles=kt;H.createPopper=Oo;H.createPopperLite=xo;H.defaultModifiers=Cn;H.detectOverflow=Ie;H.eventListeners=$t;H.flip=xn;H.hide=Tn;H.offset=wn;H.popperGenerator=It;H.popperOffsets=Rt;H.preventOverflow=On});var er=Qt(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});var Bn=Mn(),Eo='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',To="tippy-box",Nn="tippy-content",Hn="tippy-backdrop",Gn="tippy-arrow",Vn="tippy-svg-arrow",de={passive:!0,capture:!0},_n=function(){return document.body};function Co(e,t){return{}.hasOwnProperty.call(e,t)}function Bt(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function _t(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function Wn(e,t){return typeof e=="function"?e.apply(void 0,t):e}function An(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function Wt(e,t){var n=Object.assign({},e);return t.forEach(function(r){delete n[r]}),n}function Mo(e){return e.split(/\s+/).filter(Boolean)}function ve(e){return[].concat(e)}function Dn(e,t){e.indexOf(t)===-1&&e.push(t)}function Ao(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function Un(e){return e.split("-")[0]}function Re(e){return[].slice.call(e)}function Pn(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Oe(){return document.createElement("div")}function ze(e){return["Element","Fragment"].some(function(t){return _t(e,t)})}function Do(e){return _t(e,"NodeList")}function Ut(e){return _t(e,"MouseEvent")}function Fn(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Po(e){return ze(e)?[e]:Do(e)?Re(e):Array.isArray(e)?e:Re(document.querySelectorAll(e))}function Nt(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function Ye(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function qn(e){var t,n=ve(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function So(e,t){var n=t.clientX,r=t.clientY;return e.every(function(o){var a=o.popperRect,s=o.popperState,u=o.props,p=u.interactiveBorder,f=Un(s.placement),c=s.modifiersData.offset;if(!c)return!0;var y=f==="bottom"?c.top.y:0,w=f==="top"?c.bottom.y:0,g=f==="right"?c.left.x:0,O=f==="left"?c.right.x:0,h=a.top-r+y>p,m=r-a.bottom-w>p,d=a.left-n+g>p,E=n-a.right-O>p;return h||m||d||E})}function Ht(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){e[r](o,n)})}function Sn(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var re={isTouch:!1},Ln=0;function Lo(){re.isTouch||(re.isTouch=!0,window.performance&&document.addEventListener("mousemove",zn))}function zn(){var e=performance.now();e-Ln<20&&(re.isTouch=!1,document.removeEventListener("mousemove",zn)),Ln=e}function Io(){var e=document.activeElement;if(Fn(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function $o(){document.addEventListener("touchstart",Lo,de),window.addEventListener("blur",Io)}var Ro=typeof window<"u"&&typeof document<"u",ko=Ro?!!window.msCrypto:!1;function $e(e){var t=e==="destroy"?"n already-":" ";return[e+"() was called on a"+t+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function In(e){var t=/[ \t]{2,}/g,n=/^[ \t]*/gm;return e.replace(t," ").replace(n,"").trim()}function jo(e){return In(`
  %ctippy.js

  %c`+In(e)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function Yn(e){return[jo(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var Xe;process.env.NODE_ENV!=="production"&&Bo();function Bo(){Xe=new Set}function pe(e,t){if(e&&!Xe.has(t)){var n;Xe.add(t),(n=console).warn.apply(n,Yn(t))}}function ke(e,t){if(e&&!Xe.has(t)){var n;Xe.add(t),(n=console).error.apply(n,Yn(t))}}function No(e){var t=!e,n=Object.prototype.toString.call(e)==="[object Object]"&&!e.addEventListener;ke(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),ke(n,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Xn={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ho={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},V=Object.assign({appendTo:_n,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Xn,Ho),Go=Object.keys(V),Vo=function(t){process.env.NODE_ENV!=="production"&&Jn(t,[]);var n=Object.keys(t);n.forEach(function(r){V[r]=t[r]})};function Kn(e){var t=e.plugins||[],n=t.reduce(function(r,o){var a=o.name,s=o.defaultValue;if(a){var u;r[a]=e[a]!==void 0?e[a]:(u=V[a])!=null?u:s}return r},{});return Object.assign({},e,n)}function _o(e,t){var n=t?Object.keys(Kn(Object.assign({},V,{plugins:t}))):Go,r=n.reduce(function(o,a){var s=(e.getAttribute("data-tippy-"+a)||"").trim();if(!s)return o;if(a==="content")o[a]=s;else try{o[a]=JSON.parse(s)}catch{o[a]=s}return o},{});return r}function $n(e,t){var n=Object.assign({},t,{content:Wn(t.content,[e])},t.ignoreAttributes?{}:_o(e,t.plugins));return n.aria=Object.assign({},V.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}function Jn(e,t){e===void 0&&(e={}),t===void 0&&(t=[]);var n=Object.keys(e);n.forEach(function(r){var o=Wt(V,Object.keys(Xn)),a=!Co(o,r);a&&(a=t.filter(function(s){return s.name===r}).length===0),pe(a,["`"+r+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Wo=function(){return"innerHTML"};function Gt(e,t){e[Wo()]=t}function Rn(e){var t=Oe();return e===!0?t.className=Gn:(t.className=Vn,ze(e)?t.appendChild(e):Gt(t,e)),t}function kn(e,t){ze(t.content)?(Gt(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Gt(e,t.content):e.textContent=t.content)}function ht(e){var t=e.firstElementChild,n=Re(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(Nn)}),arrow:n.find(function(r){return r.classList.contains(Gn)||r.classList.contains(Vn)}),backdrop:n.find(function(r){return r.classList.contains(Hn)})}}function Qn(e){var t=Oe(),n=Oe();n.className=To,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Oe();r.className=Nn,r.setAttribute("data-state","hidden"),kn(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props);function o(a,s){var u=ht(t),p=u.box,f=u.content,c=u.arrow;s.theme?p.setAttribute("data-theme",s.theme):p.removeAttribute("data-theme"),typeof s.animation=="string"?p.setAttribute("data-animation",s.animation):p.removeAttribute("data-animation"),s.inertia?p.setAttribute("data-inertia",""):p.removeAttribute("data-inertia"),p.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?p.setAttribute("role",s.role):p.removeAttribute("role"),(a.content!==s.content||a.allowHTML!==s.allowHTML)&&kn(f,e.props),s.arrow?c?a.arrow!==s.arrow&&(p.removeChild(c),p.appendChild(Rn(s.arrow))):p.appendChild(Rn(s.arrow)):c&&p.removeChild(c)}return{popper:t,onUpdate:o}}Qn.$$tippy=!0;var Uo=1,vt=[],gt=[];function Fo(e,t){var n=$n(e,Object.assign({},V,Kn(Pn(t)))),r,o,a,s=!1,u=!1,p=!1,f=!1,c,y,w,g=[],O=An(Ze,n.interactiveDebounce),h,m=Uo++,d=null,E=Ao(n.plugins),C={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},i={id:m,reference:e,popper:Oe(),popperInstance:d,props:n,state:C,plugins:E,clearDelayTimeouts:ot,setProps:it,setContent:at,show:fr,hide:dr,hideWithInteractivity:vr,enable:Ge,disable:rt,unmount:mr,destroy:gr};if(!n.render)return process.env.NODE_ENV!=="production"&&ke(!0,"render() function has not been supplied."),i;var b=n.render(i),v=b.popper,M=b.onUpdate;v.setAttribute("data-tippy-root",""),v.id="tippy-"+i.id,i.popper=v,e._tippy=i,v._tippy=i;var D=E.map(function(l){return l.fn(i)}),S=e.hasAttribute("aria-expanded");return Ce(),Z(),N(),k("onCreate",[i]),n.showOnCreate&&He(),v.addEventListener("mouseenter",function(){i.props.interactive&&i.state.isVisible&&i.clearDelayTimeouts()}),v.addEventListener("mouseleave",function(){i.props.interactive&&i.props.trigger.indexOf("mouseenter")>=0&&j().addEventListener("mousemove",O)}),i;function L(){var l=i.props.touch;return Array.isArray(l)?l:[l,0]}function R(){return L()[0]==="hold"}function $(){var l;return!!((l=i.props.render)!=null&&l.$$tippy)}function I(){return h||e}function j(){var l=I().parentNode;return l?qn(l):document}function U(){return ht(v)}function B(l){return i.state.isMounted&&!i.state.isVisible||re.isTouch||c&&c.type==="focus"?0:Bt(i.props.delay,l?0:1,V.delay)}function N(l){l===void 0&&(l=!1),v.style.pointerEvents=i.props.interactive&&!l?"":"none",v.style.zIndex=""+i.props.zIndex}function k(l,x,T){if(T===void 0&&(T=!0),D.forEach(function(A){A[l]&&A[l].apply(A,x)}),T){var P;(P=i.props)[l].apply(P,x)}}function Q(){var l=i.props.aria;if(l.content){var x="aria-"+l.content,T=v.id,P=ve(i.props.triggerTarget||e);P.forEach(function(A){var G=A.getAttribute(x);if(i.state.isVisible)A.setAttribute(x,G?G+" "+T:T);else{var q=G&&G.replace(T,"").trim();q?A.setAttribute(x,q):A.removeAttribute(x)}})}}function Z(){if(!(S||!i.props.aria.expanded)){var l=ve(i.props.triggerTarget||e);l.forEach(function(x){i.props.interactive?x.setAttribute("aria-expanded",i.state.isVisible&&x===I()?"true":"false"):x.removeAttribute("aria-expanded")})}}function ge(){j().removeEventListener("mousemove",O),vt=vt.filter(function(l){return l!==O})}function ee(l){if(!(re.isTouch&&(p||l.type==="mousedown"))){var x=l.composedPath&&l.composedPath()[0]||l.target;if(!(i.props.interactive&&Sn(v,x))){if(ve(i.props.triggerTarget||e).some(function(T){return Sn(T,x)})){if(re.isTouch||i.state.isVisible&&i.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[i,l]);i.props.hideOnClick===!0&&(i.clearDelayTimeouts(),i.hide(),u=!0,setTimeout(function(){u=!1}),i.state.isMounted||ie())}}}function he(){p=!0}function oe(){p=!1}function K(){var l=j();l.addEventListener("mousedown",ee,!0),l.addEventListener("touchend",ee,de),l.addEventListener("touchstart",oe,de),l.addEventListener("touchmove",he,de)}function ie(){var l=j();l.removeEventListener("mousedown",ee,!0),l.removeEventListener("touchend",ee,de),l.removeEventListener("touchstart",oe,de),l.removeEventListener("touchmove",he,de)}function Ee(l,x){Te(l,function(){!i.state.isVisible&&v.parentNode&&v.parentNode.contains(v)&&x()})}function ae(l,x){Te(l,x)}function Te(l,x){var T=U().box;function P(A){A.target===T&&(Ht(T,"remove",P),x())}if(l===0)return x();Ht(T,"remove",y),Ht(T,"add",P),y=P}function ce(l,x,T){T===void 0&&(T=!1);var P=ve(i.props.triggerTarget||e);P.forEach(function(A){A.addEventListener(l,x,T),g.push({node:A,eventType:l,handler:x,options:T})})}function Ce(){R()&&(ce("touchstart",je,{passive:!0}),ce("touchend",et,{passive:!0})),Mo(i.props.trigger).forEach(function(l){if(l!=="manual")switch(ce(l,je),l){case"mouseenter":ce("mouseleave",et);break;case"focus":ce(ko?"focusout":"blur",Be);break;case"focusin":ce("focusout",Be);break}})}function Qe(){g.forEach(function(l){var x=l.node,T=l.eventType,P=l.handler,A=l.options;x.removeEventListener(T,P,A)}),g=[]}function je(l){var x,T=!1;if(!(!i.state.isEnabled||Ne(l)||u)){var P=((x=c)==null?void 0:x.type)==="focus";c=l,h=l.currentTarget,Z(),!i.state.isVisible&&Ut(l)&&vt.forEach(function(A){return A(l)}),l.type==="click"&&(i.props.trigger.indexOf("mouseenter")<0||s)&&i.props.hideOnClick!==!1&&i.state.isVisible?T=!0:He(l),l.type==="click"&&(s=!T),T&&!P&&ye(l)}}function Ze(l){var x=l.target,T=I().contains(x)||v.contains(x);if(!(l.type==="mousemove"&&T)){var P=le().concat(v).map(function(A){var G,q=A._tippy,Me=(G=q.popperInstance)==null?void 0:G.state;return Me?{popperRect:A.getBoundingClientRect(),popperState:Me,props:n}:null}).filter(Boolean);So(P,l)&&(ge(),ye(l))}}function et(l){var x=Ne(l)||i.props.trigger.indexOf("click")>=0&&s;if(!x){if(i.props.interactive){i.hideWithInteractivity(l);return}ye(l)}}function Be(l){i.props.trigger.indexOf("focusin")<0&&l.target!==I()||i.props.interactive&&l.relatedTarget&&v.contains(l.relatedTarget)||ye(l)}function Ne(l){return re.isTouch?R()!==l.type.indexOf("touch")>=0:!1}function tt(){nt();var l=i.props,x=l.popperOptions,T=l.placement,P=l.offset,A=l.getReferenceClientRect,G=l.moveTransition,q=$()?ht(v).arrow:null,Me=A?{getBoundingClientRect:A,contextElement:A.contextElement||I()}:e,Jt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(st){var Ae=st.state;if($()){var hr=U(),Ot=hr.box;["placement","reference-hidden","escaped"].forEach(function(ut){ut==="placement"?Ot.setAttribute("data-placement",Ae.placement):Ae.attributes.popper["data-popper-"+ut]?Ot.setAttribute("data-"+ut,""):Ot.removeAttribute("data-"+ut)}),Ae.attributes.popper={}}}},be=[{name:"offset",options:{offset:P}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!G}},Jt];$()&&q&&be.push({name:"arrow",options:{element:q,padding:3}}),be.push.apply(be,x?.modifiers||[]),i.popperInstance=Bn.createPopper(Me,v,Object.assign({},x,{placement:T,onFirstUpdate:w,modifiers:be}))}function nt(){i.popperInstance&&(i.popperInstance.destroy(),i.popperInstance=null)}function se(){var l=i.props.appendTo,x,T=I();i.props.interactive&&l===_n||l==="parent"?x=T.parentNode:x=Wn(l,[T]),x.contains(v)||x.appendChild(v),i.state.isMounted=!0,tt(),process.env.NODE_ENV!=="production"&&pe(i.props.interactive&&l===V.appendTo&&T.nextElementSibling!==v,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function le(){return Re(v.querySelectorAll("[data-tippy-root]"))}function He(l){i.clearDelayTimeouts(),l&&k("onTrigger",[i,l]),K();var x=B(!0),T=L(),P=T[0],A=T[1];re.isTouch&&P==="hold"&&A&&(x=A),x?r=setTimeout(function(){i.show()},x):i.show()}function ye(l){if(i.clearDelayTimeouts(),k("onUntrigger",[i,l]),!i.state.isVisible){ie();return}if(!(i.props.trigger.indexOf("mouseenter")>=0&&i.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(l.type)>=0&&s)){var x=B(!1);x?o=setTimeout(function(){i.state.isVisible&&i.hide()},x):a=requestAnimationFrame(function(){i.hide()})}}function Ge(){i.state.isEnabled=!0}function rt(){i.hide(),i.state.isEnabled=!1}function ot(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(a)}function it(l){if(process.env.NODE_ENV!=="production"&&pe(i.state.isDestroyed,$e("setProps")),!i.state.isDestroyed){k("onBeforeUpdate",[i,l]),Qe();var x=i.props,T=$n(e,Object.assign({},x,Pn(l),{ignoreAttributes:!0}));i.props=T,Ce(),x.interactiveDebounce!==T.interactiveDebounce&&(ge(),O=An(Ze,T.interactiveDebounce)),x.triggerTarget&&!T.triggerTarget?ve(x.triggerTarget).forEach(function(P){P.removeAttribute("aria-expanded")}):T.triggerTarget&&e.removeAttribute("aria-expanded"),Z(),N(),M&&M(x,T),i.popperInstance&&(tt(),le().forEach(function(P){requestAnimationFrame(P._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[i,l])}}function at(l){i.setProps({content:l})}function fr(){process.env.NODE_ENV!=="production"&&pe(i.state.isDestroyed,$e("show"));var l=i.state.isVisible,x=i.state.isDestroyed,T=!i.state.isEnabled,P=re.isTouch&&!i.props.touch,A=Bt(i.props.duration,0,V.duration);if(!(l||x||T||P)&&!I().hasAttribute("disabled")&&(k("onShow",[i],!1),i.props.onShow(i)!==!1)){if(i.state.isVisible=!0,$()&&(v.style.visibility="visible"),N(),K(),i.state.isMounted||(v.style.transition="none"),$()){var G=U(),q=G.box,Me=G.content;Nt([q,Me],0)}w=function(){var be;if(!(!i.state.isVisible||f)){if(f=!0,v.offsetHeight,v.style.transition=i.props.moveTransition,$()&&i.props.animation){var xt=U(),st=xt.box,Ae=xt.content;Nt([st,Ae],A),Ye([st,Ae],"visible")}Q(),Z(),Dn(gt,i),(be=i.popperInstance)==null||be.forceUpdate(),k("onMount",[i]),i.props.animation&&$()&&ae(A,function(){i.state.isShown=!0,k("onShown",[i])})}},se()}}function dr(){process.env.NODE_ENV!=="production"&&pe(i.state.isDestroyed,$e("hide"));var l=!i.state.isVisible,x=i.state.isDestroyed,T=!i.state.isEnabled,P=Bt(i.props.duration,1,V.duration);if(!(l||x||T)&&(k("onHide",[i],!1),i.props.onHide(i)!==!1)){if(i.state.isVisible=!1,i.state.isShown=!1,f=!1,s=!1,$()&&(v.style.visibility="hidden"),ge(),ie(),N(!0),$()){var A=U(),G=A.box,q=A.content;i.props.animation&&(Nt([G,q],P),Ye([G,q],"hidden"))}Q(),Z(),i.props.animation?$()&&Ee(P,i.unmount):i.unmount()}}function vr(l){process.env.NODE_ENV!=="production"&&pe(i.state.isDestroyed,$e("hideWithInteractivity")),j().addEventListener("mousemove",O),Dn(vt,O),O(l)}function mr(){process.env.NODE_ENV!=="production"&&pe(i.state.isDestroyed,$e("unmount")),i.state.isVisible&&i.hide(),i.state.isMounted&&(nt(),le().forEach(function(l){l._tippy.unmount()}),v.parentNode&&v.parentNode.removeChild(v),gt=gt.filter(function(l){return l!==i}),i.state.isMounted=!1,k("onHidden",[i]))}function gr(){process.env.NODE_ENV!=="production"&&pe(i.state.isDestroyed,$e("destroy")),!i.state.isDestroyed&&(i.clearDelayTimeouts(),i.unmount(),Qe(),delete e._tippy,i.state.isDestroyed=!0,k("onDestroy",[i]))}}function me(e,t){t===void 0&&(t={});var n=V.plugins.concat(t.plugins||[]);process.env.NODE_ENV!=="production"&&(No(e),Jn(t,n)),$o();var r=Object.assign({},t,{plugins:n}),o=Po(e);if(process.env.NODE_ENV!=="production"){var a=ze(r.content),s=o.length>1;pe(a&&s,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var u=o.reduce(function(p,f){var c=f&&Fo(f,r);return c&&p.push(c),p},[]);return ze(e)?u[0]:u}me.defaultProps=V;me.setDefaultProps=Vo;me.currentInput=re;var qo=function(t){var n=t===void 0?{}:t,r=n.exclude,o=n.duration;gt.forEach(function(a){var s=!1;if(r&&(s=Fn(r)?a.reference===r:a.popper===r.popper),!s){var u=a.props.duration;a.setProps({duration:o}),a.hide(),a.state.isDestroyed||a.setProps({duration:u})}})},zo=Object.assign({},Bn.applyStyles,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),Yo=function(t,n){var r;n===void 0&&(n={}),process.env.NODE_ENV!=="production"&&ke(!Array.isArray(t),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(t)].join(" "));var o=t,a=[],s=[],u,p=n.overrides,f=[],c=!1;function y(){s=o.map(function(i){return ve(i.props.triggerTarget||i.reference)}).reduce(function(i,b){return i.concat(b)},[])}function w(){a=o.map(function(i){return i.reference})}function g(i){o.forEach(function(b){i?b.enable():b.disable()})}function O(i){return o.map(function(b){var v=b.setProps;return b.setProps=function(M){v(M),b.reference===u&&i.setProps(M)},function(){b.setProps=v}})}function h(i,b){var v=s.indexOf(b);if(b!==u){u=b;var M=(p||[]).concat("content").reduce(function(D,S){return D[S]=o[v].props[S],D},{});i.setProps(Object.assign({},M,{getReferenceClientRect:typeof M.getReferenceClientRect=="function"?M.getReferenceClientRect:function(){var D;return(D=a[v])==null?void 0:D.getBoundingClientRect()}}))}}g(!1),w(),y();var m={fn:function(){return{onDestroy:function(){g(!0)},onHidden:function(){u=null},onClickOutside:function(v){v.props.showOnCreate&&!c&&(c=!0,u=null)},onShow:function(v){v.props.showOnCreate&&!c&&(c=!0,h(v,a[0]))},onTrigger:function(v,M){h(v,M.currentTarget)}}}},d=me(Oe(),Object.assign({},Wt(n,["overrides"]),{plugins:[m].concat(n.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat(((r=n.popperOptions)==null?void 0:r.modifiers)||[],[zo])})})),E=d.show;d.show=function(i){if(E(),!u&&i==null)return h(d,a[0]);if(!(u&&i==null)){if(typeof i=="number")return a[i]&&h(d,a[i]);if(o.indexOf(i)>=0){var b=i.reference;return h(d,b)}if(a.indexOf(i)>=0)return h(d,i)}},d.showNext=function(){var i=a[0];if(!u)return d.show(0);var b=a.indexOf(u);d.show(a[b+1]||i)},d.showPrevious=function(){var i=a[a.length-1];if(!u)return d.show(i);var b=a.indexOf(u),v=a[b-1]||i;d.show(v)};var C=d.setProps;return d.setProps=function(i){p=i.overrides||p,C(i)},d.setInstances=function(i){g(!0),f.forEach(function(b){return b()}),o=i,g(!1),w(),y(),f=O(d),d.setProps({triggerTarget:s})},f=O(d),d},Xo={mouseover:"mouseenter",focusin:"focus",click:"click"};function Ko(e,t){process.env.NODE_ENV!=="production"&&ke(!(t&&t.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var n=[],r=[],o=!1,a=t.target,s=Wt(t,["target"]),u=Object.assign({},s,{trigger:"manual",touch:!1}),p=Object.assign({touch:V.touch},s,{showOnCreate:!0}),f=me(e,u),c=ve(f);function y(m){if(!(!m.target||o)){var d=m.target.closest(a);if(d){var E=d.getAttribute("data-tippy-trigger")||t.trigger||V.trigger;if(!d._tippy&&!(m.type==="touchstart"&&typeof p.touch=="boolean")&&!(m.type!=="touchstart"&&E.indexOf(Xo[m.type])<0)){var C=me(d,p);C&&(r=r.concat(C))}}}}function w(m,d,E,C){C===void 0&&(C=!1),m.addEventListener(d,E,C),n.push({node:m,eventType:d,handler:E,options:C})}function g(m){var d=m.reference;w(d,"touchstart",y,de),w(d,"mouseover",y),w(d,"focusin",y),w(d,"click",y)}function O(){n.forEach(function(m){var d=m.node,E=m.eventType,C=m.handler,i=m.options;d.removeEventListener(E,C,i)}),n=[]}function h(m){var d=m.destroy,E=m.enable,C=m.disable;m.destroy=function(i){i===void 0&&(i=!0),i&&r.forEach(function(b){b.destroy()}),r=[],O(),d()},m.enable=function(){E(),r.forEach(function(i){return i.enable()}),o=!1},m.disable=function(){C(),r.forEach(function(i){return i.disable()}),o=!0},g(m)}return c.forEach(h),f}var Jo={name:"animateFill",defaultValue:!1,fn:function(t){var n;if(!((n=t.props.render)!=null&&n.$$tippy))return process.env.NODE_ENV!=="production"&&ke(t.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var r=ht(t.popper),o=r.box,a=r.content,s=t.props.animateFill?Qo():null;return{onCreate:function(){s&&(o.insertBefore(s,o.firstElementChild),o.setAttribute("data-animatefill",""),o.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var p=o.style.transitionDuration,f=Number(p.replace("ms",""));a.style.transitionDelay=Math.round(f/10)+"ms",s.style.transitionDuration=p,Ye([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&Ye([s],"hidden")}}}};function Qo(){var e=Oe();return e.className=Hn,Ye([e],"hidden"),e}var Vt={clientX:0,clientY:0},mt=[];function Zn(e){var t=e.clientX,n=e.clientY;Vt={clientX:t,clientY:n}}function Zo(e){e.addEventListener("mousemove",Zn)}function ei(e){e.removeEventListener("mousemove",Zn)}var ti={name:"followCursor",defaultValue:!1,fn:function(t){var n=t.reference,r=qn(t.props.triggerTarget||n),o=!1,a=!1,s=!0,u=t.props;function p(){return t.props.followCursor==="initial"&&t.state.isVisible}function f(){r.addEventListener("mousemove",w)}function c(){r.removeEventListener("mousemove",w)}function y(){o=!0,t.setProps({getReferenceClientRect:null}),o=!1}function w(h){var m=h.target?n.contains(h.target):!0,d=t.props.followCursor,E=h.clientX,C=h.clientY,i=n.getBoundingClientRect(),b=E-i.left,v=C-i.top;(m||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var D=n.getBoundingClientRect(),S=E,L=C;d==="initial"&&(S=D.left+b,L=D.top+v);var R=d==="horizontal"?D.top:L,$=d==="vertical"?D.right:S,I=d==="horizontal"?D.bottom:L,j=d==="vertical"?D.left:S;return{width:$-j,height:I-R,top:R,right:$,bottom:I,left:j}}})}function g(){t.props.followCursor&&(mt.push({instance:t,doc:r}),Zo(r))}function O(){mt=mt.filter(function(h){return h.instance!==t}),mt.filter(function(h){return h.doc===r}).length===0&&ei(r)}return{onCreate:g,onDestroy:O,onBeforeUpdate:function(){u=t.props},onAfterUpdate:function(m,d){var E=d.followCursor;o||E!==void 0&&u.followCursor!==E&&(O(),E?(g(),t.state.isMounted&&!a&&!p()&&f()):(c(),y()))},onMount:function(){t.props.followCursor&&!a&&(s&&(w(Vt),s=!1),p()||f())},onTrigger:function(m,d){Ut(d)&&(Vt={clientX:d.clientX,clientY:d.clientY}),a=d.type==="focus"},onHidden:function(){t.props.followCursor&&(y(),c(),s=!0)}}}};function ni(e,t){var n;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((n=e.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var o=r.name;return o!==t.name}),[t])})}}var ri={name:"inlinePositioning",defaultValue:!1,fn:function(t){var n=t.reference;function r(){return!!t.props.inlinePositioning}var o,a=-1,s=!1,u=[],p={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(g){var O=g.state;r()&&(u.indexOf(O.placement)!==-1&&(u=[]),o!==O.placement&&u.indexOf(O.placement)===-1&&(u.push(O.placement),t.setProps({getReferenceClientRect:function(){return f(O.placement)}})),o=O.placement)}};function f(w){return oi(Un(w),n.getBoundingClientRect(),Re(n.getClientRects()),a)}function c(w){s=!0,t.setProps(w),s=!1}function y(){s||c(ni(t.props,p))}return{onCreate:y,onAfterUpdate:y,onTrigger:function(g,O){if(Ut(O)){var h=Re(t.reference.getClientRects()),m=h.find(function(E){return E.left-2<=O.clientX&&E.right+2>=O.clientX&&E.top-2<=O.clientY&&E.bottom+2>=O.clientY}),d=h.indexOf(m);a=d>-1?d:a}},onHidden:function(){a=-1}}}};function oi(e,t,n,r){if(n.length<2||e===null)return t;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||t;switch(e){case"top":case"bottom":{var o=n[0],a=n[n.length-1],s=e==="top",u=o.top,p=a.bottom,f=s?o.left:a.left,c=s?o.right:a.right,y=c-f,w=p-u;return{top:u,bottom:p,left:f,right:c,width:y,height:w}}case"left":case"right":{var g=Math.min.apply(Math,n.map(function(v){return v.left})),O=Math.max.apply(Math,n.map(function(v){return v.right})),h=n.filter(function(v){return e==="left"?v.left===g:v.right===O}),m=h[0].top,d=h[h.length-1].bottom,E=g,C=O,i=C-E,b=d-m;return{top:m,bottom:d,left:E,right:C,width:i,height:b}}default:return t}}var ii={name:"sticky",defaultValue:!1,fn:function(t){var n=t.reference,r=t.popper;function o(){return t.popperInstance?t.popperInstance.state.elements.reference:n}function a(f){return t.props.sticky===!0||t.props.sticky===f}var s=null,u=null;function p(){var f=a("reference")?o().getBoundingClientRect():null,c=a("popper")?r.getBoundingClientRect():null;(f&&jn(s,f)||c&&jn(u,c))&&t.popperInstance&&t.popperInstance.update(),s=f,u=c,t.state.isMounted&&requestAnimationFrame(p)}return{onMount:function(){t.props.sticky&&p()}}}};function jn(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}me.setDefaultProps({render:Qn});J.animateFill=Jo;J.createSingleton=Yo;J.default=me;J.delegate=Ko;J.followCursor=ti;J.hideAll=qo;J.inlinePositioning=ri;J.roundArrow=Eo;J.sticky=ii});var gi={};Er(gi,{default:()=>mi});module.exports=Tr(gi);var wt=en(er(),1);var Ke={selector:".gene-tooltip",api:"mygene",prefetch:"smart",prefetchThreshold:15,truncateSummary:4,display:{species:!0,location:!0,ideogram:!0,pathways:!0,domains:!0},ideogram:{enabled:!0,height:100,showLabels:!1},pathwaySource:"reactome",pathwayCount:3,domainCount:3,tippyOptions:{allowHTML:!0,interactive:!0,placement:"bottom",theme:"light"}};var Ft=new Map,qt=(e,t)=>`${e}_${t}`,tr=(e,t)=>Ft.has(qt(e,t)),zt=(e,t)=>Ft.get(qt(e,t)),Yt=(e,t,n)=>{Ft.set(qt(e,t),n)},nr=(e,t)=>{e.forEach((n,r)=>{Yt(r,t,n)})};async function yt(e,t){if(!e||e.length===0)return new Map;console.log(`Making BATCH request for ${e.length} genes in species: ${t}`);let n="https://mygene.info/v3/query",r=e.join(","),o=["_id","query","symbol","name","summary","taxid","genomic_pos","pathway","interpro"].join(",");try{let a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`q=${r}&species=${t}&scopes=symbol&fields=${o}`});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);let s=await a.json(),u=new Map;for(let p of s)p.notfound||u.set(p.query,p);return u}catch(a){return console.error("Batch fetch failed:",a),new Map}}var or=[{key:"ncbi",name:"NCBI",url:e=>`https://www.ncbi.nlm.nih.gov/gene/${e}`,requires:"id"},{key:"ensembl",name:"Ensembl",url:e=>`https://www.ensembl.org/id/${e}`,requires:"id"},{key:"genecards",name:"GeneCards",url:e=>`https://www.genecards.org/cgi-bin/carddisp.pl?gene=${e}`,requires:"symbol"}];var ai={9606:{common:"Human",genus:"Homo sapiens",icon:"\u{1F9D1}"},10090:{common:"Mouse",genus:"Mus musculus",icon:"\u{1F42D}"},10116:{common:"Rat",genus:"Rattus norvegicus",icon:"\u{1F400}"},7227:{common:"Fruitfly",genus:"Drosophila melanogaster",icon:"\u{1FAB0}"},6239:{common:"Nematode",genus:"Caenorhabditis elegans",icon:"\u{1FAB1}"},7955:{common:"Zebrafish",genus:"Danio rerio",icon:"\u{1F41F}"},3702:{common:"Thale-cress",genus:"Arabidopsis thaliana",icon:"\u{1F331}"},8364:{common:"Frog",genus:"Xenopus tropicalis",icon:"\u{1F438}"},9823:{common:"Pig",genus:"Sus scrofa",icon:"\u{1F416}"}};function si(e){let t=ai[e]??{common:"Unknown",genus:"",icon:"\u2753"};return`
    <div class="gene-tooltip-section gene-tooltip-species">
      <span class="gene-tooltip-species-icon">${t.icon}</span>
      <span>${t.common}, <em>${t.genus}</em></span>
    </div>
  `}function ui(e,t=!1,n=""){if(!e)return"";let r=Array.isArray(e)?e[0]:e;if(!r)return"";let o=r.start.toLocaleString(),a=r.end.toLocaleString();return`
      <div class="gene-tooltip-section gene-tooltip-location">
        <div>
          <span class="gene-tooltip-location-label">Location:</span>
          <span>chr${r.chr}:${o}-${a}</span>
        </div>
        ${t?`<div class="gene-tooltip-ideo" id="gene-tooltip-ideo-${n}"></div>`:""}
      </div>
    `}function ir(e,t,n,r){if(!t||t.length===0)return"";let o=t.slice(0,n),a=t.length-n,s=o.map(p=>`
      <li>
        <a href="${p.url}" target="_blank" rel="noopener noreferrer">${p.name}</a>
      </li>
    `).join(""),u=a>0?`<span id="${r}" class="gene-tooltip-more-btn" data-more-count="${a}">
         ... and ${a} more
       </span>`:"";return a>0,`
    <div class="gene-tooltip-section gene-tooltip-list-section">
      <div class="gene-tooltip-list-header">${e}</div>
      <ul>${s}</ul>
      ${u}
    </div>
  `}function pi(e,t,n){let r=e.pathway?.[t];if(!r)return"";let o=(Array.isArray(r)?r:[r]).map(s=>{let u="#";return t==="reactome"&&(u=`https://reactome.org/content/detail/${s.id}`),t==="kegg"&&(u=`https://www.genome.jp/dbget-bin/www_bget?path:${s.id}`),t==="wikipathways"&&(u=`https://www.wikipathways.org/pathways/${s.id}`),{name:s.name,url:u}}).sort((s,u)=>s.name.localeCompare(u.name)),a=`pathways-more-${e._id}`;return ir("Pathways",o,n,a)}function ci(e,t){let n=e.interpro;if(!n)return"";let r=(Array.isArray(n)?n:[n]).map(a=>({name:a.short_desc,url:`https://www.ebi.ac.uk/interpro/entry/InterPro/${a.id}`})).sort((a,s)=>a.name.localeCompare(s.name)),o=`domains-more-${e._id}`;return ir("Protein Domains",r,t,o)}function Xt(e,t={}){if(!e)return"<p>Gene not found.</p>";let{sources:n=["ncbi"],truncate:r=5,display:o={},pathwaySource:a="reactome",pathwayCount:s=3,domainCount:u=3}=t,p=or.filter(g=>n.includes(g.key)).map(g=>g.requires==="id"&&!e._id||g.requires==="symbol"&&!e.symbol?"":`<a href="${g.url(e._id||e.symbol)}"
                 target="_blank"
                 rel="noopener noreferrer">
                ${g.name}
              </a>`).filter(Boolean).join(" | "),f=e.summary||"No summary available.",c=r&&f.length>0?"gene-tooltip-summary":"gene-tooltip-summary-full",y=r?'tabindex="0"':"",w=r?`style="--line-clamp: ${r};"`:"";return`
    <div class="gene-tooltip-content" style="text-align: left; max-width: 300px;">
      <div class="gene-tooltip-header">
        <strong>
          <a href="https://www.ncbi.nlm.nih.gov/gene/${e._id}" 
             target="_blank" 
             rel="noopener noreferrer"
             class="gene-tooltip-link">
            ${e.symbol}
          </a>
        </strong>
        <span class="gene-tooltip-name">(${e.name})</span>
      </div>

      ${o.species!==!1&&e.taxid?si(e.taxid):""}
      ${o.location!==!1?ui(e.genomic_pos,o.ideogram,e._id):""}
      
      <p class="${c}" ${y} ${w}>${f}</p>

      ${o.pathways!==!1?pi(e,a,s):""}
      ${o.domains!==!1?ci(e,u):""}
      
      ${p?`<div class="gene-tooltip-links">${p}</div>`:""}
    </div>
  `}function ar(e){let t=Array.from(document.querySelectorAll(e)),n=[],r=/[,\s;]+/;return t.forEach(o=>{let s=(o.textContent||"").trim().split(r).filter(Boolean);if(s.length>1){let u=o.dataset.species;if(!u){console.warn("Gene list container found without a data-species attribute. Skipping.",o);return}o.innerHTML="",s.forEach((p,f)=>{let c=document.createElement("span");c.textContent=p,c.dataset.species=u;let y=e.startsWith(".")?e.substring(1):e;c.classList.add(y),o.appendChild(c),n.push(c),f<s.length-1&&o.appendChild(document.createTextNode(", "))})}else s.length===1&&(o.textContent=s[0],n.push(o))}),n}function Je(e){let t=e.textContent?.trim(),n=e.dataset.species;return!t||!n?null:{symbol:t,species:n}}function sr(e){let t=new Map;return e.forEach(n=>{let r=Je(n);!r||tr(r.symbol,r.species)||(t.has(r.species)||t.set(r.species,new Set),t.get(r.species).add(r.symbol))}),t}async function ur(e){let t=Array.from(e.entries()).map(([n,r])=>yt(Array.from(r),n).then(o=>nr(o,n)));await Promise.all(t)}function li(e){let t=sr(e);ur(t)}function fi(e){let t=new Set,n=null,r=()=>{if(t.size===0)return;let a=sr(Array.from(t));ur(a),t.clear()},o=new IntersectionObserver((a,s)=>{a.forEach(u=>{u.isIntersecting&&(t.add(u.target),s.unobserve(u.target),n&&clearTimeout(n),n=setTimeout(r,200))})},{rootMargin:"200px"});e.forEach(a=>o.observe(a))}function pr(e,t,n){let r=t.length;e==="all"||e==="smart"&&r<=n?(console.log(`Prefetching all ${r} genes.`),li(t)):e==="smart"&&r>n&&(console.log("Using 'smart' prefetch strategy with IntersectionObserver."),fi(t))}function cr(){document.addEventListener("click",e=>{let t=e.target;t.classList.contains("gene-tooltip-summary")&&t.classList.toggle("expanded")}),document.addEventListener("keydown",e=>{let t=e.target;t?.classList.contains("gene-tooltip-summary")&&(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),t.classList.toggle("expanded"))})}var bt=null;async function di(){if(bt)return bt;if(window.Ideogram)return Promise.resolve(window.Ideogram);if(typeof window<"u"&&typeof document<"u"&&typeof window.GeneTooltip<"u"){let t=`[GeneTooltip] Ideogram global variable not found.
Please ensure the Ideogram script is loaded on the page
before initializing GeneTooltip, or use the ESM/CJS build.`;return console.error(t),Promise.reject(new Error(t))}return bt=import("ideogram").then(t=>t.default).catch(t=>{let n=`[GeneTooltip] Failed to load Ideogram. 
Please ensure 'ideogram' is installed (it's a peer dependency).`;return console.error(n,t),Promise.reject(new Error(n))}),bt}async function Kt(e,t,n){console.log("[GeneTooltip] Starting renderIdeogram for:",t.symbol);let r=e.popper.querySelector(".gene-tooltip-ideo");try{let o=await di();if(!o){r&&(r.innerHTML="<small>Ideogram unavailable</small>");return}let a=`#gene-tooltip-ideo-${t._id}`,s=e.popper.querySelector(a);if(!s){console.error(`[GeneTooltip] CRITICAL: Ideogram container '${a}' not found.`);return}let u=Array.isArray(t.genomic_pos)?t.genomic_pos[0]:t.genomic_pos;if(!u){s.innerHTML="<small>No genomic position</small>";return}let p=String(u.chr);p.toLowerCase().startsWith("chr")&&(p=p.substring(3));let f="human";t.taxid===10090&&(f="mouse");let c={container:a,organism:f,chromosome:p,chrHeight:n.height??100,orientation:"horizontal",showBandLabels:n.showLabels??!1,annotations:[{name:t.symbol,chr:p,start:u.start,stop:u.end}]};new o(c),console.log("[GeneTooltip] Ideogram initialized.")}catch(o){console.error("[GeneTooltip] Ideogram failed to render:",o),r&&(r.innerHTML="<small>Ideogram not installed or failed to load.</small>")}}function lr(e){return`<ul class="gene-tooltip-nested-list">${e.map(n=>`<li><a href="${n.url}" target="_blank" rel="noopener noreferrer">${n.name}</a></li>`).join("")}</ul>`}function vi(e={}){let t={...Ke,...e,display:{...Ke.display,...e.display},ideogram:{...Ke.ideogram,...e.ideogram},tippyOptions:{...Ke.tippyOptions,...e.tippyOptions}},n=ar(t.selector);n.length!==0&&(pr(t.prefetch,n,t.prefetchThreshold),(0,wt.default)(n,{...t.tippyOptions,content:"Loading...",onShow(r){let o=Je(r.reference);if(!o){r.setContent("Invalid gene element");return}let{symbol:a,species:s}=o,u={truncate:t.truncateSummary,display:{...t.display,ideogram:t.ideogram?.enabled??!1},pathwaySource:t.pathwaySource,pathwayCount:t.pathwayCount,domainCount:t.domainCount},p=zt(a,s);if(typeof p<"u"){r.setContent(Xt(p,u)),t.ideogram?.enabled&&p?.genomic_pos&&setTimeout(()=>{Kt(r,p,t.ideogram)},0);return}yt([a],s).then(f=>{let c=f.get(a)||null;Yt(a,s,c),r.setContent(Xt(c,u)),t.ideogram?.enabled&&c?.genomic_pos&&setTimeout(()=>{Kt(r,c,t.ideogram)},0)}).catch(f=>{console.error(`Failed to fetch data for ${a}`,f),r.setContent("Error loading data.")})},onMount(r){let o=Je(r.reference);if(!o)return;let a=zt(o.symbol,o.species);if(!a)return;r._nestedTippys=[];let s=r.popper.querySelector(`#pathways-more-${a._id}`);if(s&&a.pathway?.[t.pathwaySource]){let p=a.pathway[t.pathwaySource],f=(Array.isArray(p)?p:[p]).map(y=>{let w="#";return t.pathwaySource==="reactome"&&(w=`https://reactome.org/content/detail/${y.id}`),t.pathwaySource==="kegg"&&(w=`https://www.genome.jp/dbget-bin/www_bget?path:${y.id}`),t.pathwaySource==="wikipathways"&&(w=`https://www.wikipathways.org/pathways/${y.id}`),{name:y.name,url:w}}).sort((y,w)=>y.name.localeCompare(w.name)),c=(0,wt.default)(s,{content:lr(f),allowHTML:!0,interactive:!0,trigger:"mouseenter focus",placement:"right",theme:"light"});r._nestedTippys.push(c)}let u=r.popper.querySelector(`#domains-more-${a._id}`);if(u&&a.interpro){let p=a.interpro,f=(Array.isArray(p)?p:[p]).map(y=>({name:y.short_desc,url:`https://www.ebi.ac.uk/interpro/entry/InterPro/${y.id}`})).sort((y,w)=>y.name.localeCompare(w.name)),c=(0,wt.default)(u,{content:lr(f),allowHTML:!0,interactive:!0,trigger:"mouseenter focus",placement:"right",theme:"light"});r._nestedTippys.push(c)}},onHidden(r){r._nestedTippys&&(r._nestedTippys.forEach(o=>o.destroy()),r._nestedTippys=[])}}),cr())}var mi={init:vi};
