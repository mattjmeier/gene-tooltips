/*
 * Style the main TomSelect wrapper. This is the container that
 * replaces your original <select>.
 */
.tippy-box .ts-wrapper.gt-transcript-selector {
  font-size: 11px;
}

/*
 * Style the control box (the part you click on). This is where
 * borders, backgrounds, and padding should go.
 */
.tippy-box .ts-wrapper.gt-transcript-selector .ts-control {
  padding: 2px 6px;
  border-radius: 4px;
  
  /* Use theme variables for consistency */
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  background-color: var(--gt-background-color-subtle);

  /* TomSelect generates its own arrow, so we don't need a background image */
  box-shadow: none; /* Remove default TomSelect shadow if you don't want it */
}

/*
 * Style the text of the selected item inside the control box.
 */
.tippy-box .ts-wrapper.gt-transcript-selector .ts-control .item {
  color: var(--gt-text-color);
  padding-right: 10px; /* Give some space for the arrow */
}

/* Style the dropdown menu itself */
.tippy-box .ts-wrapper.gt-transcript-selector .ts-dropdown {
  background: var(--gt-background-color);
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
}

/* Style the options inside the dropdown */
.tippy-box .ts-wrapper.gt-transcript-selector .ts-dropdown .option {
  padding: 4px 6px;
}

/* Style the highlighted/active option */
.tippy-box .ts-wrapper.gt-transcript-selector .ts-dropdown .option.active {
  background-color: var(--gt-highlight-color);
  color: var(--gt-text-color-highlight);
}

















/* 
 * Tom Select theming to match the Gene Tooltip container.
 * The .gene-tooltip-content prefix increases specificity to override defaults.
*/

/* The main control wrapper */
.gene-tooltip-content .ts-wrapper .ts-control {
  background-color: var(--gt-secondary-bg-color, #f1f1f1); /* A slightly different bg for inputs */
  color: var(--gt-text-color, #333);
  border: 1px solid var(--gt-border-color, #ccc);
  border-radius: 4px;
  box-shadow: none;
  padding: 4px 8px;
  font-size: 0.9em;
}

/* Style when focused */
.gene-tooltip-content .ts-wrapper.focus .ts-control {
  box-shadow: none;
  border-color: var(--gt-primary-color, #007bff);
}

/* The dropdown panel itself */
.gene-tooltip-content .ts-dropdown {
  background-color: var(--gt-bg-color, #fff);
  color: var(--gt-text-color, #333);
  border: 1px solid var(--gt-border-color, #ccc);
  border-top: none; /* Often looks better without the top border */
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* Individual options in the dropdown */
.gene-tooltip-content .ts-dropdown .option {
  padding: 6px 8px;
}

/* The hovered/active option in the dropdown */
.gene-tooltip-content .ts-dropdown .option.active,
.gene-tooltip-content .ts-dropdown .option:hover {
  background-color: var(--gt-primary-color, #007bff);
  color: var(--gt-primary-text-color, #fff);
}

/* The input caret color */
.gene-tooltip-content .ts-wrapper .ts-control > input::placeholder {
    color: var(--gt-secondary-text-color, #888);
}
.gene-tooltip-content .ts-wrapper.input-active .ts-control > input {
    color: var(--gt-text-color, #333);
}













/* 1. Style the main control input */
.tippy-box .ts-control {
  background-color: transparent; /* Use the tooltip's background */
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  font-size: 0.75rem; /* Make it smaller */
  padding: 2px 6px;   /* Reduce padding */
  min-height: auto;   /* Remove default min-height */
  border-radius: 4px;
  box-shadow: none;
}

/* 2. Style the text item inside the control */
.tippy-box .ts-control .item {
  padding: 0;
  font-size: 0.75rem;
  color: var(--gt-text-color);
}

/* 3. Style the dropdown menu container */
.tippy-box .ts-dropdown {
  /* Use Tippy's own background variable for a perfect match */
  background-color: var(--tippy-background-color, #333);
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  font-size: 0.75rem; /* Match the control font size */
}

/* 4. Style the individual options in the dropdown */
.tippy-box .ts-dropdown .option {
  padding: 4px 8px; /* Give options some space */
}

/* 5. Style the hover, active (keyboard), and selected states */
.tippy-box .ts-dropdown .option:hover {
  background-color: var(--gt-background-color-subtle);
}

.tippy-box .ts-dropdown .option.active,
.tippy-box .ts-dropdown .option.selected {
  background-color: var(--gt-accent-color);
  color: #fff; /* Use high-contrast color for text on accent background */
}

/* 6. Hide the tiny, unnecessary text input caret */
.tippy-box .ts-control > input {
  color: var(--gt-text-color) !important;
}

.tippy-box.ts-wrapper.single .ts-control:after {
    border-color: var(--gt-text-color-secondary) transparent transparent transparent;
}


















.tippy-box .gene-tooltip-track-controls .ts-control {
  /* Style the main input box */
  background-color: var(--gt-background-color-subtle);
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  padding: 2px 8px; /* Make it smaller */
  font-size: 0.8em; /* Make it smaller */
  min-height: auto;
  box-shadow: none;
  border-radius: 4px;
}

.tippy-box .gene-tooltip-track-controls .ts-control .item {
  /* Style the selected item text */
  color: var(--gt-text-color);
  padding: 0;
  background-color: transparent;
}

/* When the dropdown is open */
.tippy-box .gene-tooltip-track-controls .ts-control.dropdown-active {
  border-color: var(--gt-accent-color);
}

.tippy-box .ts-dropdown {
  /* Style the dropdown menu container */
  background-color: var(--tippy-background-color, #333); /* Inherit from tippy */
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  font-size: 0.8em; /* Match the control size */
  z-index: 10; /* Ensure it appears above the D3 SVG */
}

.tippy-box .ts-dropdown .option {
  /* Style individual options */
  padding: 4px 8px; /* Make them smaller */
  color: var(--gt-text-color-secondary);
}

.tippy-box .ts-dropdown .option.active,
.tippy-box .ts-dropdown .option:hover {
  /* Style the highlighted/hovered option */
  background-color: var(--gt-accent-color);
  color: white; /* Use a high-contrast color for the text */
}

/* Ensure the selected item in the dropdown has a distinct style */
.tippy-box .ts-dropdown .option.selected {
    color: var(--gt-text-color);
    font-weight: 600;
}































.tippy-box .gene-tooltip-track-controls .ts-control {
  /* Style the main input box */
  background-color: var(--gt-background-color-subtle);
  // border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  // padding: 2px 8px; /* Make it smaller */
  // font-size: 0.8em; /* Make it smaller */
  min-height: auto;
  box-shadow: none;
  border-radius: 4px;
}

.tippy-box .gene-tooltip-track-controls .ts-control .item {
  /* Style the selected item text */
  color: var(--gt-text-color);
  padding: 0;
  background-color: transparent;
}

.tippy-box .ts-dropdown {
  /* Style the dropdown menu container */
  background-color: var(--gt-background-color-base); 
  border: 1px solid var(--gt-border-color);
  color: var(--gt-text-color);
  font-size: 0.8em;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Good for popping it out */
  // z-index: 10; /* Ensure dropdown is on top of other content */
}

.tippy-box .ts-dropdown .option {
  /* Style individual options */
  padding: 4px 8px; /* Make them smaller */
  color: var(--gt-text-color-secondary);
}

.tippy-box .ts-dropdown .option.active,
.tippy-box .ts-dropdown .option:hover {
  /* Style the highlighted/hovered option */
  background-color: var(--gt-background-color-subtle);
  color: var(--gt-text-color);
}

/* Ensure the selected item in the dropdown has a distinct style */
.tippy-box .ts-dropdown .option.selected {
    color: var(--gt-text-color);
    font-weight: 600;
}